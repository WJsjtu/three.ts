window["THREE"]=
/******/function(modules){// webpackBootstrap
/******/ // The module cache
/******/var installedModules={};
/******/
/******/ // The require function
/******/function __webpack_require__(moduleId){
/******/
/******/ // Check if module is in cache
/******/if(installedModules[moduleId]){
/******/return installedModules[moduleId].exports;
/******/}
/******/ // Create a new module (and put it into the cache)
/******/var module=installedModules[moduleId]={
/******/i:moduleId,
/******/l:false,
/******/exports:{}
/******/};
/******/
/******/ // Execute the module function
/******/modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);
/******/
/******/ // Flag the module as loaded
/******/module.l=true;
/******/
/******/ // Return the exports of the module
/******/return module.exports;
/******/}
/******/
/******/
/******/ // expose the modules object (__webpack_modules__)
/******/__webpack_require__.m=modules;
/******/
/******/ // expose the module cache
/******/__webpack_require__.c=installedModules;
/******/
/******/ // define getter function for harmony exports
/******/__webpack_require__.d=function(exports,name,getter){
/******/if(!__webpack_require__.o(exports,name)){
/******/Object.defineProperty(exports,name,{
/******/configurable:false,
/******/enumerable:true,
/******/get:getter
/******/});
/******/}
/******/};
/******/
/******/ // define __esModule on exports
/******/__webpack_require__.r=function(exports){
/******/Object.defineProperty(exports,"__esModule",{value:true});
/******/};
/******/
/******/ // getDefaultExport function for compatibility with non-harmony modules
/******/__webpack_require__.n=function(module){
/******/var getter=module&&module.__esModule?
/******/function getDefault(){return module["default"]}:
/******/function getModuleExports(){return module};
/******/__webpack_require__.d(getter,"a",getter);
/******/return getter;
/******/};
/******/
/******/ // Object.prototype.hasOwnProperty.call
/******/__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};
/******/
/******/ // __webpack_public_path__
/******/__webpack_require__.p="";
/******/
/******/
/******/ // Load entry module and return exports
/******/return __webpack_require__(__webpack_require__.s="./es/Three.js");
/******/}
/************************************************************************/
/******/({
/***/"./es/Three.js":
/*!*********************!*\
  !*** ./es/Three.js ***!
  \*********************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={WebGLRenderTargetCube:true,WebGLRenderTarget:true,WebGLRenderer:true,ShaderLib:true,UniformsLib:true,UniformsUtils:true,ShaderChunk:true,FogExp2:true,Fog:true,Scene:true,Sprite:true,LOD:true,SkinnedMesh:true,Skeleton:true,Bone:true,Mesh:true,LineSegments:true,LineLoop:true,Line:true,Points:true,Group:true,VideoTexture:true,DataTexture:true,CompressedTexture:true,CubeTexture:true,CanvasTexture:true,DepthTexture:true,Texture:true,SpotLightShadow:true,SpotLight:true,PointLight:true,RectAreaLight:true,HemisphereLight:true,DirectionalLightShadow:true,DirectionalLight:true,AmbientLight:true,LightShadow:true,Light:true,PerspectiveCamera:true,OrthographicCamera:true,ArrayCamera:true,Camera:true,AudioListener:true,PositionalAudio:true,AudioContext:true,AudioAnalyser:true,Audio:true,InstancedBufferGeometry:true,BufferGeometry:true,Geometry:true,InterleavedBufferAttribute:true,InstancedInterleavedBufferAttribute:true,InstancedBufferAttribute:true,Face3:true,Object3D:true,Raycaster:true,Layers:true,EventDispatcher:true,Clock:true,Triangle:true,Math:true,Spherical:true,Plane:true,Frustum:true,Sphere:true,Ray:true,Matrix2:true,Matrix3:true,Matrix4:true,Box3:true,Line3:true,Euler:true,Vector4:true,Vector3:true,Vector2:true,Quaternion:true,Color:true,ImmediateRenderObject:true,WebGLUtils:true};Object.defineProperty(exports,"WebGLRenderTargetCube",{enumerable:true,get:function get(){return _WebGLRenderTargetCube.WebGLRenderTargetCube}});Object.defineProperty(exports,"WebGLRenderTarget",{enumerable:true,get:function get(){return _WebGLRenderTarget.WebGLRenderTarget}});Object.defineProperty(exports,"WebGLRenderer",{enumerable:true,get:function get(){return _WebGLRenderer.WebGLRenderer}});Object.defineProperty(exports,"ShaderLib",{enumerable:true,get:function get(){return _ShaderLib.ShaderLib}});Object.defineProperty(exports,"UniformsLib",{enumerable:true,get:function get(){return _UniformsLib.UniformsLib}});Object.defineProperty(exports,"UniformsUtils",{enumerable:true,get:function get(){return _UniformsUtils.UniformsUtils}});Object.defineProperty(exports,"ShaderChunk",{enumerable:true,get:function get(){return _ShaderChunk.ShaderChunk}});Object.defineProperty(exports,"FogExp2",{enumerable:true,get:function get(){return _FogExp.FogExp2}});Object.defineProperty(exports,"Fog",{enumerable:true,get:function get(){return _Fog.Fog}});Object.defineProperty(exports,"Scene",{enumerable:true,get:function get(){return _Scene.Scene}});Object.defineProperty(exports,"Sprite",{enumerable:true,get:function get(){return _Sprite.Sprite}});Object.defineProperty(exports,"LOD",{enumerable:true,get:function get(){return _LOD.LOD}});Object.defineProperty(exports,"SkinnedMesh",{enumerable:true,get:function get(){return _SkinnedMesh.SkinnedMesh}});Object.defineProperty(exports,"Skeleton",{enumerable:true,get:function get(){return _Skeleton.Skeleton}});Object.defineProperty(exports,"Bone",{enumerable:true,get:function get(){return _Bone.Bone}});Object.defineProperty(exports,"Mesh",{enumerable:true,get:function get(){return _Mesh.Mesh}});Object.defineProperty(exports,"LineSegments",{enumerable:true,get:function get(){return _LineSegments.LineSegments}});Object.defineProperty(exports,"LineLoop",{enumerable:true,get:function get(){return _LineLoop.LineLoop}});Object.defineProperty(exports,"Line",{enumerable:true,get:function get(){return _Line.Line}});Object.defineProperty(exports,"Points",{enumerable:true,get:function get(){return _Points.Points}});Object.defineProperty(exports,"Group",{enumerable:true,get:function get(){return _Group.Group}});Object.defineProperty(exports,"VideoTexture",{enumerable:true,get:function get(){return _VideoTexture.VideoTexture}});Object.defineProperty(exports,"DataTexture",{enumerable:true,get:function get(){return _DataTexture.DataTexture}});Object.defineProperty(exports,"CompressedTexture",{enumerable:true,get:function get(){return _CompressedTexture.CompressedTexture}});Object.defineProperty(exports,"CubeTexture",{enumerable:true,get:function get(){return _CubeTexture.CubeTexture}});Object.defineProperty(exports,"CanvasTexture",{enumerable:true,get:function get(){return _CanvasTexture.CanvasTexture}});Object.defineProperty(exports,"DepthTexture",{enumerable:true,get:function get(){return _DepthTexture.DepthTexture}});Object.defineProperty(exports,"Texture",{enumerable:true,get:function get(){return _Texture.Texture}});Object.defineProperty(exports,"SpotLightShadow",{enumerable:true,get:function get(){return _SpotLightShadow.SpotLightShadow}});Object.defineProperty(exports,"SpotLight",{enumerable:true,get:function get(){return _SpotLight.SpotLight}});Object.defineProperty(exports,"PointLight",{enumerable:true,get:function get(){return _PointLight.PointLight}});Object.defineProperty(exports,"RectAreaLight",{enumerable:true,get:function get(){return _RectAreaLight.RectAreaLight}});Object.defineProperty(exports,"HemisphereLight",{enumerable:true,get:function get(){return _HemisphereLight.HemisphereLight}});Object.defineProperty(exports,"DirectionalLightShadow",{enumerable:true,get:function get(){return _DirectionalLightShadow.DirectionalLightShadow}});Object.defineProperty(exports,"DirectionalLight",{enumerable:true,get:function get(){return _DirectionalLight.DirectionalLight}});Object.defineProperty(exports,"AmbientLight",{enumerable:true,get:function get(){return _AmbientLight.AmbientLight}});Object.defineProperty(exports,"LightShadow",{enumerable:true,get:function get(){return _LightShadow.LightShadow}});Object.defineProperty(exports,"Light",{enumerable:true,get:function get(){return _Light.Light}});Object.defineProperty(exports,"PerspectiveCamera",{enumerable:true,get:function get(){return _PerspectiveCamera.PerspectiveCamera}});Object.defineProperty(exports,"OrthographicCamera",{enumerable:true,get:function get(){return _OrthographicCamera.OrthographicCamera}});Object.defineProperty(exports,"ArrayCamera",{enumerable:true,get:function get(){return _ArrayCamera.ArrayCamera}});Object.defineProperty(exports,"Camera",{enumerable:true,get:function get(){return _Camera.Camera}});Object.defineProperty(exports,"AudioListener",{enumerable:true,get:function get(){return _AudioListener.AudioListenerWrapper}});Object.defineProperty(exports,"PositionalAudio",{enumerable:true,get:function get(){return _PositionalAudio.PositionalAudio}});Object.defineProperty(exports,"AudioContext",{enumerable:true,get:function get(){return _AudioContext.AudioContextWrapper}});Object.defineProperty(exports,"AudioAnalyser",{enumerable:true,get:function get(){return _AudioAnalyser.AudioAnalyserWrapper}});Object.defineProperty(exports,"Audio",{enumerable:true,get:function get(){return _Audio.AudioWrapper}});Object.defineProperty(exports,"InstancedBufferGeometry",{enumerable:true,get:function get(){return _InstancedBufferGeometry.InstancedBufferGeometry}});Object.defineProperty(exports,"BufferGeometry",{enumerable:true,get:function get(){return _BufferGeometry.BufferGeometry}});Object.defineProperty(exports,"Geometry",{enumerable:true,get:function get(){return _Geometry.Geometry}});Object.defineProperty(exports,"InterleavedBufferAttribute",{enumerable:true,get:function get(){return _InterleavedBufferAttribute.InterleavedBufferAttribute}});Object.defineProperty(exports,"InstancedInterleavedBufferAttribute",{enumerable:true,get:function get(){return _InstancedInterleavedBufferAttribute.InstancedInterleavedBufferAttribute}});Object.defineProperty(exports,"InstancedBufferAttribute",{enumerable:true,get:function get(){return _InstancedBufferAttribute.InstancedBufferAttribute}});Object.defineProperty(exports,"Face3",{enumerable:true,get:function get(){return _Face.Face3}});Object.defineProperty(exports,"Object3D",{enumerable:true,get:function get(){return _Object3D.Object3D}});Object.defineProperty(exports,"Raycaster",{enumerable:true,get:function get(){return _Raycaster.Raycaster}});Object.defineProperty(exports,"Layers",{enumerable:true,get:function get(){return _Layers.Layers}});Object.defineProperty(exports,"EventDispatcher",{enumerable:true,get:function get(){return _EventDispatcher.EventDispatcher}});Object.defineProperty(exports,"Clock",{enumerable:true,get:function get(){return _Clock.Clock}});Object.defineProperty(exports,"Triangle",{enumerable:true,get:function get(){return _Triangle.Triangle}});Object.defineProperty(exports,"Math",{enumerable:true,get:function get(){return _Math.MathUtil}});Object.defineProperty(exports,"Spherical",{enumerable:true,get:function get(){return _Spherical.Spherical}});Object.defineProperty(exports,"Plane",{enumerable:true,get:function get(){return _Plane.Plane}});Object.defineProperty(exports,"Frustum",{enumerable:true,get:function get(){return _Frustum.Frustum}});Object.defineProperty(exports,"Sphere",{enumerable:true,get:function get(){return _Sphere.Sphere}});Object.defineProperty(exports,"Ray",{enumerable:true,get:function get(){return _Ray.Ray}});Object.defineProperty(exports,"Matrix2",{enumerable:true,get:function get(){return _Matrix.Matrix2}});Object.defineProperty(exports,"Matrix3",{enumerable:true,get:function get(){return _Matrix2.Matrix3}});Object.defineProperty(exports,"Matrix4",{enumerable:true,get:function get(){return _Matrix3.Matrix4}});Object.defineProperty(exports,"Box3",{enumerable:true,get:function get(){return _Box.Box3}});Object.defineProperty(exports,"Line3",{enumerable:true,get:function get(){return _Line2.Line3}});Object.defineProperty(exports,"Euler",{enumerable:true,get:function get(){return _Euler.Euler}});Object.defineProperty(exports,"Vector4",{enumerable:true,get:function get(){return _Vector.Vector4}});Object.defineProperty(exports,"Vector3",{enumerable:true,get:function get(){return _Vector2.Vector3}});Object.defineProperty(exports,"Vector2",{enumerable:true,get:function get(){return _Vector3.Vector2}});Object.defineProperty(exports,"Quaternion",{enumerable:true,get:function get(){return _Quaternion.Quaternion}});Object.defineProperty(exports,"Color",{enumerable:true,get:function get(){return _Color.Color}});Object.defineProperty(exports,"ImmediateRenderObject",{enumerable:true,get:function get(){return _ImmediateRenderObject.ImmediateRenderObject}});Object.defineProperty(exports,"WebGLUtils",{enumerable:true,get:function get(){return _WebGLUtils.WebGLUtils}});var _WebGLRenderTargetCube=__webpack_require__(/*! ./renderers/WebGLRenderTargetCube */"./es/renderers/WebGLRenderTargetCube.js");var _WebGLRenderTarget=__webpack_require__(/*! ./renderers/WebGLRenderTarget */"./es/renderers/WebGLRenderTarget.js");var _WebGLRenderer=__webpack_require__(/*! ./renderers/WebGLRenderer */"./es/renderers/WebGLRenderer.js");var _ShaderLib=__webpack_require__(/*! ./renderers/shaders/ShaderLib */"./es/renderers/shaders/ShaderLib.js");var _UniformsLib=__webpack_require__(/*! ./renderers/shaders/UniformsLib */"./es/renderers/shaders/UniformsLib.js");var _UniformsUtils=__webpack_require__(/*! ./renderers/shaders/UniformsUtils */"./es/renderers/shaders/UniformsUtils.js");var _ShaderChunk=__webpack_require__(/*! ./renderers/shaders/ShaderChunk */"./es/renderers/shaders/ShaderChunk.js");var _FogExp=__webpack_require__(/*! ./scenes/FogExp2 */"./es/scenes/FogExp2.js");var _Fog=__webpack_require__(/*! ./scenes/Fog */"./es/scenes/Fog.js");var _Scene=__webpack_require__(/*! ./scenes/Scene */"./es/scenes/Scene.js");var _Sprite=__webpack_require__(/*! ./objects/Sprite */"./es/objects/Sprite.js");var _LOD=__webpack_require__(/*! ./objects/LOD */"./es/objects/LOD.js");var _SkinnedMesh=__webpack_require__(/*! ./objects/SkinnedMesh */"./es/objects/SkinnedMesh.js");var _Skeleton=__webpack_require__(/*! ./objects/Skeleton */"./es/objects/Skeleton.js");var _Bone=__webpack_require__(/*! ./objects/Bone */"./es/objects/Bone.js");var _Mesh=__webpack_require__(/*! ./objects/Mesh */"./es/objects/Mesh.js");var _LineSegments=__webpack_require__(/*! ./objects/LineSegments */"./es/objects/LineSegments.js");var _LineLoop=__webpack_require__(/*! ./objects/LineLoop */"./es/objects/LineLoop.js");var _Line=__webpack_require__(/*! ./objects/Line */"./es/objects/Line.js");var _Points=__webpack_require__(/*! ./objects/Points */"./es/objects/Points.js");var _Group=__webpack_require__(/*! ./objects/Group */"./es/objects/Group.js");var _VideoTexture=__webpack_require__(/*! ./textures/VideoTexture */"./es/textures/VideoTexture.js");var _DataTexture=__webpack_require__(/*! ./textures/DataTexture */"./es/textures/DataTexture.js");var _CompressedTexture=__webpack_require__(/*! ./textures/CompressedTexture */"./es/textures/CompressedTexture.js");var _CubeTexture=__webpack_require__(/*! ./textures/CubeTexture */"./es/textures/CubeTexture.js");var _CanvasTexture=__webpack_require__(/*! ./textures/CanvasTexture */"./es/textures/CanvasTexture.js");var _DepthTexture=__webpack_require__(/*! ./textures/DepthTexture */"./es/textures/DepthTexture.js");var _Texture=__webpack_require__(/*! ./textures/Texture */"./es/textures/Texture.js");var _Geometries=__webpack_require__(/*! ./geometries/Geometries */"./es/geometries/Geometries.js");Object.keys(_Geometries).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _Geometries[key]}})});var _Materials=__webpack_require__(/*! ./materials/Materials */"./es/materials/Materials.js");Object.keys(_Materials).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _Materials[key]}})});var _SpotLightShadow=__webpack_require__(/*! ./lights/SpotLightShadow */"./es/lights/SpotLightShadow.js");var _SpotLight=__webpack_require__(/*! ./lights/SpotLight */"./es/lights/SpotLight.js");var _PointLight=__webpack_require__(/*! ./lights/PointLight */"./es/lights/PointLight.js");var _RectAreaLight=__webpack_require__(/*! ./lights/RectAreaLight */"./es/lights/RectAreaLight.js");var _HemisphereLight=__webpack_require__(/*! ./lights/HemisphereLight */"./es/lights/HemisphereLight.js");var _DirectionalLightShadow=__webpack_require__(/*! ./lights/DirectionalLightShadow */"./es/lights/DirectionalLightShadow.js");var _DirectionalLight=__webpack_require__(/*! ./lights/DirectionalLight */"./es/lights/DirectionalLight.js");var _AmbientLight=__webpack_require__(/*! ./lights/AmbientLight */"./es/lights/AmbientLight.js");var _LightShadow=__webpack_require__(/*! ./lights/LightShadow */"./es/lights/LightShadow.js");var _Light=__webpack_require__(/*! ./lights/Light */"./es/lights/Light.js");var _PerspectiveCamera=__webpack_require__(/*! ./cameras/PerspectiveCamera */"./es/cameras/PerspectiveCamera.js");var _OrthographicCamera=__webpack_require__(/*! ./cameras/OrthographicCamera */"./es/cameras/OrthographicCamera.js");var _ArrayCamera=__webpack_require__(/*! ./cameras/ArrayCamera */"./es/cameras/ArrayCamera.js");var _Camera=__webpack_require__(/*! ./cameras/Camera */"./es/cameras/Camera.js");var _AudioListener=__webpack_require__(/*! ./audio/AudioListener */"./es/audio/AudioListener.js");var _PositionalAudio=__webpack_require__(/*! ./audio/PositionalAudio */"./es/audio/PositionalAudio.js");var _AudioContext=__webpack_require__(/*! ./audio/AudioContext */"./es/audio/AudioContext.js");var _AudioAnalyser=__webpack_require__(/*! ./audio/AudioAnalyser */"./es/audio/AudioAnalyser.js");var _Audio=__webpack_require__(/*! ./audio/Audio */"./es/audio/Audio.js");var _InstancedBufferGeometry=__webpack_require__(/*! ./core/InstancedBufferGeometry */"./es/core/InstancedBufferGeometry.js");var _BufferGeometry=__webpack_require__(/*! ./core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry=__webpack_require__(/*! ./core/Geometry */"./es/core/Geometry.js");var _InterleavedBufferAttribute=__webpack_require__(/*! ./core/InterleavedBufferAttribute */"./es/core/InterleavedBufferAttribute.js");var _InstancedInterleavedBufferAttribute=__webpack_require__(/*! ./core/InstancedInterleavedBufferAttribute */"./es/core/InstancedInterleavedBufferAttribute.js");var _InstancedBufferAttribute=__webpack_require__(/*! ./core/InstancedBufferAttribute */"./es/core/InstancedBufferAttribute.js");var _BufferAttribute=__webpack_require__(/*! ./core/BufferAttribute */"./es/core/BufferAttribute.js");Object.keys(_BufferAttribute).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _BufferAttribute[key]}})});var _Face=__webpack_require__(/*! ./core/Face3 */"./es/core/Face3.js");var _Object3D=__webpack_require__(/*! ./core/Object3D */"./es/core/Object3D.js");var _Raycaster=__webpack_require__(/*! ./core/Raycaster */"./es/core/Raycaster.js");var _Layers=__webpack_require__(/*! ./core/Layers */"./es/core/Layers.js");var _EventDispatcher=__webpack_require__(/*! ./core/EventDispatcher */"./es/core/EventDispatcher.js");var _Clock=__webpack_require__(/*! ./core/Clock */"./es/core/Clock.js");var _Triangle=__webpack_require__(/*! ./math/Triangle */"./es/math/Triangle.js");var _Math=__webpack_require__(/*! ./math/Math */"./es/math/Math.js");var _Spherical=__webpack_require__(/*! ./math/Spherical */"./es/math/Spherical.js");var _Plane=__webpack_require__(/*! ./math/Plane */"./es/math/Plane.js");var _Frustum=__webpack_require__(/*! ./math/Frustum */"./es/math/Frustum.js");var _Sphere=__webpack_require__(/*! ./math/Sphere */"./es/math/Sphere.js");var _Ray=__webpack_require__(/*! ./math/Ray */"./es/math/Ray.js");var _Matrix=__webpack_require__(/*! ./math/Matrix2 */"./es/math/Matrix2.js");var _Matrix2=__webpack_require__(/*! ./math/Matrix3 */"./es/math/Matrix3.js");var _Matrix3=__webpack_require__(/*! ./math/Matrix4 */"./es/math/Matrix4.js");var _Box=__webpack_require__(/*! ./math/Box3 */"./es/math/Box3.js");var _Line2=__webpack_require__(/*! ./math/Line3 */"./es/math/Line3.js");var _Euler=__webpack_require__(/*! ./math/Euler */"./es/math/Euler.js");var _Vector=__webpack_require__(/*! ./math/Vector4 */"./es/math/Vector4.js");var _Vector2=__webpack_require__(/*! ./math/Vector3 */"./es/math/Vector3.js");var _Vector3=__webpack_require__(/*! ./math/Vector2 */"./es/math/Vector2.js");var _Quaternion=__webpack_require__(/*! ./math/Quaternion */"./es/math/Quaternion.js");var _Color=__webpack_require__(/*! ./math/Color */"./es/math/Color.js");var _ImmediateRenderObject=__webpack_require__(/*! ./extras/objects/ImmediateRenderObject */"./es/extras/objects/ImmediateRenderObject.js");var _WebGLUtils=__webpack_require__(/*! ./renderers/webgl/WebGLUtils */"./es/renderers/webgl/WebGLUtils.js");var _constants=__webpack_require__(/*! ./constants */"./es/constants.js");Object.keys(_constants).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _constants[key]}})});
/***/},
/***/"./es/audio/Audio.js":
/*!***************************!*\
  !*** ./es/audio/Audio.js ***!
  \***************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AudioWrapper=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AudioWrapper=
/* */
function(_Object3D){_inherits(AudioWrapper,_Object3D);function AudioWrapper(listener){var _this;_classCallCheck(this,AudioWrapper);_this=_possibleConstructorReturn(this,(AudioWrapper.__proto__||Object.getPrototypeOf(AudioWrapper)).call(this));_this.type="Audio";_this.startTime=0;_this.offset=0;_this.isPlaying=false;_this.hasPlaybackControl=true;_this.sourceType="empty";_this.autoplay=false;_this.buffer=null;_this.loop=false;_this.playbackRate=1;_this.filters=[];_this.context=listener.context;_this.gain=_this.context.createGain();_this.gain.connect(listener.getInput());return _this}_createClass(AudioWrapper,[{key:"getOutput",value:function getOutput(){return this.gain}},{key:"setNodeSource",value:function setNodeSource(audioNode){this.hasPlaybackControl=false;this.source=audioNode;this.sourceType="audioNode";this.connect();return this}},{key:"setBuffer",value:function setBuffer(audioBuffer){this.buffer=audioBuffer;this.sourceType="buffer";if(this.autoplay)this.play();return this}},{key:"play",value:function play(){if(this.isPlaying===true){console.warn("THREE.Audio: Audio is already playing.");return this}if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return this}var source=this.context.createBufferSource();source.buffer=this.buffer;source.loop=this.loop;source.onended=this.onEnded.bind(this);source.playbackRate.setValueAtTime(this.playbackRate,this.startTime);this.startTime=this.context.currentTime;source.start(this.startTime,this.offset);this.isPlaying=true;this.source=source;return this.connect()}},{key:"pause",value:function pause(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return this}if(this.isPlaying===true){this.source.stop();this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate;this.isPlaying=false}return this}},{key:"stop",value:function stop(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return this}this.source.stop();this.offset=0;this.isPlaying=false;return this}},{key:"connect",value:function connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var i=1,l=this.filters.length;i<l;i++){this.filters[i-1].connect(this.filters[i])}this.filters[this.filters.length-1].connect(this.getOutput())}else{this.source.connect(this.getOutput())}return this}},{key:"disconnect",value:function disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var i=1,l=this.filters.length;i<l;i++){this.filters[i-1].disconnect(this.filters[i])}this.filters[this.filters.length-1].disconnect(this.getOutput())}else{this.source.disconnect(this.getOutput())}return this}},{key:"getFilters",value:function getFilters(){return this.filters}},{key:"setFilters",value:function setFilters(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(this.isPlaying===true){this.disconnect();this.filters=value;this.connect()}else{this.filters=value}return this}},{key:"getFilter",value:function getFilter(){return this.getFilters()[0]}},{key:"setFilter",value:function setFilter(filter){return this.setFilters(filter?[filter]:[])}},{key:"setPlaybackRate",value:function setPlaybackRate(value){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return this}this.playbackRate=value;if(this.isPlaying===true){this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime)}return this}},{key:"getPlaybackRate",value:function getPlaybackRate(){return this.playbackRate}},{key:"onEnded",value:function onEnded(){this.isPlaying=false}},{key:"getLoop",value:function getLoop(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return false}return this.loop}},{key:"setLoop",value:function setLoop(value){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return this}this.loop=value;if(this.isPlaying===true){this.source.loop=this.loop}return this}},{key:"getVolume",value:function getVolume(){return this.gain.gain.value}},{key:"setVolume",value:function setVolume(value){this.gain.gain.value=value;return this}}]);return AudioWrapper}(_Object3D2.Object3D);exports.AudioWrapper=AudioWrapper;
/***/},
/***/"./es/audio/AudioAnalyser.js":
/*!***********************************!*\
  !*** ./es/audio/AudioAnalyser.js ***!
  \***********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AudioAnalyserWrapper=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var AudioAnalyserWrapper=
/* */
function(){function AudioAnalyserWrapper(audio){var fftSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2048;_classCallCheck(this,AudioAnalyserWrapper);this.analyser=audio.context.createAnalyser();this.analyser.fftSize=fftSize;this.data=new Uint8Array(this.analyser.frequencyBinCount);audio.getOutput().connect(this.analyser)}_createClass(AudioAnalyserWrapper,[{key:"getFrequencyData",value:function getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data}},{key:"getAverageFrequency",value:function getAverageFrequency(){var value=0;var data=this.getFrequencyData();for(var i=0;i<data.length;i++){value+=data[i]}return value/data.length}}]);return AudioAnalyserWrapper}();exports.AudioAnalyserWrapper=AudioAnalyserWrapper;
/***/},
/***/"./es/audio/AudioContext.js":
/*!**********************************!*\
  !*** ./es/audio/AudioContext.js ***!
  \**********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AudioContextWrapper=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var AudioContextWrapper=
/* */
function(){function AudioContextWrapper(){_classCallCheck(this,AudioContextWrapper)}_createClass(AudioContextWrapper,null,[{key:"getContext",value:function getContext(){if(AudioContextWrapper.context===undefined){AudioContextWrapper.context=new(window.AudioContext||window.webkitAudioContext)}return AudioContextWrapper.context}},{key:"setContext",value:function setContext(value){AudioContextWrapper.context=value}}]);return AudioContextWrapper}();exports.AudioContextWrapper=AudioContextWrapper;AudioContextWrapper.context=undefined;
/***/},
/***/"./es/audio/AudioListener.js":
/*!***********************************!*\
  !*** ./es/audio/AudioListener.js ***!
  \***********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AudioListenerWrapper=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _Quaternion=__webpack_require__(/*! ../math/Quaternion */"./es/math/Quaternion.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _AudioContext=__webpack_require__(/*! ./AudioContext */"./es/audio/AudioContext.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AudioListenerWrapper=
/* */
function(_Object3D){_inherits(AudioListenerWrapper,_Object3D);function AudioListenerWrapper(){var _this;_classCallCheck(this,AudioListenerWrapper);_this=_possibleConstructorReturn(this,(AudioListenerWrapper.__proto__||Object.getPrototypeOf(AudioListenerWrapper)).call(this));_this.type="AudioListener";_this.context=_AudioContext.AudioContextWrapper.getContext();_this.filter=null;_this.gain=_this.context.createGain();_this.gain.connect(_this.context.destination);return _this}_createClass(AudioListenerWrapper,[{key:"getInput",value:function getInput(){return this.gain}},{key:"removeFilter",value:function removeFilter(){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);this.gain.connect(this.context.destination);this.filter=null}}},{key:"getFilter",value:function getFilter(){return this.filter}},{key:"setFilter",value:function setFilter(value){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination)}else{this.gain.disconnect(this.context.destination)}this.filter=value;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this}},{key:"getMasterVolume",value:function getMasterVolume(){return this.gain.gain.value}},{key:"setMasterVolume",value:function setMasterVolume(value){this.gain.gain.value=value;return this}},{key:"updateMatrixWorld",value:function updateMatrixWorld(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_get(AudioListenerWrapper.prototype.__proto__||Object.getPrototypeOf(AudioListenerWrapper.prototype),"updateMatrixWorld",this).call(this,force);var position=new _Vector.Vector3;var quaternion=new _Quaternion.Quaternion;var scale=new _Vector.Vector3;var orientation=new _Vector.Vector3;var listener=this.context.listener;var up=this.up;this.matrixWorld.decompose(position,quaternion,scale);orientation.set(0,0,-1).applyQuaternion(quaternion);if(listener.positionX){listener.positionX.setValueAtTime(position.x,this.context.currentTime);listener.positionY.setValueAtTime(position.y,this.context.currentTime);listener.positionZ.setValueAtTime(position.z,this.context.currentTime);listener.forwardX.setValueAtTime(orientation.x,this.context.currentTime);listener.forwardY.setValueAtTime(orientation.y,this.context.currentTime);listener.forwardZ.setValueAtTime(orientation.z,this.context.currentTime);listener.upX.setValueAtTime(up.x,this.context.currentTime);listener.upY.setValueAtTime(up.y,this.context.currentTime);listener.upZ.setValueAtTime(up.z,this.context.currentTime)}else{listener.setPosition(position.x,position.y,position.z);listener.setOrientation(orientation.x,orientation.y,orientation.z,up.x,up.y,up.z)}return this}}]);return AudioListenerWrapper}(_Object3D2.Object3D);exports.AudioListenerWrapper=AudioListenerWrapper;
/***/},
/***/"./es/audio/PositionalAudio.js":
/*!*************************************!*\
  !*** ./es/audio/PositionalAudio.js ***!
  \*************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PositionalAudio=void 0;var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _Audio=__webpack_require__(/*! ./Audio */"./es/audio/Audio.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PositionalAudio=
/* */
function(_AudioWrapper){_inherits(PositionalAudio,_AudioWrapper);function PositionalAudio(listener){var _this;_classCallCheck(this,PositionalAudio);_this=_possibleConstructorReturn(this,(PositionalAudio.__proto__||Object.getPrototypeOf(PositionalAudio)).call(this,listener));_this.panner=_this.context.createPanner();_this.panner.connect(_this.gain);return _this}_createClass(PositionalAudio,[{key:"getOutput",value:function getOutput(){return this.panner}},{key:"getRefDistance",value:function getRefDistance(){return this.panner.refDistance}},{key:"setRefDistance",value:function setRefDistance(value){this.panner.refDistance=value}},{key:"getRolloffFactor",value:function getRolloffFactor(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function setRolloffFactor(value){this.panner.rolloffFactor=value}},{key:"getDistanceModel",value:function getDistanceModel(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function setDistanceModel(value){this.panner.distanceModel=value}},{key:"getMaxDistance",value:function getMaxDistance(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function setMaxDistance(value){this.panner.maxDistance=value}},{key:"updateMatrixWorld",value:function updateMatrixWorld(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_get(PositionalAudio.prototype.__proto__||Object.getPrototypeOf(PositionalAudio.prototype),"updateMatrixWorld",this).call(this,force);var position=new _Vector.Vector3;position.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(position.x,position.y,position.z);return this}}]);return PositionalAudio}(_Audio.AudioWrapper);exports.PositionalAudio=PositionalAudio;
/***/},
/***/"./es/cameras/ArrayCamera.js":
/*!***********************************!*\
  !*** ./es/cameras/ArrayCamera.js ***!
  \***********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ArrayCamera=void 0;var _PerspectiveCamera2=__webpack_require__(/*! ./PerspectiveCamera */"./es/cameras/PerspectiveCamera.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ArrayCamera=
/* */
function(_PerspectiveCamera){_inherits(ArrayCamera,_PerspectiveCamera);function ArrayCamera(){var _this;var cameras=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,ArrayCamera);_this=_possibleConstructorReturn(this,(ArrayCamera.__proto__||Object.getPrototypeOf(ArrayCamera)).call(this));_this.cameras=[];_this.cameras=cameras;return _this}return ArrayCamera}(_PerspectiveCamera2.PerspectiveCamera);exports.ArrayCamera=ArrayCamera;
/***/},
/***/"./es/cameras/Camera.js":
/*!******************************!*\
  !*** ./es/cameras/Camera.js ***!
  \******************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Camera=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _Matrix=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Camera=
/* */
function(_Object3D){_inherits(Camera,_Object3D);function Camera(){var _this;_classCallCheck(this,Camera);_this=_possibleConstructorReturn(this,(Camera.__proto__||Object.getPrototypeOf(Camera)).call(this));_this.type="Camera";_this.matrixWorldInverse=new _Matrix.Matrix4;_this.projectionMatrix=new _Matrix.Matrix4;return _this}_createClass(Camera,[{key:"updateMatrixWorld",value:function updateMatrixWorld(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_get(Camera.prototype.__proto__||Object.getPrototypeOf(Camera.prototype),"updateMatrixWorld",this).call(this,force);this.matrixWorldInverse.getInverse(this.matrixWorld);return this}},{key:"copy",value:function copy(source){var recursive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;_get(Camera.prototype.__proto__||Object.getPrototypeOf(Camera.prototype),"copy",this).call(this,source,recursive);this.matrixWorldInverse.copy(source.matrixWorldInverse);this.projectionMatrix.copy(source.projectionMatrix);return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"worldDirection",get:function get(){return(new _Vector.Vector3).set(0,0,-1).applyQuaternion(this.worldQuaternion)}}]);return Camera}(_Object3D2.Object3D);exports.Camera=Camera;
/***/},
/***/"./es/cameras/OrthographicCamera.js":
/*!******************************************!*\
  !*** ./es/cameras/OrthographicCamera.js ***!
  \******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OrthographicCamera=void 0;var _Camera2=__webpack_require__(/*! ./Camera */"./es/cameras/Camera.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OrthographicCamera=
/* */
function(_Camera){_inherits(OrthographicCamera,_Camera);function OrthographicCamera(){var _this;var left=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var right=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var top=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var bottom=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var near=arguments.length>4&&arguments[4]!==undefined?arguments[4]:.1;var far=arguments.length>5&&arguments[5]!==undefined?arguments[5]:2e3;_classCallCheck(this,OrthographicCamera);_this=_possibleConstructorReturn(this,(OrthographicCamera.__proto__||Object.getPrototypeOf(OrthographicCamera)).call(this));_this.type="OrthographicCamera";_this._left=0;_this._right=0;_this._top=0;_this._bottom=0;_this._zoom=1;_this._near=.1;_this._far=2e3;_this._view=null;_this._left=left;_this._right=right;_this._top=top;_this._bottom=bottom;_this._near=near;_this._far=far;_this.updateProjectionMatrix();return _this}_createClass(OrthographicCamera,[{key:"setViewOffset",value:function setViewOffset(fullWidth,fullHeight,x,y,width,height){this._view={enabled:true,fullHeight:fullHeight,fullWidth:fullWidth,height:height,offsetX:x,offsetY:y,width:width};return this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function clearViewOffset(){if(this.view!==null){this.view.enabled=false}return this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function updateProjectionMatrix(){var dx=(this.right-this.left)/(2*this.zoom);var dy=(this.top-this.bottom)/(2*this.zoom);var cx=(this.right+this.left)/2;var cy=(this.top+this.bottom)/2;var left=cx-dx;var right=cx+dx;var top=cy+dy;var bottom=cy-dy;if(this.view!==null&&this.view.enabled){var zoomW=this.zoom/(this.view.width/this.view.fullWidth);var zoomH=this.zoom/(this.view.height/this.view.fullHeight);var scaleW=(this.right-this.left)/this._view.width;var scaleH=(this.top-this.bottom)/this._view.height;left+=scaleW*(this.view.offsetX/zoomW);right=left+scaleW*(this.view.width/zoomW);top-=scaleH*(this.view.offsetY/zoomH);bottom=top-scaleH*(this.view.height/zoomH)}this.projectionMatrix.makeOrthographic(left,right,top,bottom,this.near,this.far);return this}},{key:"copy",value:function copy(source){_get(OrthographicCamera.prototype.__proto__||Object.getPrototypeOf(OrthographicCamera.prototype),"copy",this).call(this,source);this._top=source.top;this._bottom=source.bottom;this._left=source.left;this._right=source.right;this._zoom=source.zoom;this._near=source.near;this._far=source.far;this._view=source.view===null?null:Object.assign({},source.view);return this.updateProjectionMatrix()}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"zoom",get:function get(){return this._zoom},set:function set(_zoom){this._zoom=_zoom;this.updateProjectionMatrix()}},{key:"near",get:function get(){return this._near},set:function set(_near){this._near=_near;this.updateProjectionMatrix()}},{key:"far",get:function get(){return this._far},set:function set(_far){this._far=_far;this.updateProjectionMatrix()}},{key:"left",get:function get(){return this._left},set:function set(_left){this._left=_left;this.updateProjectionMatrix()}},{key:"right",get:function get(){return this._right},set:function set(_right){this._right=_right;this.updateProjectionMatrix()}},{key:"top",get:function get(){return this._top},set:function set(_top){this._top=_top;this.updateProjectionMatrix()}},{key:"bottom",get:function get(){return this._bottom},set:function set(_bottom){this._bottom=_bottom;this.updateProjectionMatrix()}},{key:"view",get:function get(){return this._view}}]);return OrthographicCamera}(_Camera2.Camera);exports.OrthographicCamera=OrthographicCamera;
/***/},
/***/"./es/cameras/PerspectiveCamera.js":
/*!*****************************************!*\
  !*** ./es/cameras/PerspectiveCamera.js ***!
  \*****************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PerspectiveCamera=void 0;var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Camera2=__webpack_require__(/*! ./Camera */"./es/cameras/Camera.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PerspectiveCamera=
/* */
function(_Camera){_inherits(PerspectiveCamera,_Camera);function PerspectiveCamera(){var _this;var fov=arguments.length>0&&arguments[0]!==undefined?arguments[0]:50;var aspect=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var near=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.1;var far=arguments.length>3&&arguments[3]!==undefined?arguments[3]:2e3;_classCallCheck(this,PerspectiveCamera);_this=_possibleConstructorReturn(this,(PerspectiveCamera.__proto__||Object.getPrototypeOf(PerspectiveCamera)).call(this));_this.type="PerspectiveCamera";_this.focus=10;_this._fov=50;_this._zoom=1;_this._near=.1;_this._far=2e3;_this._aspect=1;_this._view=null;
/**
     * width of the film (default in millimeters)
     * @type {number}
     */_this._filmGauge=35;
/**
     * horizontal film offset (same unit as gauge)
     * @type {number}
     */_this._filmOffset=0;_this._fov=fov;_this._aspect=aspect;_this._near=near;_this._far=far;_this.updateProjectionMatrix();return _this}_createClass(PerspectiveCamera,[{key:"setFocalLength",
/**
     * see http://www.bobatkins.com/photography/technical/field_of_view.html
     * Sets the FOV by focal length in respect to the current .filmGauge.
     *
     * The default film gauge is 35, so that the focal length can be specified for
     * a 35mm (full frame) camera.
     *
     * Values for focal length and film gauge must have the same unit.
     * @param focalLength
     * @returns {PerspectiveCamera}
     */
value:function setFocalLength(focalLength){var vExtentSlope=.5*this.getFilmHeight()/focalLength;this._fov=_Math.MathUtil.RAD2DEG*2*Math.atan(vExtentSlope);return this.updateProjectionMatrix()}},{key:"getFocalLength",value:function getFocalLength(){var vExtentSlope=Math.tan(_Math.MathUtil.DEG2RAD*.5*this.fov);return.5*this.getFilmHeight()/vExtentSlope}},{key:"getEffectiveFOV",value:function getEffectiveFOV(){return _Math.MathUtil.RAD2DEG*2*Math.atan(Math.tan(_Math.MathUtil.DEG2RAD*.5*this.fov)/this.zoom)}
/**
     * film not completely covered in portrait format (aspect < 1)
     * @returns {number}
     */},{key:"getFilmWidth",value:function getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}
/**
     * film not completely covered in landscape format (aspect > 1)
     * @returns {number}
     */},{key:"getFilmHeight",value:function getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}
/**
     * Sets an offset in a larger frustum. This is useful for multi-window or
     * multi-monitor/multi-machine setups.
     *
     * For example, if you have 3x2 monitors and each monitor is 1920x1080 and
     * the monitors are in grid like this
     *
     *   +---+---+---+
     *   | A | B | C |
     *   +---+---+---+
     *   | D | E | F |
     *   +---+---+---+
     *
     * then for each monitor you would call it like this
     *
     *   var w = 1920;
     *   var h = 1080;
     *   var fullWidth = w * 3;
     *   var fullHeight = h * 2;
     *
     *   --A--
     *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
     *   --B--
     *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
     *   --C--
     *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
     *   --D--
     *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
     *   --E--
     *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
     *   --F--
     *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );
     *
     *   Note there is no reason monitors have to be the same size or in a grid.
     */},{key:"setViewOffset",value:function setViewOffset(fullWidth,fullHeight,x,y,width,height){this._view={enabled:true,fullHeight:fullHeight,fullWidth:fullWidth,height:height,offsetX:x,offsetY:y,width:width};return this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function clearViewOffset(){if(this.view!==null){this.view.enabled=false}return this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function updateProjectionMatrix(){var near=this.near;var top=near*Math.tan(_Math.MathUtil.DEG2RAD*.5*this.fov)/this.zoom;var height=2*top;var width=this.aspect*height;var left=-.5*width;var view=this.view;if(this.view!==null&&this.view.enabled){var fullWidth=view.fullWidth,fullHeight=view.fullHeight;left+=view.offsetX*width/fullWidth;top-=view.offsetY*height/fullHeight;width*=view.width/fullWidth;height*=view.height/fullHeight}var skew=this.filmOffset;if(skew!==0)left+=near*skew/this.getFilmWidth();this.projectionMatrix.makePerspective(left,left+width,top,top-height,near,this.far);return this}},{key:"copy",value:function copy(source){_get(PerspectiveCamera.prototype.__proto__||Object.getPrototypeOf(PerspectiveCamera.prototype),"copy",this).call(this,source);this._fov=source.fov;this._zoom=source.zoom;this._near=source.near;this._far=source.far;this.focus=source.focus;this._aspect=source.aspect;this._view=source.view===null?null:Object.assign({},source.view);this._filmGauge=source.filmGauge;this._filmOffset=source.filmOffset;return this.updateProjectionMatrix()}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"fov",get:function get(){return this._fov},set:function set(_fov){this._fov=_fov;this.updateProjectionMatrix()}},{key:"zoom",get:function get(){return this._zoom},set:function set(_zoom){this._zoom=_zoom;this.updateProjectionMatrix()}},{key:"near",get:function get(){return this._near},set:function set(_near){this._near=_near;this.updateProjectionMatrix()}},{key:"far",get:function get(){return this._far},set:function set(_far){this._far=_far;this.updateProjectionMatrix()}},{key:"aspect",get:function get(){return this._aspect},set:function set(_aspect){this._aspect=_aspect;this.updateProjectionMatrix()}},{key:"view",get:function get(){return this._view}},{key:"filmGauge",get:function get(){return this._filmGauge},set:function set(_filmGauge){this._filmGauge=_filmGauge;this.updateProjectionMatrix()}},{key:"filmOffset",get:function get(){return this._filmOffset},set:function set(_filmOffset){this._filmOffset=_filmOffset;this.updateProjectionMatrix()}}]);return PerspectiveCamera}(_Camera2.Camera);exports.PerspectiveCamera=PerspectiveCamera;
/***/},
/***/"./es/constants.js":
/*!*************************!*\
  !*** ./es/constants.js ***!
  \*************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RGB_PVRTC_2BPPV1_Format=exports.RGB_PVRTC_4BPPV1_Format=exports.RGBA_S3TC_DXT5_Format=exports.RGBA_S3TC_DXT3_Format=exports.RGBA_S3TC_DXT1_Format=exports.RGB_S3TC_DXT1_Format=exports.DepthStencilFormat=exports.DepthFormat=exports.RGBEFormat=exports.LuminanceAlphaFormat=exports.LuminanceFormat=exports.RGBAFormat=exports.RGBFormat=exports.AlphaFormat=exports.UnsignedInt248Type=exports.UnsignedShort565Type=exports.UnsignedShort5551Type=exports.UnsignedShort4444Type=exports.HalfFloatType=exports.FloatType=exports.UnsignedIntType=exports.IntType=exports.UnsignedShortType=exports.ShortType=exports.ByteType=exports.UnsignedByteType=exports.LinearMipMapLinearFilter=exports.LinearMipMapNearestFilter=exports.LinearFilter=exports.NearestMipMapLinearFilter=exports.NearestMipMapNearestFilter=exports.NearestFilter=exports.MirroredRepeatWrapping=exports.ClampToEdgeWrapping=exports.RepeatWrapping=exports.CubeUVRefractionMapping=exports.CubeUVReflectionMapping=exports.SphericalReflectionMapping=exports.EquirectangularRefractionMapping=exports.EquirectangularReflectionMapping=exports.CubeRefractionMapping=exports.CubeReflectionMapping=exports.UVMapping=exports.CineonToneMapping=exports.Uncharted2ToneMapping=exports.ReinhardToneMapping=exports.LinearToneMapping=exports.NoToneMapping=exports.AddOperation=exports.MixOperation=exports.MultiplyOperation=exports.NotEqualDepth=exports.GreaterDepth=exports.GreaterEqualDepth=exports.EqualDepth=exports.LessEqualDepth=exports.LessDepth=exports.AlwaysDepth=exports.NeverDepth=exports.SrcAlphaSaturateFactor=exports.OneMinusDstColorFactor=exports.DstColorFactor=exports.OneMinusDstAlphaFactor=exports.DstAlphaFactor=exports.OneMinusSrcAlphaFactor=exports.SrcAlphaFactor=exports.OneMinusSrcColorFactor=exports.SrcColorFactor=exports.OneFactor=exports.ZeroFactor=exports.MaxEquation=exports.MinEquation=exports.ReverseSubtractEquation=exports.SubtractEquation=exports.AddEquation=exports.CustomBlending=exports.MultiplyBlending=exports.SubtractiveBlending=exports.AdditiveBlending=exports.NormalBlending=exports.NoBlending=exports.VertexColors=exports.FaceColors=exports.NoColors=exports.SmoothShading=exports.FlatShading=exports.DoubleSide=exports.BackSide=exports.FrontSide=exports.PCFSoftShadowMap=exports.PCFShadowMap=exports.BasicShadowMap=exports.FrontFaceDirectionCCW=exports.FrontFaceDirectionCW=exports.CullFaceFrontBack=exports.CullFaceFront=exports.CullFaceBack=exports.CullFaceNone=exports.MOUSE=exports.REVISION=void 0;exports.RGBADepthPacking=exports.BasicDepthPacking=exports.RGBDEncoding=exports.RGBM16Encoding=exports.RGBM7Encoding=exports.LogLuvEncoding=exports.RGBEEncoding=exports.GammaEncoding=exports.sRGBEncoding=exports.LinearEncoding=exports.TriangleFanDrawMode=exports.TriangleStripDrawMode=exports.TrianglesDrawMode=exports.WrapAroundEnding=exports.ZeroSlopeEnding=exports.ZeroCurvatureEnding=exports.InterpolateSmooth=exports.InterpolateLinear=exports.InterpolateDiscrete=exports.LoopPingPong=exports.LoopRepeat=exports.LoopOnce=exports.RGBA_ASTC_12x12_Format=exports.RGBA_ASTC_12x10_Format=exports.RGBA_ASTC_10x10_Format=exports.RGBA_ASTC_10x8_Format=exports.RGBA_ASTC_10x6_Format=exports.RGBA_ASTC_10x5_Format=exports.RGBA_ASTC_8x8_Format=exports.RGBA_ASTC_8x6_Format=exports.RGBA_ASTC_8x5_Format=exports.RGBA_ASTC_6x6_Format=exports.RGBA_ASTC_6x5_Format=exports.RGBA_ASTC_5x5_Format=exports.RGBA_ASTC_5x4_Format=exports.RGBA_ASTC_4x4_Format=exports.RGB_ETC1_Format=exports.RGBA_PVRTC_2BPPV1_Format=exports.RGBA_PVRTC_4BPPV1_Format=void 0;
/* tslint:disable */var REVISION="90dev";exports.REVISION=REVISION;var MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};exports.MOUSE=MOUSE;var CullFaceNone=0;exports.CullFaceNone=CullFaceNone;var CullFaceBack=1;exports.CullFaceBack=CullFaceBack;var CullFaceFront=2;exports.CullFaceFront=CullFaceFront;var CullFaceFrontBack=3;exports.CullFaceFrontBack=CullFaceFrontBack;var FrontFaceDirectionCW=0;exports.FrontFaceDirectionCW=FrontFaceDirectionCW;var FrontFaceDirectionCCW=1;exports.FrontFaceDirectionCCW=FrontFaceDirectionCCW;var BasicShadowMap=0;exports.BasicShadowMap=BasicShadowMap;var PCFShadowMap=1;exports.PCFShadowMap=PCFShadowMap;var PCFSoftShadowMap=2;exports.PCFSoftShadowMap=PCFSoftShadowMap;var FrontSide=0;exports.FrontSide=FrontSide;var BackSide=1;exports.BackSide=BackSide;var DoubleSide=2;exports.DoubleSide=DoubleSide;var FlatShading=1;exports.FlatShading=FlatShading;var SmoothShading=2;exports.SmoothShading=SmoothShading;var NoColors=0;exports.NoColors=NoColors;var FaceColors=1;exports.FaceColors=FaceColors;var VertexColors=2;exports.VertexColors=VertexColors;var NoBlending=0;exports.NoBlending=NoBlending;var NormalBlending=1;exports.NormalBlending=NormalBlending;var AdditiveBlending=2;exports.AdditiveBlending=AdditiveBlending;var SubtractiveBlending=3;exports.SubtractiveBlending=SubtractiveBlending;var MultiplyBlending=4;exports.MultiplyBlending=MultiplyBlending;var CustomBlending=5;exports.CustomBlending=CustomBlending;var AddEquation=100;exports.AddEquation=AddEquation;var SubtractEquation=101;exports.SubtractEquation=SubtractEquation;var ReverseSubtractEquation=102;exports.ReverseSubtractEquation=ReverseSubtractEquation;var MinEquation=103;exports.MinEquation=MinEquation;var MaxEquation=104;exports.MaxEquation=MaxEquation;var ZeroFactor=200;exports.ZeroFactor=ZeroFactor;var OneFactor=201;exports.OneFactor=OneFactor;var SrcColorFactor=202;exports.SrcColorFactor=SrcColorFactor;var OneMinusSrcColorFactor=203;exports.OneMinusSrcColorFactor=OneMinusSrcColorFactor;var SrcAlphaFactor=204;exports.SrcAlphaFactor=SrcAlphaFactor;var OneMinusSrcAlphaFactor=205;exports.OneMinusSrcAlphaFactor=OneMinusSrcAlphaFactor;var DstAlphaFactor=206;exports.DstAlphaFactor=DstAlphaFactor;var OneMinusDstAlphaFactor=207;exports.OneMinusDstAlphaFactor=OneMinusDstAlphaFactor;var DstColorFactor=208;exports.DstColorFactor=DstColorFactor;var OneMinusDstColorFactor=209;exports.OneMinusDstColorFactor=OneMinusDstColorFactor;var SrcAlphaSaturateFactor=210;exports.SrcAlphaSaturateFactor=SrcAlphaSaturateFactor;var NeverDepth=0;exports.NeverDepth=NeverDepth;var AlwaysDepth=1;exports.AlwaysDepth=AlwaysDepth;var LessDepth=2;exports.LessDepth=LessDepth;var LessEqualDepth=3;exports.LessEqualDepth=LessEqualDepth;var EqualDepth=4;exports.EqualDepth=EqualDepth;var GreaterEqualDepth=5;exports.GreaterEqualDepth=GreaterEqualDepth;var GreaterDepth=6;exports.GreaterDepth=GreaterDepth;var NotEqualDepth=7;exports.NotEqualDepth=NotEqualDepth;var MultiplyOperation=0;exports.MultiplyOperation=MultiplyOperation;var MixOperation=1;exports.MixOperation=MixOperation;var AddOperation=2;exports.AddOperation=AddOperation;var NoToneMapping=0;exports.NoToneMapping=NoToneMapping;var LinearToneMapping=1;exports.LinearToneMapping=LinearToneMapping;var ReinhardToneMapping=2;exports.ReinhardToneMapping=ReinhardToneMapping;var Uncharted2ToneMapping=3;exports.Uncharted2ToneMapping=Uncharted2ToneMapping;var CineonToneMapping=4;exports.CineonToneMapping=CineonToneMapping;var UVMapping=300;exports.UVMapping=UVMapping;var CubeReflectionMapping=301;exports.CubeReflectionMapping=CubeReflectionMapping;var CubeRefractionMapping=302;exports.CubeRefractionMapping=CubeRefractionMapping;var EquirectangularReflectionMapping=303;exports.EquirectangularReflectionMapping=EquirectangularReflectionMapping;var EquirectangularRefractionMapping=304;exports.EquirectangularRefractionMapping=EquirectangularRefractionMapping;var SphericalReflectionMapping=305;exports.SphericalReflectionMapping=SphericalReflectionMapping;var CubeUVReflectionMapping=306;exports.CubeUVReflectionMapping=CubeUVReflectionMapping;var CubeUVRefractionMapping=307;exports.CubeUVRefractionMapping=CubeUVRefractionMapping;var RepeatWrapping=1e3;exports.RepeatWrapping=RepeatWrapping;var ClampToEdgeWrapping=1001;exports.ClampToEdgeWrapping=ClampToEdgeWrapping;var MirroredRepeatWrapping=1002;exports.MirroredRepeatWrapping=MirroredRepeatWrapping;var NearestFilter=1003;exports.NearestFilter=NearestFilter;var NearestMipMapNearestFilter=1004;exports.NearestMipMapNearestFilter=NearestMipMapNearestFilter;var NearestMipMapLinearFilter=1005;exports.NearestMipMapLinearFilter=NearestMipMapLinearFilter;var LinearFilter=1006;exports.LinearFilter=LinearFilter;var LinearMipMapNearestFilter=1007;exports.LinearMipMapNearestFilter=LinearMipMapNearestFilter;var LinearMipMapLinearFilter=1008;exports.LinearMipMapLinearFilter=LinearMipMapLinearFilter;var UnsignedByteType=1009;exports.UnsignedByteType=UnsignedByteType;var ByteType=1010;exports.ByteType=ByteType;var ShortType=1011;exports.ShortType=ShortType;var UnsignedShortType=1012;exports.UnsignedShortType=UnsignedShortType;var IntType=1013;exports.IntType=IntType;var UnsignedIntType=1014;exports.UnsignedIntType=UnsignedIntType;var FloatType=1015;exports.FloatType=FloatType;var HalfFloatType=1016;exports.HalfFloatType=HalfFloatType;var UnsignedShort4444Type=1017;exports.UnsignedShort4444Type=UnsignedShort4444Type;var UnsignedShort5551Type=1018;exports.UnsignedShort5551Type=UnsignedShort5551Type;var UnsignedShort565Type=1019;exports.UnsignedShort565Type=UnsignedShort565Type;var UnsignedInt248Type=1020;exports.UnsignedInt248Type=UnsignedInt248Type;var AlphaFormat=1021;exports.AlphaFormat=AlphaFormat;var RGBFormat=1022;exports.RGBFormat=RGBFormat;var RGBAFormat=1023;exports.RGBAFormat=RGBAFormat;var LuminanceFormat=1024;exports.LuminanceFormat=LuminanceFormat;var LuminanceAlphaFormat=1025;exports.LuminanceAlphaFormat=LuminanceAlphaFormat;var RGBEFormat=RGBAFormat;exports.RGBEFormat=RGBEFormat;var DepthFormat=1026;exports.DepthFormat=DepthFormat;var DepthStencilFormat=1027;exports.DepthStencilFormat=DepthStencilFormat;var RGB_S3TC_DXT1_Format=33776;exports.RGB_S3TC_DXT1_Format=RGB_S3TC_DXT1_Format;var RGBA_S3TC_DXT1_Format=33777;exports.RGBA_S3TC_DXT1_Format=RGBA_S3TC_DXT1_Format;var RGBA_S3TC_DXT3_Format=33778;exports.RGBA_S3TC_DXT3_Format=RGBA_S3TC_DXT3_Format;var RGBA_S3TC_DXT5_Format=33779;exports.RGBA_S3TC_DXT5_Format=RGBA_S3TC_DXT5_Format;var RGB_PVRTC_4BPPV1_Format=35840;exports.RGB_PVRTC_4BPPV1_Format=RGB_PVRTC_4BPPV1_Format;var RGB_PVRTC_2BPPV1_Format=35841;exports.RGB_PVRTC_2BPPV1_Format=RGB_PVRTC_2BPPV1_Format;var RGBA_PVRTC_4BPPV1_Format=35842;exports.RGBA_PVRTC_4BPPV1_Format=RGBA_PVRTC_4BPPV1_Format;var RGBA_PVRTC_2BPPV1_Format=35843;exports.RGBA_PVRTC_2BPPV1_Format=RGBA_PVRTC_2BPPV1_Format;var RGB_ETC1_Format=36196;exports.RGB_ETC1_Format=RGB_ETC1_Format;var RGBA_ASTC_4x4_Format=37808;exports.RGBA_ASTC_4x4_Format=RGBA_ASTC_4x4_Format;var RGBA_ASTC_5x4_Format=37809;exports.RGBA_ASTC_5x4_Format=RGBA_ASTC_5x4_Format;var RGBA_ASTC_5x5_Format=37810;exports.RGBA_ASTC_5x5_Format=RGBA_ASTC_5x5_Format;var RGBA_ASTC_6x5_Format=37811;exports.RGBA_ASTC_6x5_Format=RGBA_ASTC_6x5_Format;var RGBA_ASTC_6x6_Format=37812;exports.RGBA_ASTC_6x6_Format=RGBA_ASTC_6x6_Format;var RGBA_ASTC_8x5_Format=37813;exports.RGBA_ASTC_8x5_Format=RGBA_ASTC_8x5_Format;var RGBA_ASTC_8x6_Format=37814;exports.RGBA_ASTC_8x6_Format=RGBA_ASTC_8x6_Format;var RGBA_ASTC_8x8_Format=37815;exports.RGBA_ASTC_8x8_Format=RGBA_ASTC_8x8_Format;var RGBA_ASTC_10x5_Format=37816;exports.RGBA_ASTC_10x5_Format=RGBA_ASTC_10x5_Format;var RGBA_ASTC_10x6_Format=37817;exports.RGBA_ASTC_10x6_Format=RGBA_ASTC_10x6_Format;var RGBA_ASTC_10x8_Format=37818;exports.RGBA_ASTC_10x8_Format=RGBA_ASTC_10x8_Format;var RGBA_ASTC_10x10_Format=37819;exports.RGBA_ASTC_10x10_Format=RGBA_ASTC_10x10_Format;var RGBA_ASTC_12x10_Format=37820;exports.RGBA_ASTC_12x10_Format=RGBA_ASTC_12x10_Format;var RGBA_ASTC_12x12_Format=37821;exports.RGBA_ASTC_12x12_Format=RGBA_ASTC_12x12_Format;var LoopOnce=2200;exports.LoopOnce=LoopOnce;var LoopRepeat=2201;exports.LoopRepeat=LoopRepeat;var LoopPingPong=2202;exports.LoopPingPong=LoopPingPong;var InterpolateDiscrete=2300;exports.InterpolateDiscrete=InterpolateDiscrete;var InterpolateLinear=2301;exports.InterpolateLinear=InterpolateLinear;var InterpolateSmooth=2302;exports.InterpolateSmooth=InterpolateSmooth;var ZeroCurvatureEnding=2400;exports.ZeroCurvatureEnding=ZeroCurvatureEnding;var ZeroSlopeEnding=2401;exports.ZeroSlopeEnding=ZeroSlopeEnding;var WrapAroundEnding=2402;exports.WrapAroundEnding=WrapAroundEnding;var TrianglesDrawMode=0;exports.TrianglesDrawMode=TrianglesDrawMode;var TriangleStripDrawMode=1;exports.TriangleStripDrawMode=TriangleStripDrawMode;var TriangleFanDrawMode=2;exports.TriangleFanDrawMode=TriangleFanDrawMode;var LinearEncoding=3e3;exports.LinearEncoding=LinearEncoding;var sRGBEncoding=3001;exports.sRGBEncoding=sRGBEncoding;var GammaEncoding=3007;exports.GammaEncoding=GammaEncoding;var RGBEEncoding=3002;exports.RGBEEncoding=RGBEEncoding;var LogLuvEncoding=3003;exports.LogLuvEncoding=LogLuvEncoding;var RGBM7Encoding=3004;exports.RGBM7Encoding=RGBM7Encoding;var RGBM16Encoding=3005;exports.RGBM16Encoding=RGBM16Encoding;var RGBDEncoding=3006;exports.RGBDEncoding=RGBDEncoding;var BasicDepthPacking=3200;exports.BasicDepthPacking=BasicDepthPacking;var RGBADepthPacking=3201;exports.RGBADepthPacking=RGBADepthPacking;
/***/},
/***/"./es/core/BufferAttribute.js":
/*!************************************!*\
  !*** ./es/core/BufferAttribute.js ***!
  \************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Float64BufferAttribute=exports.Float32BufferAttribute=exports.Uint32BufferAttribute=exports.Int32BufferAttribute=exports.Uint16BufferAttribute=exports.Int16BufferAttribute=exports.Uint8ClampedBufferAttribute=exports.Uint8BufferAttribute=exports.Int8BufferAttribute=exports.BufferAttribute=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");var _Vector2=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _Vector3=__webpack_require__(/*! ../math/Vector4 */"./es/math/Vector4.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var BufferAttribute=
/* */
function(){function BufferAttribute(array){var itemSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var normalized=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;_classCallCheck(this,BufferAttribute);this.uuid=_Math.MathUtil.generateUUID();this.name="";this.itemSize=1;this.count=0;this.normalized=false;this.dynamic=false;this.updateRange={offset:0,count:-1};this.version=0;this.array=array;this.itemSize=itemSize;this.count=array!==undefined?array.length/itemSize:0;this.normalized=normalized}_createClass(BufferAttribute,[{key:"setArray",value:function setArray(array){this.count=array!==undefined?array.length/this.itemSize:0;this.array=array;return this}},{key:"setDynamic",value:function setDynamic(value){this.dynamic=value;return this}},{key:"copy",value:function copy(source){this.array=new source.array.constructor;this.itemSize=source.itemSize;this.count=source.count;this.normalized=source.normalized;this.dynamic=source.dynamic;return this}},{key:"set",value:function set(value){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.array.set(value,offset);return this}},{key:"get",value:function get(){var offset=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var length=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return this.array.slice(offset,length)}},{key:"copyAt",value:function copyAt(index1,attribute,index2){index1*=this.itemSize;index2*=attribute.itemSize;for(var i=0,l=this.itemSize;i<l;i++){this.array[index1+i]=attribute.array[index2+i]}return this}},{key:"copyArray",value:function copyArray(array){this.array.set(array);return this}},{key:"copyColorsArray",value:function copyColorsArray(colors){var array=this.array;var offset=0;for(var i=0,l=colors.length;i<l;i++){var color=colors[i]||new _Color.Color;array[offset++]=color.r;array[offset++]=color.g;array[offset++]=color.b}return this}
/**
     * TODO question https://discourse.threejs.org/t/question-about-fromdirectgeometry-function-of-buffergeometry/1890/2
     * @param indices
     * @returns {BufferAttribute}
     public copyIndicesArray(indices: Face3[]): BufferAttribute {
        const array: TypedArray = this.array;
        let offset: number = 0;
        for (let i: number = 0, l: number = indices.length; i < l; i++) {
            const index = indices[i];
            array[offset++] = index.a;
            array[offset++] = index.b;
            array[offset++] = index.c;
        }
        return this;
    }
     */},{key:"copyVector2sArray",value:function copyVector2sArray(vectors){var array=this.array;var offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i]||new _Vector.Vector2;array[offset++]=vector.x;array[offset++]=vector.y}return this}},{key:"copyVector3sArray",value:function copyVector3sArray(vectors){var array=this.array;var offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i]||new _Vector2.Vector3;array[offset++]=vector.x;array[offset++]=vector.y;array[offset++]=vector.z}return this}},{key:"copyVector4sArray",value:function copyVector4sArray(vectors){var array=this.array;var offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i]||new _Vector3.Vector4;array[offset++]=vector.x;array[offset++]=vector.y;array[offset++]=vector.z;array[offset++]=vector.w}return this}},{key:"setProperty",value:function setProperty(index,property,value){property=property.toLowerCase();if(property&&property.length<=4&&property.replace(/[xyzw]/g,"").length===0){var offsetMap={x:0,y:1,z:2};if(property.length===1&&typeof value==="number"){this.array[index*this.itemSize+offsetMap[property.charAt(0)]]=value}else if(property.length===2&&value instanceof _Vector.Vector2){this.array[index*this.itemSize+offsetMap[property.charAt(0)]]=value.x;this.array[index*this.itemSize+offsetMap[property.charAt(1)]]=value.y}else if(property.length===3&&value instanceof _Vector2.Vector3){this.array[index*this.itemSize+offsetMap[property.charAt(0)]]=value.x;this.array[index*this.itemSize+offsetMap[property.charAt(1)]]=value.y;this.array[index*this.itemSize+offsetMap[property.charAt(2)]]=value.z}else if(property.length===4&&value instanceof _Vector3.Vector4){this.array[index*this.itemSize+offsetMap[property.charAt(0)]]=value.x;this.array[index*this.itemSize+offsetMap[property.charAt(1)]]=value.y;this.array[index*this.itemSize+offsetMap[property.charAt(2)]]=value.z;this.array[index*this.itemSize+offsetMap[property.charAt(3)]]=value.w}}return this}},{key:"getProperty",value:function getProperty(index,property){property=property.toLowerCase();if(property&&property.length<=4&&property.replace(/[xyzw]/g,"").length===0){var offsetMap={x:0,y:1,z:2};if(property.length===1){return this.array[index*this.itemSize+offsetMap[property.charAt(0)]]}else if(property.length===2){return new _Vector.Vector2(this.array[index*this.itemSize+offsetMap[property.charAt(0)]],this.array[index*this.itemSize+offsetMap[property.charAt(1)]])}else if(property.length===3){return new _Vector2.Vector3(this.array[index*this.itemSize+offsetMap[property.charAt(0)]],this.array[index*this.itemSize+offsetMap[property.charAt(1)]],this.array[index*this.itemSize+offsetMap[property.charAt(2)]])}else if(property.length===4){return new _Vector3.Vector4(this.array[index*this.itemSize+offsetMap[property.charAt(0)]],this.array[index*this.itemSize+offsetMap[property.charAt(1)]],this.array[index*this.itemSize+offsetMap[property.charAt(2)]],this.array[index*this.itemSize+offsetMap[property.charAt(3)]])}}return undefined}},{key:"clone",value:function clone(){return new this.constructor(this.array,this.itemSize,true).copy(this)}},{key:"needsUpdate",set:function set(value){if(value===true)this.version++}}]);return BufferAttribute}();exports.BufferAttribute=BufferAttribute;var Int8BufferAttribute=
/* */
function(_BufferAttribute){_inherits(Int8BufferAttribute,_BufferAttribute);function Int8BufferAttribute(array,itemSize,normalized){_classCallCheck(this,Int8BufferAttribute);return _possibleConstructorReturn(this,(Int8BufferAttribute.__proto__||Object.getPrototypeOf(Int8BufferAttribute)).call(this,new Int8Array(array),itemSize,normalized))}return Int8BufferAttribute}(BufferAttribute);exports.Int8BufferAttribute=Int8BufferAttribute;var Uint8BufferAttribute=
/* */
function(_BufferAttribute2){_inherits(Uint8BufferAttribute,_BufferAttribute2);function Uint8BufferAttribute(array,itemSize,normalized){_classCallCheck(this,Uint8BufferAttribute);return _possibleConstructorReturn(this,(Uint8BufferAttribute.__proto__||Object.getPrototypeOf(Uint8BufferAttribute)).call(this,new Uint8Array(array),itemSize,normalized))}return Uint8BufferAttribute}(BufferAttribute);exports.Uint8BufferAttribute=Uint8BufferAttribute;var Uint8ClampedBufferAttribute=
/* */
function(_BufferAttribute3){_inherits(Uint8ClampedBufferAttribute,_BufferAttribute3);function Uint8ClampedBufferAttribute(array,itemSize,normalized){_classCallCheck(this,Uint8ClampedBufferAttribute);return _possibleConstructorReturn(this,(Uint8ClampedBufferAttribute.__proto__||Object.getPrototypeOf(Uint8ClampedBufferAttribute)).call(this,new Uint8ClampedArray(array),itemSize,normalized))}return Uint8ClampedBufferAttribute}(BufferAttribute);exports.Uint8ClampedBufferAttribute=Uint8ClampedBufferAttribute;var Int16BufferAttribute=
/* */
function(_BufferAttribute4){_inherits(Int16BufferAttribute,_BufferAttribute4);function Int16BufferAttribute(array,itemSize,normalized){_classCallCheck(this,Int16BufferAttribute);return _possibleConstructorReturn(this,(Int16BufferAttribute.__proto__||Object.getPrototypeOf(Int16BufferAttribute)).call(this,new Int16Array(array),itemSize,normalized))}return Int16BufferAttribute}(BufferAttribute);exports.Int16BufferAttribute=Int16BufferAttribute;var Uint16BufferAttribute=
/* */
function(_BufferAttribute5){_inherits(Uint16BufferAttribute,_BufferAttribute5);function Uint16BufferAttribute(array,itemSize,normalized){_classCallCheck(this,Uint16BufferAttribute);return _possibleConstructorReturn(this,(Uint16BufferAttribute.__proto__||Object.getPrototypeOf(Uint16BufferAttribute)).call(this,new Uint16Array(array),itemSize,normalized))}return Uint16BufferAttribute}(BufferAttribute);exports.Uint16BufferAttribute=Uint16BufferAttribute;var Int32BufferAttribute=
/* */
function(_BufferAttribute6){_inherits(Int32BufferAttribute,_BufferAttribute6);function Int32BufferAttribute(array,itemSize,normalized){_classCallCheck(this,Int32BufferAttribute);return _possibleConstructorReturn(this,(Int32BufferAttribute.__proto__||Object.getPrototypeOf(Int32BufferAttribute)).call(this,new Int32Array(array),itemSize,normalized))}return Int32BufferAttribute}(BufferAttribute);exports.Int32BufferAttribute=Int32BufferAttribute;var Uint32BufferAttribute=
/* */
function(_BufferAttribute7){_inherits(Uint32BufferAttribute,_BufferAttribute7);function Uint32BufferAttribute(array,itemSize,normalized){_classCallCheck(this,Uint32BufferAttribute);return _possibleConstructorReturn(this,(Uint32BufferAttribute.__proto__||Object.getPrototypeOf(Uint32BufferAttribute)).call(this,new Uint32Array(array),itemSize,normalized))}return Uint32BufferAttribute}(BufferAttribute);exports.Uint32BufferAttribute=Uint32BufferAttribute;var Float32BufferAttribute=
/* */
function(_BufferAttribute8){_inherits(Float32BufferAttribute,_BufferAttribute8);function Float32BufferAttribute(array,itemSize,normalized){_classCallCheck(this,Float32BufferAttribute);return _possibleConstructorReturn(this,(Float32BufferAttribute.__proto__||Object.getPrototypeOf(Float32BufferAttribute)).call(this,new Float32Array(array),itemSize,normalized))}return Float32BufferAttribute}(BufferAttribute);exports.Float32BufferAttribute=Float32BufferAttribute;var Float64BufferAttribute=
/* */
function(_BufferAttribute9){_inherits(Float64BufferAttribute,_BufferAttribute9);function Float64BufferAttribute(array,itemSize,normalized){_classCallCheck(this,Float64BufferAttribute);return _possibleConstructorReturn(this,(Float64BufferAttribute.__proto__||Object.getPrototypeOf(Float64BufferAttribute)).call(this,new Float64Array(array),itemSize,normalized))}return Float64BufferAttribute}(BufferAttribute);exports.Float64BufferAttribute=Float64BufferAttribute;
/***/},
/***/"./es/core/BufferGeometry.js":
/*!***********************************!*\
  !*** ./es/core/BufferGeometry.js ***!
  \***********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BufferGeometry=void 0;var _Box=__webpack_require__(/*! ../math/Box3 */"./es/math/Box3.js");var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Matrix=__webpack_require__(/*! ../math/Matrix3 */"./es/math/Matrix3.js");var _Matrix2=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Sphere=__webpack_require__(/*! ../math/Sphere */"./es/math/Sphere.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _utils=__webpack_require__(/*! ../utils */"./es/utils.js");var _BufferAttribute=__webpack_require__(/*! ./BufferAttribute */"./es/core/BufferAttribute.js");var _DirectGeometry=__webpack_require__(/*! ./DirectGeometry */"./es/core/DirectGeometry.js");var _EventDispatcher2=__webpack_require__(/*! ./EventDispatcher */"./es/core/EventDispatcher.js");var _Geometry=__webpack_require__(/*! ./Geometry */"./es/core/Geometry.js");var _Object3D=__webpack_require__(/*! ./Object3D */"./es/core/Object3D.js");var _Mesh=__webpack_require__(/*! ../objects/Mesh */"./es/objects/Mesh.js");var _Line=__webpack_require__(/*! ../objects/Line */"./es/objects/Line.js");var _Points=__webpack_require__(/*! ../objects/Points */"./es/objects/Points.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var object=new _Object3D.Object3D;var bufferGeometryId=1;var BufferGeometry=
/* */
function(_EventDispatcher){_inherits(BufferGeometry,_EventDispatcher);function BufferGeometry(){var _this;_classCallCheck(this,BufferGeometry);_this=_possibleConstructorReturn(this,(BufferGeometry.__proto__||Object.getPrototypeOf(BufferGeometry)).apply(this,arguments));_this.id=bufferGeometryId+=2;_this.uuid=_Math.MathUtil.generateUUID();_this.name="";_this.type="BufferGeometry";_this.index=null;_this.attributes={};_this.morphAttributes={};_this.groups=[];_this.boundingBox=null;_this.boundingSphere=null;_this.drawRange={start:0,count:Infinity};return _this}_createClass(BufferGeometry,[{key:"setIndex",value:function setIndex(index){if(Array.isArray(index)){this.index=new((0,_utils.arrayMax)(index)>65535?_BufferAttribute.Uint32BufferAttribute:_BufferAttribute.Uint16BufferAttribute)(index,1)}else{this.index=index}return this}},{key:"addAttribute",value:function addAttribute(name,attribute){if(name==="index"){this.setIndex(attribute);return this}this.attributes[name]=attribute;return this}},{key:"getAttribute",value:function getAttribute(name){return this.attributes[name]}},{key:"removeAttribute",value:function removeAttribute(name){delete this.attributes[name];return this}},{key:"addGroup",value:function addGroup(start,count){var materialIndex=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this.groups.push({count:count,materialIndex:materialIndex,start:start});return this}},{key:"clearGroups",value:function clearGroups(){this.groups=[];return this}},{key:"setDrawRange",value:function setDrawRange(start,count){this.drawRange.start=start;this.drawRange.count=count;return this}},{key:"applyMatrix",value:function applyMatrix(matrix){var position=this.attributes.position;if(position!==undefined){(0,_utils.applyMatrixToBufferAttribute)(matrix,position);position.needsUpdate=true}var normal=this.attributes.normal;if(normal!==undefined){var normalMatrix=(new _Matrix.Matrix3).getNormalMatrix(matrix);(0,_utils.applyMatrixToBufferAttribute)(normalMatrix,normal);normal.needsUpdate=true}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}return this}},{key:"rotateX",value:function rotateX(angle){return this.applyMatrix((new _Matrix2.Matrix4).makeRotationX(angle))}},{key:"rotateY",value:function rotateY(angle){return this.applyMatrix((new _Matrix2.Matrix4).makeRotationY(angle))}},{key:"rotateZ",value:function rotateZ(angle){return this.applyMatrix((new _Matrix2.Matrix4).makeRotationZ(angle))}},{key:"translate",value:function translate(x,y,z){return this.applyMatrix((new _Matrix2.Matrix4).makeTranslation(x,y,z))}},{key:"scale",value:function scale(x,y,z){return this.applyMatrix((new _Matrix2.Matrix4).makeScale(x,y,z))}},{key:"lookAt",value:function lookAt(vector){var obj=object.lookAt(vector);obj.updateMatrix();return this.applyMatrix(obj.matrix)}},{key:"center",value:function center(){this.computeBoundingBox();var offset=this.boundingBox.getCenter().negate();this.translate(offset.x,offset.y,offset.z);return offset}
/**
     * Same as updateFromObject
     * @param object
     */},{key:"setFromObject",value:function setFromObject(object){var geometry=object.geometry;if(object instanceof _Points.Points||object instanceof _Line.Line){var positions=new _BufferAttribute.Float32BufferAttribute(geometry.vertices.length*3,3);var colors=new _BufferAttribute.Float32BufferAttribute(geometry.colors.length*3,3);this.addAttribute("position",positions.copyVector3sArray(geometry.vertices));this.addAttribute("color",colors.copyColorsArray(geometry.colors));if(geometry.lineDistances&&geometry.lineDistances.length===geometry.vertices.length){var lineDistances=new _BufferAttribute.Float32BufferAttribute(geometry.lineDistances.length,1);this.addAttribute("lineDistance",lineDistances.copyArray(geometry.lineDistances))}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone()}if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone()}}else if(object instanceof _Mesh.Mesh){this.fromGeometry(geometry)}return this}},{key:"setFromPoints",value:function setFromPoints(points){var position=[];for(var i=0,l=points.length;i<l;i++){var point=points[i];position.push(point.x,point.y,point.z||0)}this.addAttribute("position",new _BufferAttribute.Float32BufferAttribute(position,3));return this}
/**
     * This function is a mess.
     * The argument has implicit requirement for arg `object`
     * Since the only use of this function is in `WebGLObjects`,
     * and it requires the object's `geometry` property should be a `Geometry` instance,
     * So we can/must assert the object.geometry as type `Geometry`.
     * So the whole function is dealing with no BufferGeometry instance,
     * which may be the reason why BufferGeometry is faster.
     *
     * @param object
     * @returns {BufferGeometry}
     */},{key:"updateFromObject",value:function updateFromObject(object){var geometry=object.geometry;if(object instanceof _Mesh.Mesh){var direct=geometry.directGeometry;if(geometry.elementsNeedUpdate===true){direct=undefined;geometry.elementsNeedUpdate=false}if(direct===undefined){
// Geometry -> DirectGeometry -> BufferGeometry
return this.fromGeometry(geometry)}direct.verticesNeedUpdate=geometry.verticesNeedUpdate;direct.normalsNeedUpdate=geometry.normalsNeedUpdate;direct.colorsNeedUpdate=geometry.colorsNeedUpdate;direct.uvsNeedUpdate=geometry.uvsNeedUpdate;direct.groupsNeedUpdate=geometry.groupsNeedUpdate;geometry.verticesNeedUpdate=false;geometry.normalsNeedUpdate=false;geometry.colorsNeedUpdate=false;geometry.uvsNeedUpdate=false;geometry.groupsNeedUpdate=false;geometry=direct}// Used by both Geometry and DirectGeometry
if(geometry.verticesNeedUpdate===true){var attribute=this.attributes.position;if(attribute!==undefined){attribute.copyVector3sArray(geometry.vertices);attribute.needsUpdate=true}geometry.verticesNeedUpdate=false}// Used only by DirectGeometry
if(geometry instanceof _DirectGeometry.DirectGeometry&&geometry.normalsNeedUpdate===true){var _attribute=this.attributes.normal;if(_attribute!==undefined){_attribute.copyVector3sArray(geometry.normals);_attribute.needsUpdate=true}geometry.normalsNeedUpdate=false}// Used by both Geometry and DirectGeometry
if(geometry.colorsNeedUpdate===true){var _attribute2=this.attributes.color;if(_attribute2!==undefined){_attribute2.copyColorsArray(geometry.colors);_attribute2.needsUpdate=true}geometry.colorsNeedUpdate=false}// Used only by DirectGeometry
if(geometry instanceof _DirectGeometry.DirectGeometry&&geometry.uvsNeedUpdate){var _attribute3=this.attributes.uv;if(_attribute3!==undefined){_attribute3.copyVector2sArray(geometry.uvs);_attribute3.needsUpdate=true}geometry.uvsNeedUpdate=false}// Used only by Geometry
if(geometry instanceof _Geometry.Geometry&&geometry.lineDistancesNeedUpdate){var _attribute4=this.attributes.lineDistance;if(_attribute4!==undefined){_attribute4.copyArray(geometry.lineDistances);_attribute4.needsUpdate=true}geometry.lineDistancesNeedUpdate=false}// Used only by DirectGeometry
if(geometry instanceof _DirectGeometry.DirectGeometry&&geometry.groupsNeedUpdate){geometry.computeGroups(object.geometry);this.groups=geometry.groups;geometry.groupsNeedUpdate=false}// Well, IMO!!
return this}
/**
     * Geometry of a Mesh
     * @param geometry
     */},{key:"fromGeometry",value:function fromGeometry(geometry){geometry.directGeometry=(new _DirectGeometry.DirectGeometry).fromGeometry(geometry);return this.fromDirectGeometry(geometry.directGeometry)}},{key:"fromDirectGeometry",value:function fromDirectGeometry(geometry){var positions=new Float32Array(geometry.vertices.length*3);this.addAttribute("position",new _BufferAttribute.BufferAttribute(positions,3).copyVector3sArray(geometry.vertices));if(geometry.normals.length>0){var normals=new Float32Array(geometry.normals.length*3);this.addAttribute("normal",new _BufferAttribute.BufferAttribute(normals,3).copyVector3sArray(geometry.normals))}if(geometry.colors.length>0){var colors=new Float32Array(geometry.colors.length*3);this.addAttribute("color",new _BufferAttribute.BufferAttribute(colors,3).copyColorsArray(geometry.colors))}if(geometry.uvs.length>0){var uvs=new Float32Array(geometry.uvs.length*2);this.addAttribute("uv",new _BufferAttribute.BufferAttribute(uvs,2).copyVector2sArray(geometry.uvs))}if(geometry.uvs2.length>0){var uvs2=new Float32Array(geometry.uvs2.length*2);this.addAttribute("uv2",new _BufferAttribute.BufferAttribute(uvs2,2).copyVector2sArray(geometry.uvs2))}
/**
       * TODO question https://discourse.threejs.org/t/question-about-fromdirectgeometry-function-of-buffergeometry/1890/2
       if (geometry.indices.length > 0) {
          const indices: Uint32Array | Uint16Array = new (arrayMax(geometry.indices) > 65535 ? Uint32Array : Uint16Array)(geometry.indices.length * 3);
          this.setIndex(new BufferAttribute(indices, 1).copyIndicesArray(geometry.indices));
      }
       */
// groups
this.groups=geometry.groups;// morphs
for(var name in geometry.morphTargets){if(!geometry.morphTargets.hasOwnProperty(name))continue;var array=[];var morphTargets=geometry.morphTargets[name];for(var i=0,l=morphTargets.length;i<l;i++){var morphTarget=morphTargets[i];var attribute=new _BufferAttribute.Float32BufferAttribute(new Array(morphTarget.length*3),3);array.push(attribute.copyVector3sArray(morphTarget))}this.morphAttributes[name]=array}// skinning
if(geometry.skinIndices.length>0){var skinIndices=new _BufferAttribute.Float32BufferAttribute(new Array(geometry.skinIndices.length*4),4);this.addAttribute("skinIndex",skinIndices.copyVector4sArray(geometry.skinIndices))}if(geometry.skinWeights.length>0){var skinWeights=new _BufferAttribute.Float32BufferAttribute(new Array(geometry.skinWeights.length*4),4);this.addAttribute("skinWeight",skinWeights.copyVector4sArray(geometry.skinWeights))}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone()}if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone()}return this}},{key:"computeBoundingBox",value:function computeBoundingBox(){if(this.boundingBox===null){this.boundingBox=new _Box.Box3}var position=this.attributes.position;if(position!==undefined){(0,_utils.setBoxFromBufferAttribute)(this.boundingBox,position)}else{this.boundingBox.makeEmpty()}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeBoundingSphere",value:function computeBoundingSphere(){if(this.boundingSphere===null){this.boundingSphere=new _Sphere.Sphere}var position=this.attributes.position;if(position){var box=new _Box.Box3;(0,_utils.setBoxFromBufferAttribute)(box,position);var center=box.getCenter();// hoping to find a boundingSphere with a radius smaller than the
// boundingSphere of the boundingBox: sqrt(3) smaller in the best case
var maxRadiusSquare=0;for(var i=0,il=position.count;i<il;i++){var vector=new _Vector.Vector3;vector.x=position.getProperty(i,"x");vector.y=position.getProperty(i,"y");vector.z=position.getProperty(i,"z");maxRadiusSquare=Math.max(maxRadiusSquare,center.distanceToSquared(vector))}this.boundingSphere.radius=Math.sqrt(maxRadiusSquare);if(isNaN(this.boundingSphere.radius)){console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}},{key:"computeVertexNormals",value:function computeVertexNormals(){var index=this.index;var attributes=this.attributes;var groups=this.groups;if(attributes.position){var positions=attributes.position.array;if(attributes.normal===undefined){this.addAttribute("normal",new _BufferAttribute.BufferAttribute(new Float32Array(positions.length),3))}else{
// reset existing normals to zero
var array=attributes.normal.array;for(var i=0,il=array.length;i<il;i++){array[i]=0}}var normals=attributes.normal.array;var vA,vB,vC;var pA=new _Vector.Vector3,pB=new _Vector.Vector3,pC=new _Vector.Vector3;var cb=new _Vector.Vector3,ab=new _Vector.Vector3;// indexed elements
if(index){var indices=index.array;if(groups.length===0){this.addGroup(0,indices.length)}for(var j=0,jl=groups.length;j<jl;++j){var group=groups[j];var start=group.start;var count=group.count;for(var _i=start,_il=start+count;_i<_il;_i+=3){vA=indices[_i]*3;vB=indices[_i+1]*3;vC=indices[_i+2]*3;pA.fromArray(positions,vA);pB.fromArray(positions,vB);pC.fromArray(positions,vC);cb.copy(pC).sub(pB);ab.copy(pA).sub(pB);cb.cross(ab);normals[vA]+=cb.x;normals[vA+1]+=cb.y;normals[vA+2]+=cb.z;normals[vB]+=cb.x;normals[vB+1]+=cb.y;normals[vB+2]+=cb.z;normals[vC]+=cb.x;normals[vC+1]+=cb.y;normals[vC+2]+=cb.z}}}else{
// non-indexed elements (unconnected triangle soup)
for(var _i2=0,_il2=positions.length;_i2<_il2;_i2+=9){pA.fromArray(positions,_i2);pB.fromArray(positions,_i2+3);pC.fromArray(positions,_i2+6);cb.copy(pC).sub(pB);ab.copy(pA).sub(pB);cb.cross(ab);normals[_i2]=cb.x;normals[_i2+1]=cb.y;normals[_i2+2]=cb.z;normals[_i2+3]=cb.x;normals[_i2+4]=cb.y;normals[_i2+5]=cb.z;normals[_i2+6]=cb.x;normals[_i2+7]=cb.y;normals[_i2+8]=cb.z}}this.normalizeNormals();attributes.normal.needsUpdate=true}}},{key:"normalizeNormals",value:function normalizeNormals(){var vector=new _Vector.Vector3;var normals=this.attributes.normal;for(var i=0,il=normals.count;i<il;i++){vector.x=normals.getProperty(i,"x");vector.y=normals.getProperty(i,"y");vector.z=normals.getProperty(i,"z");vector.normalize();normals.setProperty(i,"xyz",vector)}}},{key:"toNonIndexed",value:function toNonIndexed(){if(this.index===null){console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.");return this}var geometry2=new BufferGeometry;var indices=this.index.array;var attributes=this.attributes;for(var name in attributes){if(!attributes.hasOwnProperty(name))continue;var attribute=attributes[name];var array=attribute.array;var itemSize=attribute.itemSize;var array2=new array.constructor(indices.length*itemSize);var index=0,index2=0;for(var i=0,l=indices.length;i<l;i++){index=indices[i]*itemSize;for(var j=0;j<itemSize;j++){array2[index2++]=array[index++]}}geometry2.addAttribute(name,new _BufferAttribute.BufferAttribute(array2,itemSize))}return geometry2}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(source){
// reset
this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;// name
this.name=source.name;// index
var index=source.index;if(index!==null){this.setIndex(index.clone())}// attributes
var attributes=source.attributes;for(var name in attributes){if(!attributes.hasOwnProperty(name))continue;var attribute=attributes[name];this.addAttribute(name,attribute.clone())}// morph attributes
var morphAttributes=source.morphAttributes;for(var _name in morphAttributes){if(!attributes.hasOwnProperty(_name))continue;var array=[];var morphAttribute=morphAttributes[_name];// morphAttribute: array of Float32BufferAttributes
for(var i=0,l=morphAttribute.length;i<l;i++){array.push(morphAttribute[i].clone())}this.morphAttributes[_name]=array}// groups
var groups=source.groups;for(var _i3=0,_l=groups.length;_i3<_l;_i3++){var group=groups[_i3];this.addGroup(group.start,group.count,group.materialIndex)}// bounding box
var boundingBox=source.boundingBox;if(boundingBox!==null){this.boundingBox=boundingBox.clone()}// bounding sphere
var boundingSphere=source.boundingSphere;if(boundingSphere!==null){this.boundingSphere=boundingSphere.clone()}// draw range
this.drawRange.start=source.drawRange.start;this.drawRange.count=source.drawRange.count;return this}},{key:"dispose",value:function dispose(){this.dispatchEvent({type:"dispose"})}}]);return BufferGeometry}(_EventDispatcher2.EventDispatcher);exports.BufferGeometry=BufferGeometry;
/***/},
/***/"./es/core/Clock.js":
/*!**************************!*\
  !*** ./es/core/Clock.js ***!
  \**************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Clock=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Clock=
/* */
function(){function Clock(){var autoStart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_classCallCheck(this,Clock);this.autoStart=false;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false;this.autoStart=autoStart}_createClass(Clock,[{key:"start",value:function start(){this.startTime=(typeof performance==="undefined"?Date:performance).now();// see #10732
this.oldTime=this.startTime;this.elapsedTime=0;this.running=true}},{key:"stop",value:function stop(){this.getElapsedTime();this.running=false;this.autoStart=false}},{key:"getElapsedTime",value:function getElapsedTime(){this.getDelta();return this.elapsedTime}},{key:"getDelta",value:function getDelta(){var diff=0;if(this.autoStart&&!this.running){this.start();return 0}if(this.running){var newTime=(typeof performance==="undefined"?Date:performance).now();diff=(newTime-this.oldTime)/1e3;this.oldTime=newTime;this.elapsedTime+=diff}return diff}}]);return Clock}();exports.Clock=Clock;
/***/},
/***/"./es/core/DirectGeometry.js":
/*!***********************************!*\
  !*** ./es/core/DirectGeometry.js ***!
  \***********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DirectGeometry=void 0;var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var DirectGeometry=
/* */
function(){function DirectGeometry(){_classCallCheck(this,DirectGeometry);this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=null;this.boundingBox=null;this.verticesNeedUpdate=false;this.uvsNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.groupsNeedUpdate=false}_createClass(DirectGeometry,[{key:"computeGroups",value:function computeGroups(geometry){var group;var groups=[];var materialIndex;var faces=geometry.faces;var i=0;for(;i<faces.length;i++){var face=faces[i];// materials
if(face.materialIndex!==materialIndex){materialIndex=face.materialIndex;if(group!==undefined){group.count=i*3-group.start;groups.push(group)}group={materialIndex:materialIndex,start:i*3}}}if(group!==undefined){group.count=i*3-group.start;groups.push(group)}this.groups=groups}},{key:"fromGeometry",value:function fromGeometry(geometry){var faces=geometry.faces;var vertices=geometry.vertices;var faceVertexUvs=geometry.faceVertexUvs;var hasFaceVertexUv=faceVertexUvs[0]&&faceVertexUvs[0].length>0;var hasFaceVertexUv2=faceVertexUvs[1]&&faceVertexUvs[1].length>0;// morphs
var morphTargets=geometry.morphTargets;var morphTargetsLength=morphTargets.length;if(morphTargetsLength>0){this.morphTargets.position=[];for(var i=0;i<morphTargetsLength;i++){this.morphTargets.position[i]=[]}}var morphNormals=geometry.morphNormals;var morphNormalsLength=morphNormals.length;if(morphNormalsLength>0){this.morphTargets.normal=[];for(var _i=0;_i<morphNormalsLength;_i++){this.morphTargets.normal[_i]=[]}}// skins
var skinIndices=geometry.skinIndices;var skinWeights=geometry.skinWeights;var hasSkinIndices=skinIndices.length===vertices.length;var hasSkinWeights=skinWeights.length===vertices.length;for(var _i2=0;_i2<faces.length;_i2++){var face=faces[_i2];this.vertices.push(vertices[face.a],vertices[face.b],vertices[face.c]);var vertexNormals=face.vertexNormals;if(vertexNormals.length===3){this.normals.push(vertexNormals[0],vertexNormals[1],vertexNormals[2])}else{var normal=face.normal;this.normals.push(normal,normal,normal)}var vertexColors=face.vertexColors;if(vertexColors.length===3){this.colors.push(vertexColors[0],vertexColors[1],vertexColors[2])}else{var color=face.color;this.colors.push(color,color,color)}if(hasFaceVertexUv===true){var vertexUvs=faceVertexUvs[0][_i2];if(vertexUvs!==undefined){this.uvs.push(vertexUvs[0],vertexUvs[1],vertexUvs[2])}else{console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ".concat(_i2));this.uvs.push(new _Vector.Vector2,new _Vector.Vector2,new _Vector.Vector2)}}if(hasFaceVertexUv2===true){var _vertexUvs=faceVertexUvs[1][_i2];if(_vertexUvs!==undefined){this.uvs2.push(_vertexUvs[0],_vertexUvs[1],_vertexUvs[2])}else{console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ".concat(_i2));this.uvs2.push(new _Vector.Vector2,new _Vector.Vector2,new _Vector.Vector2)}}// morphs
for(var j=0;j<morphTargetsLength;j++){var morphTarget=morphTargets[j].vertices;this.morphTargets.position[j].push(morphTarget[face.a],morphTarget[face.b],morphTarget[face.c])}for(var _j=0;_j<morphNormalsLength;_j++){var morphNormal=morphNormals[_j].vertexNormals[_i2];this.morphTargets.normal[_j].push(morphNormal.a,morphNormal.b,morphNormal.c)}// skins
if(hasSkinIndices){this.skinIndices.push(skinIndices[face.a],skinIndices[face.b],skinIndices[face.c])}if(hasSkinWeights){this.skinWeights.push(skinWeights[face.a],skinWeights[face.b],skinWeights[face.c])}}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone()}if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone()}this.computeGroups(geometry);this.verticesNeedUpdate=geometry.verticesNeedUpdate;this.normalsNeedUpdate=geometry.normalsNeedUpdate;this.colorsNeedUpdate=geometry.colorsNeedUpdate;this.uvsNeedUpdate=geometry.uvsNeedUpdate;this.groupsNeedUpdate=geometry.groupsNeedUpdate;return this}}]);return DirectGeometry}();exports.DirectGeometry=DirectGeometry;
/***/},
/***/"./es/core/EventDispatcher.js":
/*!************************************!*\
  !*** ./es/core/EventDispatcher.js ***!
  \************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventDispatcher=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var EventDispatcher=
/* */
function(){function EventDispatcher(){_classCallCheck(this,EventDispatcher);this._listeners={}}_createClass(EventDispatcher,[{key:"addEventListener",value:function addEventListener(type,listener){var listeners=this._listeners;if(listeners[type]===undefined){listeners[type]=[]}if(listeners[type].indexOf(listener)===-1){listeners[type].push(listener)}}},{key:"hasEventListener",value:function hasEventListener(type,listener){if(this._listeners===undefined)return false;var listeners=this._listeners;return listeners[type]!==undefined&&listeners[type].indexOf(listener)!==-1}},{key:"removeEventListener",value:function removeEventListener(type,listener){if(this._listeners===undefined)return;var listeners=this._listeners;var listenerArray=listeners[type];if(listenerArray!==undefined){var index=listenerArray.indexOf(listener);if(index!==-1){listenerArray.splice(index,1)}}}},{key:"dispatchEvent",value:function dispatchEvent(){var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this._listeners===undefined)return;var listeners=this._listeners;var listenerArray=listeners[event.type];if(listenerArray!==undefined){event.target=this;var array=listenerArray.slice(0);for(var i=0,l=array.length;i<l;i++){array[i].call(this,event)}}}}]);return EventDispatcher}();exports.EventDispatcher=EventDispatcher;
/***/},
/***/"./es/core/Face3.js":
/*!**************************!*\
  !*** ./es/core/Face3.js ***!
  \**************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Face3=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Face3=
/* */
function(){function Face3(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var normal=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new _Vector.Vector3;var color=arguments.length>4&&arguments[4]!==undefined?arguments[4]:new _Color.Color;var materialIndex=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;_classCallCheck(this,Face3);this.a=0;this.b=0;this.c=0;this.normal=new _Vector.Vector3;this.vertexNormals=[];this.color=new _Color.Color;this.vertexColors=[];this.materialIndex=0;this.a=a;this.b=b;this.c=c;if(normal instanceof _Vector.Vector3)this.normal=normal;if(Array.isArray(normal))this.vertexNormals=normal;if(color instanceof _Color.Color)this.color=color;if(Array.isArray(color))this.vertexColors=color;this.materialIndex=materialIndex}_createClass(Face3,[{key:"copy",value:function copy(source){this.a=source.a;this.b=source.b;this.c=source.c;this.normal.copy(source.normal);this.color.copy(source.color);this.materialIndex=source.materialIndex;for(var i=0,il=source.vertexNormals.length;i<il;i++){this.vertexNormals[i]=source.vertexNormals[i].clone()}for(var _i=0,_il=source.vertexColors.length;_i<_il;_i++){this.vertexColors[_i]=source.vertexColors[_i].clone()}return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return Face3}();exports.Face3=Face3;
/***/},
/***/"./es/core/Geometry.js":
/*!*****************************!*\
  !*** ./es/core/Geometry.js ***!
  \*****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Geometry=exports.GeometryFace=void 0;var _Box=__webpack_require__(/*! ../math/Box3 */"./es/math/Box3.js");var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Matrix=__webpack_require__(/*! ../math/Matrix3 */"./es/math/Matrix3.js");var _Matrix2=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Sphere=__webpack_require__(/*! ../math/Sphere */"./es/math/Sphere.js");var _Triangle=__webpack_require__(/*! ../math/Triangle */"./es/math/Triangle.js");var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");var _Vector2=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _EventDispatcher2=__webpack_require__(/*! ./EventDispatcher */"./es/core/EventDispatcher.js");var _Face2=__webpack_require__(/*! ./Face3 */"./es/core/Face3.js");var _Object3D=__webpack_require__(/*! ./Object3D */"./es/core/Object3D.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var object=new _Object3D.Object3D;var GeometryFace=
/* */
function(_Face){_inherits(GeometryFace,_Face);function GeometryFace(){_classCallCheck(this,GeometryFace);return _possibleConstructorReturn(this,(GeometryFace.__proto__||Object.getPrototypeOf(GeometryFace)).apply(this,arguments))}return GeometryFace}(_Face2.Face3);exports.GeometryFace=GeometryFace;var geometryId=0;var Geometry=
/* */
function(_EventDispatcher){_inherits(Geometry,_EventDispatcher);function Geometry(){var _this;_classCallCheck(this,Geometry);_this=_possibleConstructorReturn(this,(Geometry.__proto__||Object.getPrototypeOf(Geometry)).apply(this,arguments));_this.id=geometryId+=2;_this.uuid=_Math.MathUtil.generateUUID();_this.name="";_this.type="Geometry";_this.vertices=[];_this.colors=[];_this.faces=[];_this.faceVertexUvs=[[]];_this.morphTargets=[];_this.morphNormals=[];_this.skinWeights=[];_this.skinIndices=[];_this.lineDistances=[];_this.boundingBox=null;_this.boundingSphere=null;_this.elementsNeedUpdate=false;_this.verticesNeedUpdate=false;_this.uvsNeedUpdate=false;_this.normalsNeedUpdate=false;_this.colorsNeedUpdate=false;_this.lineDistancesNeedUpdate=false;_this.groupsNeedUpdate=false;return _this}_createClass(Geometry,[{key:"applyMatrix",value:function applyMatrix(matrix){var normalMatrix=(new _Matrix.Matrix3).getNormalMatrix(matrix);for(var i=0,il=this.vertices.length;i<il;i++){this.vertices[i].applyMatrix4(matrix)}for(var _i=0,_il=this.faces.length;_i<_il;_i++){var face=this.faces[_i];face.normal.applyMatrix3(normalMatrix).normalize();for(var j=0,jl=face.vertexNormals.length;j<jl;j++){face.vertexNormals[j].applyMatrix3(normalMatrix).normalize()}}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}this.verticesNeedUpdate=true;this.normalsNeedUpdate=true;return this}},{key:"rotateX",value:function rotateX(angle){return this.applyMatrix((new _Matrix2.Matrix4).makeRotationX(angle))}},{key:"rotateY",value:function rotateY(angle){return this.applyMatrix((new _Matrix2.Matrix4).makeRotationY(angle))}},{key:"rotateZ",value:function rotateZ(angle){return this.applyMatrix((new _Matrix2.Matrix4).makeRotationZ(angle))}},{key:"translate",value:function translate(x,y,z){return this.applyMatrix((new _Matrix2.Matrix4).makeTranslation(x,y,z))}},{key:"scale",value:function scale(x,y,z){return this.applyMatrix((new _Matrix2.Matrix4).makeScale(x,y,z))}},{key:"lookAt",value:function lookAt(vector){var obj=object.lookAt(vector);obj.updateMatrix();return this.applyMatrix(obj.matrix)}},{key:"fromBufferGeometry",value:function fromBufferGeometry(geometry){var _this2=this;var indices=geometry.index!==null?geometry.index.array:undefined;var attributes=geometry.attributes;var positions=attributes.position.array;var normals=attributes.normal!==undefined?attributes.normal.array:undefined;var colors=attributes.color!==undefined?attributes.color.array:undefined;var uvs=attributes.uv!==undefined?attributes.uv.array:undefined;var uvs2=attributes.uv2!==undefined?attributes.uv2.array:undefined;if(uvs2!==undefined)this.faceVertexUvs[1]=[];var tempNormals=[];var tempUVs=[];var tempUVs2=[];for(var i=0,j=0;i<positions.length;i+=3,j+=2){this.vertices.push(new _Vector2.Vector3(positions[i],positions[i+1],positions[i+2]));if(normals!==undefined){tempNormals.push(new _Vector2.Vector3(normals[i],normals[i+1],normals[i+2]))}if(colors!==undefined){this.colors.push(new _Color.Color(colors[i],colors[i+1],colors[i+2]))}if(uvs!==undefined){tempUVs.push(new _Vector.Vector2(uvs[j],uvs[j+1]))}if(uvs2!==undefined){tempUVs2.push(new _Vector.Vector2(uvs2[j],uvs2[j+1]))}}var addFace=function addFace(a,b,c,materialIndex){var vertexNormals=normals!==undefined?[tempNormals[a].clone(),tempNormals[b].clone(),tempNormals[c].clone()]:[];var vertexColors=colors!==undefined?[_this2.colors[a].clone(),_this2.colors[b].clone(),_this2.colors[c].clone()]:[];var face=new _Face2.Face3(a,b,c,vertexNormals,vertexColors,materialIndex);_this2.faces.push(face);if(uvs!==undefined){_this2.faceVertexUvs[0].push([tempUVs[a].clone(),tempUVs[b].clone(),tempUVs[c].clone()])}if(uvs2!==undefined){_this2.faceVertexUvs[1].push([tempUVs2[a].clone(),tempUVs2[b].clone(),tempUVs2[c].clone()])}};var groups=geometry.groups;if(groups.length>0){for(var _i2=0;_i2<groups.length;_i2++){var group=groups[_i2];var start=group.start;var count=group.count;for(var _j=start,jl=start+count;_j<jl;_j+=3){if(indices!==undefined){addFace(indices[_j],indices[_j+1],indices[_j+2],group.materialIndex)}else{addFace(_j,_j+1,_j+2,group.materialIndex)}}}}else{if(indices!==undefined){for(var _i3=0;_i3<indices.length;_i3+=3){addFace(indices[_i3],indices[_i3+1],indices[_i3+2])}}else{for(var _i4=0;_i4<positions.length/3;_i4+=3){addFace(_i4,_i4+1,_i4+2)}}}this.computeFaceNormals();if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone()}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone()}return this}},{key:"center",value:function center(){this.computeBoundingBox();var offset=this.boundingBox.getCenter().negate();this.translate(offset.x,offset.y,offset.z);return offset}},{key:"normalize",value:function normalize(){this.computeBoundingSphere();var center=this.boundingSphere.center;var radius=this.boundingSphere.radius;var s=radius===0?1:1/radius;var matrix=new _Matrix2.Matrix4;matrix.set(s,0,0,-s*center.x,0,s,0,-s*center.y,0,0,s,-s*center.z,0,0,0,1);return this.applyMatrix(matrix)}},{key:"computeFaceNormals",value:function computeFaceNormals(){var cb=new _Vector2.Vector3,ab=new _Vector2.Vector3;for(var f=0,fl=this.faces.length;f<fl;f++){var face=this.faces[f];var vA=this.vertices[face.a];var vB=this.vertices[face.b];var vC=this.vertices[face.c];cb.copy(vC).sub(vB);ab.copy(vA).sub(vB);cb.cross(ab);cb.normalize();face.normal.copy(cb)}return this}},{key:"computeVertexNormals",value:function computeVertexNormals(){var areaWeighted=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var vertices=new Array(this.vertices.length);for(var v=0,vl=this.vertices.length;v<vl;v++){vertices[v]=new _Vector2.Vector3}if(areaWeighted){
// vertex normals weighted by triangle areas
// http://www.iquilezles.org/www/articles/normals/normals.htm
for(var f=0,fl=this.faces.length;f<fl;f++){var face=this.faces[f];var vA=this.vertices[face.a];var vB=this.vertices[face.b];var vC=this.vertices[face.c];var cb=(new _Vector2.Vector3).copy(vC).sub(vB);var ab=(new _Vector2.Vector3).copy(vA).sub(vB);cb.cross(ab);vertices[face.a].add(cb);vertices[face.b].add(cb);vertices[face.c].add(cb)}}else{this.computeFaceNormals();for(var _f=0,_fl=this.faces.length;_f<_fl;_f++){var _face=this.faces[_f];vertices[_face.a].add(_face.normal);vertices[_face.b].add(_face.normal);vertices[_face.c].add(_face.normal)}}for(var _v=0,_vl=this.vertices.length;_v<_vl;_v++){vertices[_v].normalize()}for(var _f2=0,_fl2=this.faces.length;_f2<_fl2;_f2++){var _face2=this.faces[_f2];var vertexNormals=_face2.vertexNormals;if(vertexNormals.length===3){vertexNormals[0].copy(vertices[_face2.a]);vertexNormals[1].copy(vertices[_face2.b]);vertexNormals[2].copy(vertices[_face2.c])}else{vertexNormals[0]=vertices[_face2.a].clone();vertexNormals[1]=vertices[_face2.b].clone();vertexNormals[2]=vertices[_face2.c].clone()}}if(this.faces.length>0){this.normalsNeedUpdate=true}return this}},{key:"computeFlatVertexNormals",value:function computeFlatVertexNormals(){this.computeFaceNormals();for(var f=0,fl=this.faces.length;f<fl;f++){var face=this.faces[f];var vertexNormals=face.vertexNormals;if(vertexNormals.length===3){vertexNormals[0].copy(face.normal);vertexNormals[1].copy(face.normal);vertexNormals[2].copy(face.normal)}else{vertexNormals[0]=face.normal.clone();vertexNormals[1]=face.normal.clone();vertexNormals[2]=face.normal.clone()}}if(this.faces.length>0){this.normalsNeedUpdate=true}return this}},{key:"computeMorphNormals",value:function computeMorphNormals(){
// save original normals
// - create temp variables on first access
//   otherwise just copy (for faster repeated calls)
for(var f=0,fl=this.faces.length;f<fl;f++){var face=this.faces[f];if(!face.originalFaceNormal){face.originalFaceNormal=face.normal.clone()}else{face.originalFaceNormal.copy(face.normal)}if(!face.originalVertexNormals)face.originalVertexNormals=[];for(var i=0,il=face.vertexNormals.length;i<il;i++){if(!face.originalVertexNormals[i]){face.originalVertexNormals[i]=face.vertexNormals[i].clone()}else{face.originalVertexNormals[i].copy(face.vertexNormals[i])}}}// use temp geometry to compute face and vertex normals for each morph
var tmpGeo=new Geometry;tmpGeo.faces=this.faces;for(var _i5=0,_il2=this.morphTargets.length;_i5<_il2;_i5++){
// create on first access
if(!this.morphNormals[_i5]){this.morphNormals[_i5]={faceNormals:[],vertexNormals:[]};for(var _f3=0,_fl3=this.faces.length;_f3<_fl3;_f3++){this.morphNormals[_i5].faceNormals.push(new _Vector2.Vector3);this.morphNormals[_i5].vertexNormals.push(new _Triangle.Triangle)}}var morphNormals=this.morphNormals[_i5];// set vertices to morph target
tmpGeo.vertices=this.morphTargets[_i5].vertices;// compute morph normals
tmpGeo.computeFaceNormals();tmpGeo.computeVertexNormals();// store morph normals
for(var _f4=0,_fl4=this.faces.length;_f4<_fl4;_f4++){var _face3=this.faces[_f4];var faceNormal=morphNormals.faceNormals[_f4];var vertexNormals=morphNormals.vertexNormals[_f4];faceNormal.copy(_face3.normal);vertexNormals.a.copy(_face3.vertexNormals[0]);vertexNormals.b.copy(_face3.vertexNormals[1]);vertexNormals.c.copy(_face3.vertexNormals[2])}}// restore original normals
for(var _f5=0,_fl5=this.faces.length;_f5<_fl5;_f5++){var _face4=this.faces[_f5];_face4.normal=_face4.originalFaceNormal;_face4.vertexNormals=_face4.originalVertexNormals}return this}},{key:"computeLineDistances",value:function computeLineDistances(){var d=0;var vertices=this.vertices;for(var i=0,il=vertices.length;i<il;i++){if(i>0){d+=vertices[i].distanceTo(vertices[i-1])}this.lineDistances[i]=d}return this}},{key:"computeBoundingBox",value:function computeBoundingBox(){if(this.boundingBox===null){this.boundingBox=new _Box.Box3}this.boundingBox.setFromPoints(this.vertices);return this}},{key:"computeBoundingSphere",value:function computeBoundingSphere(){if(this.boundingSphere===null){this.boundingSphere=new _Sphere.Sphere}this.boundingSphere.setFromPoints(this.vertices);return this}},{key:"merge",value:function merge(geometry,matrix){var materialIndexOffset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var normalMatrix;var vertexOffset=this.vertices.length,thisVertices=this.vertices,thatVertices=geometry.vertices,thisFaces=this.faces,thatFaces=geometry.faces,thisUvs=this.faceVertexUvs[0],thatUvs=geometry.faceVertexUvs[0],thisColors=this.colors,thatColors=geometry.colors;if(matrix!==undefined){normalMatrix=(new _Matrix.Matrix3).getNormalMatrix(matrix)}// vertices
for(var i=0,il=thatVertices.length;i<il;i++){var vertexCopy=thatVertices[i].clone();if(matrix!==undefined)vertexCopy.applyMatrix4(matrix);thisVertices.push(vertexCopy)}// colors
for(var _i6=0,_il3=thatColors.length;_i6<_il3;_i6++){thisColors.push(thatColors[_i6].clone())}// faces
for(var _i7=0,_il4=thatFaces.length;_i7<_il4;_i7++){var face=thatFaces[_i7],faceVertexNormals=face.vertexNormals,faceVertexColors=face.vertexColors;var faceCopy=new GeometryFace(face.a+vertexOffset,face.b+vertexOffset,face.c+vertexOffset);faceCopy.normal.copy(face.normal);if(normalMatrix!==undefined){faceCopy.normal.applyMatrix3(normalMatrix).normalize()}for(var j=0,jl=faceVertexNormals.length;j<jl;j++){var normal=faceVertexNormals[j].clone();if(normalMatrix!==undefined){normal.applyMatrix3(normalMatrix).normalize()}faceCopy.vertexNormals.push(normal)}faceCopy.color.copy(face.color);for(var _j2=0,_jl=faceVertexColors.length;_j2<_jl;_j2++){var color=faceVertexColors[_j2];faceCopy.vertexColors.push(color.clone())}faceCopy.materialIndex=face.materialIndex+materialIndexOffset;thisFaces.push(faceCopy)}// uvs
for(var _i8=0,_il5=thatUvs.length;_i8<_il5;_i8++){var uv=thatUvs[_i8],uvCopy=[];if(uv===undefined){continue}for(var _j3=0,_jl2=uv.length;_j3<_jl2;_j3++){uvCopy.push(uv[_j3].clone())}thisUvs.push(uvCopy)}return this}},{key:"mergeMesh",value:function mergeMesh(mesh){if(mesh.geometry instanceof Geometry){if(mesh.matrixAutoUpdate){mesh.updateMatrix()}this.merge(mesh.geometry,mesh.matrix)}else{console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",mesh.geometry)}}
/**
     * Checks for duplicate vertices with hashmap.
     * Duplicated vertices are removed
     * and faces' vertices are updated.
     * @returns {number}
     */},{key:"mergeVertices",value:function mergeVertices(){
/**
       * Hashmap for looking up vertices by position coordinates (and making sure they are unique)
       * @type {{}}
       */
var verticesMap={};var unique=[],changes=[];
/**
       * number of decimal points, e.g. 4 for epsilon of 0.0001
       * @type {number}
       */var precisionPoints=4;var precision=Math.pow(10,precisionPoints);for(var i=0,il=this.vertices.length;i<il;i++){var v=this.vertices[i];var key=[Math.round(v.x*precision),Math.round(v.y*precision),Math.round(v.z*precision)].join("_");if(verticesMap[key]===undefined){verticesMap[key]=i;unique.push(this.vertices[i]);changes[i]=unique.length-1}else{
// console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);
changes[i]=changes[verticesMap[key]]}}// if faces are completely degenerate after merging vertices, we
// have to remove them from the geometry.
var faceIndicesToRemove=[];for(var _i9=0,_il6=this.faces.length;_i9<_il6;_i9++){var face=this.faces[_i9];face.a=changes[face.a];face.b=changes[face.b];face.c=changes[face.c];var indices=[face.a,face.b,face.c];// if any duplicate vertices are found in a Face3
// we have to remove the face as nothing can be saved
for(var n=0;n<3;n++){if(indices[n]===indices[(n+1)%3]){faceIndicesToRemove.push(_i9);break}}}for(var _i10=faceIndicesToRemove.length-1;_i10>=0;_i10--){var idx=faceIndicesToRemove[_i10];this.faces.splice(idx,1);for(var j=0,jl=this.faceVertexUvs.length;j<jl;j++){this.faceVertexUvs[j].splice(idx,1)}}// Use unique set of vertices
var diff=this.vertices.length-unique.length;this.vertices=unique;return diff}},{key:"setFromPoints",value:function setFromPoints(points){this.vertices=[];for(var i=0,l=points.length;i<l;i++){var point=points[i];this.vertices.push(new _Vector2.Vector3(point.x,point.y,point.z||0))}return this}},{key:"sortFacesByMaterialIndex",value:function sortFacesByMaterialIndex(){var faces=this.faces;var length=faces.length;// tag faces
for(var i=0;i<length;i++){faces[i].id=i}// sort faces
faces.sort(function(a,b){return a.materialIndex-b.materialIndex});// sort uvs
var uvs1=this.faceVertexUvs[0];var uvs2=this.faceVertexUvs[1];var newUvs1,newUvs2;if(uvs1&&uvs1.length===length)newUvs1=[];if(uvs2&&uvs2.length===length)newUvs2=[];for(var _i11=0;_i11<length;_i11++){var id=faces[_i11].id;if(newUvs1)newUvs1.push(uvs1[id]);if(newUvs2)newUvs2.push(uvs2[id])}if(newUvs1)this.faceVertexUvs[0]=newUvs1;if(newUvs2)this.faceVertexUvs[1]=newUvs2;return this}},{key:"copy",value:function copy(source){
// reset
this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;// name
this.name=source.name;// vertices
var vertices=source.vertices;for(var i=0,il=vertices.length;i<il;i++){this.vertices.push(vertices[i].clone())}// colors
var colors=source.colors;for(var _i12=0,_il7=colors.length;_i12<_il7;_i12++){this.colors.push(colors[_i12].clone())}// faces
var faces=source.faces;for(var _i13=0,_il8=faces.length;_i13<_il8;_i13++){this.faces.push(faces[_i13].clone())}// face vertex uvs
for(var _i14=0,_il9=source.faceVertexUvs.length;_i14<_il9;_i14++){var faceVertexUvs=source.faceVertexUvs[_i14];if(this.faceVertexUvs[_i14]===undefined){this.faceVertexUvs[_i14]=[]}for(var j=0,jl=faceVertexUvs.length;j<jl;j++){var uvs=faceVertexUvs[j];var uvsCopy=[];for(var k=0,kl=uvs.length;k<kl;k++){uvsCopy.push(uvs[k].clone())}this.faceVertexUvs[_i14].push(uvsCopy)}}// morph targets
var morphTargets=source.morphTargets;for(var _i15=0,_il10=morphTargets.length;_i15<_il10;_i15++){var morphTarget={name:morphTargets[_i15].name};// vertices
if(morphTargets[_i15].vertices!==undefined){morphTarget.vertices=[];for(var _j4=0,_jl3=morphTargets[_i15].vertices.length;_j4<_jl3;_j4++){morphTarget.vertices.push(morphTargets[_i15].vertices[_j4].clone())}}// normals
if(morphTargets[_i15].normals!==undefined){morphTarget.normals=[];for(var _j5=0,_jl4=morphTargets[_i15].normals.length;_j5<_jl4;_j5++){morphTarget.normals.push(morphTargets[_i15].normals[_j5].clone())}}this.morphTargets.push(morphTarget)}// morph normals
var morphNormals=source.morphNormals;for(var _i16=0,_il11=morphNormals.length;_i16<_il11;_i16++){var morphNormal={};// vertex normals
if(morphNormals[_i16].vertexNormals!==undefined){morphNormal.vertexNormals=[];for(var _j6=0,_jl5=morphNormals[_i16].vertexNormals.length;_j6<_jl5;_j6++){morphNormal.vertexNormals.push(morphNormals[_i16].vertexNormals[_j6].clone())}}// face normals
if(morphNormals[_i16].faceNormals!==undefined){morphNormal.faceNormals=[];for(var _j7=0,_jl6=morphNormals[_i16].faceNormals.length;_j7<_jl6;_j7++){morphNormal.faceNormals.push(morphNormals[_i16].faceNormals[_j7].clone())}}this.morphNormals.push(morphNormal)}// skin weights
var skinWeights=source.skinWeights;for(var _i17=0,_il12=skinWeights.length;_i17<_il12;_i17++){this.skinWeights.push(skinWeights[_i17].clone())}// skin indices
var skinIndices=source.skinIndices;for(var _i18=0,_il13=skinIndices.length;_i18<_il13;_i18++){this.skinIndices.push(skinIndices[_i18].clone())}// line distances
var lineDistances=source.lineDistances;for(var _i19=0,_il14=lineDistances.length;_i19<_il14;_i19++){this.lineDistances.push(lineDistances[_i19])}// bounding box
var boundingBox=source.boundingBox;if(boundingBox!==null){this.boundingBox=boundingBox.clone()}// bounding sphere
var boundingSphere=source.boundingSphere;if(boundingSphere!==null){this.boundingSphere=boundingSphere.clone()}// update flags
this.elementsNeedUpdate=source.elementsNeedUpdate;this.verticesNeedUpdate=source.verticesNeedUpdate;this.uvsNeedUpdate=source.uvsNeedUpdate;this.normalsNeedUpdate=source.normalsNeedUpdate;this.colorsNeedUpdate=source.colorsNeedUpdate;this.lineDistancesNeedUpdate=source.lineDistancesNeedUpdate;this.groupsNeedUpdate=source.groupsNeedUpdate;return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return Geometry}(_EventDispatcher2.EventDispatcher);exports.Geometry=Geometry;
/***/},
/***/"./es/core/InstancedBufferAttribute.js":
/*!*********************************************!*\
  !*** ./es/core/InstancedBufferAttribute.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InstancedBufferAttribute=void 0;var _BufferAttribute2=__webpack_require__(/*! ./BufferAttribute */"./es/core/BufferAttribute.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InstancedBufferAttribute=
/* */
function(_BufferAttribute){_inherits(InstancedBufferAttribute,_BufferAttribute);function InstancedBufferAttribute(array,itemSize){var _this;var normalized=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var meshPerAttribute=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;_classCallCheck(this,InstancedBufferAttribute);_this=_possibleConstructorReturn(this,(InstancedBufferAttribute.__proto__||Object.getPrototypeOf(InstancedBufferAttribute)).call(this,array,itemSize,normalized));_this.meshPerAttribute=1;_this.meshPerAttribute=meshPerAttribute;return _this}_createClass(InstancedBufferAttribute,[{key:"copy",value:function copy(source){_get(InstancedBufferAttribute.prototype.__proto__||Object.getPrototypeOf(InstancedBufferAttribute.prototype),"copy",this).call(this,source);this.meshPerAttribute=source.meshPerAttribute;return this}}]);return InstancedBufferAttribute}(_BufferAttribute2.BufferAttribute);exports.InstancedBufferAttribute=InstancedBufferAttribute;
/***/},
/***/"./es/core/InstancedBufferGeometry.js":
/*!********************************************!*\
  !*** ./es/core/InstancedBufferGeometry.js ***!
  \********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InstancedBufferGeometry=void 0;var _BufferGeometry2=__webpack_require__(/*! ./BufferGeometry */"./es/core/BufferGeometry.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InstancedBufferGeometry=
/* */
function(_BufferGeometry){_inherits(InstancedBufferGeometry,_BufferGeometry);function InstancedBufferGeometry(){var _this;_classCallCheck(this,InstancedBufferGeometry);_this=_possibleConstructorReturn(this,(InstancedBufferGeometry.__proto__||Object.getPrototypeOf(InstancedBufferGeometry)).apply(this,arguments));_this.type="InstancedBufferGeometry";return _this}_createClass(InstancedBufferGeometry,[{key:"copy",value:function copy(source){_get(InstancedBufferGeometry.prototype.__proto__||Object.getPrototypeOf(InstancedBufferGeometry.prototype),"copy",this).call(this,source);this.maxInstancedCount=source.maxInstancedCount;return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return InstancedBufferGeometry}(_BufferGeometry2.BufferGeometry);exports.InstancedBufferGeometry=InstancedBufferGeometry;
/***/},
/***/"./es/core/InstancedInterleavedBufferAttribute.js":
/*!********************************************************!*\
  !*** ./es/core/InstancedInterleavedBufferAttribute.js ***!
  \********************************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InstancedInterleavedBufferAttribute=void 0;var _InterleavedBufferAttribute=__webpack_require__(/*! ./InterleavedBufferAttribute */"./es/core/InterleavedBufferAttribute.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InstancedInterleavedBufferAttribute=
/* */
function(_InterleavedBufferAtt){_inherits(InstancedInterleavedBufferAttribute,_InterleavedBufferAtt);function InstancedInterleavedBufferAttribute(array,stride,itemSize,offset){var _this;var normalized=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var meshPerAttribute=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;_classCallCheck(this,InstancedInterleavedBufferAttribute);_this=_possibleConstructorReturn(this,(InstancedInterleavedBufferAttribute.__proto__||Object.getPrototypeOf(InstancedInterleavedBufferAttribute)).call(this,array,stride,itemSize,offset,normalized));_this.meshPerAttribute=1;_this.meshPerAttribute=meshPerAttribute;return _this}_createClass(InstancedInterleavedBufferAttribute,[{key:"copy",value:function copy(source){_get(InstancedInterleavedBufferAttribute.prototype.__proto__||Object.getPrototypeOf(InstancedInterleavedBufferAttribute.prototype),"copy",this).call(this,source);this.meshPerAttribute=source.meshPerAttribute;return this}}]);return InstancedInterleavedBufferAttribute}(_InterleavedBufferAttribute.InterleavedBufferAttribute);exports.InstancedInterleavedBufferAttribute=InstancedInterleavedBufferAttribute;
/***/},
/***/"./es/core/InterleavedBufferAttribute.js":
/*!***********************************************!*\
  !*** ./es/core/InterleavedBufferAttribute.js ***!
  \***********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InterleavedBufferAttribute=void 0;var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");var _Vector2=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _Vector3=__webpack_require__(/*! ../math/Vector4 */"./es/math/Vector4.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var InterleavedBufferAttribute=
/* */
function(){function InterleavedBufferAttribute(array,stride,itemSize,offset){var normalized=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;_classCallCheck(this,InterleavedBufferAttribute);this.uuid=_Math.MathUtil.generateUUID();this.array=undefined;this.stride=1;this.count=0;this.dynamic=false;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=false;this.array=array;this.stride=stride;this.count=array!==undefined?array.length/stride:0;this.itemSize=itemSize;this.offset=offset;this.normalized=normalized}_createClass(InterleavedBufferAttribute,[{key:"setArray",value:function setArray(array){this.count=array!==undefined?array.length/this.stride:0;this.array=array;return this}},{key:"setDynamic",value:function setDynamic(value){this.dynamic=value;return this}},{key:"copy",value:function copy(source){this.array=new source.array.constructor(source.array);this.stride=source.stride;this.count=source.count;this.dynamic=source.dynamic;return this}},{key:"set",value:function set(value){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.array.set(value,offset);return this}},{key:"get",value:function get(){var offset=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var length=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return this.array.slice(offset,length)}},{key:"copyAt",value:function copyAt(index1,attribute,index2){index1*=this.stride;index2*=attribute.stride;for(var i=0,l=this.stride;i<l;i++){this.array[index1+i]=attribute.array[index2+i]}return this}},{key:"clone",value:function clone(){return new this.constructor(this.array,this.stride).copy(this)}},{key:"setProperty",value:function setProperty(index,property,value){property=property.toLowerCase();if(property&&property.length<=4&&property.replace(/[xyzw]/g,"").length===0){var offsetMap={x:0,y:1,z:2};if(property.length===1&&typeof value==="number"){this.array[index*this.stride+this.offset+offsetMap[property.charAt(0)]]=value}else if(property.length===2&&value instanceof _Vector.Vector2){this.array[index*this.stride+this.offset+offsetMap[property.charAt(0)]]=value.x;this.array[index*this.stride+this.offset+offsetMap[property.charAt(1)]]=value.y}else if(property.length===3&&value instanceof _Vector2.Vector3){this.array[index*this.stride+this.offset+offsetMap[property.charAt(0)]]=value.x;this.array[index*this.stride+this.offset+offsetMap[property.charAt(1)]]=value.y;this.array[index*this.stride+this.offset+offsetMap[property.charAt(2)]]=value.z}else if(property.length===4&&value instanceof _Vector3.Vector4){this.array[index*this.stride+this.offset+offsetMap[property.charAt(0)]]=value.x;this.array[index*this.stride+this.offset+offsetMap[property.charAt(1)]]=value.y;this.array[index*this.stride+this.offset+offsetMap[property.charAt(2)]]=value.z;this.array[index*this.stride+this.offset+offsetMap[property.charAt(3)]]=value.w}}return this}},{key:"getProperty",value:function getProperty(index,property){property=property.toLowerCase();if(property&&property.length<=4&&property.replace(/[xyzw]/g,"").length===0){var offsetMap={x:0,y:1,z:2};if(property.length===1){return this.array[index*this.stride+this.offset+offsetMap[property.charAt(0)]]}else if(property.length===2){return new _Vector.Vector2(this.array[index*this.stride+this.offset+offsetMap[property.charAt(0)]],this.array[index*this.stride+this.offset+offsetMap[property.charAt(1)]])}else if(property.length===3){return new _Vector2.Vector3(this.array[index*this.stride+this.offset+offsetMap[property.charAt(0)]],this.array[index*this.stride+this.offset+offsetMap[property.charAt(1)]],this.array[index*this.stride+this.offset+offsetMap[property.charAt(2)]])}else if(property.length===4){return new _Vector3.Vector4(this.array[index*this.stride+this.offset+offsetMap[property.charAt(0)]],this.array[index*this.stride+this.offset+offsetMap[property.charAt(1)]],this.array[index*this.stride+this.offset+offsetMap[property.charAt(2)]],this.array[index*this.stride+this.offset+offsetMap[property.charAt(3)]])}}return undefined}},{key:"needsUpdate",set:function set(value){if(value===true)this.version++}}]);return InterleavedBufferAttribute}();exports.InterleavedBufferAttribute=InterleavedBufferAttribute;
/***/},
/***/"./es/core/Layers.js":
/*!***************************!*\
  !*** ./es/core/Layers.js ***!
  \***************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Layers=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Layers=
/* */
function(){function Layers(){_classCallCheck(this,Layers);this.mask=1|0}_createClass(Layers,[{key:"set",value:function set(channel){this.mask=1<<channel|0}},{key:"enable",value:function enable(channel){this.mask|=1<<channel|0}},{key:"toggle",value:function toggle(channel){this.mask^=1<<channel|0}},{key:"disable",value:function disable(channel){this.mask&=~(1<<channel|0)}},{key:"test",value:function test(layers){return(this.mask&layers.mask)!==0}}]);return Layers}();exports.Layers=Layers;
/***/},
/***/"./es/core/Object3D.js":
/*!*****************************!*\
  !*** ./es/core/Object3D.js ***!
  \*****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Object3D=void 0;var _Camera=__webpack_require__(/*! ../cameras/Camera */"./es/cameras/Camera.js");var _Euler=__webpack_require__(/*! ../math/Euler */"./es/math/Euler.js");var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Matrix=__webpack_require__(/*! ../math/Matrix3 */"./es/math/Matrix3.js");var _Matrix2=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Quaternion=__webpack_require__(/*! ../math/Quaternion */"./es/math/Quaternion.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _EventDispatcher2=__webpack_require__(/*! ./EventDispatcher */"./es/core/EventDispatcher.js");var _Layers=__webpack_require__(/*! ./Layers */"./es/core/Layers.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var object3DId=0;var Object3D=
/* */
function(_EventDispatcher){_inherits(Object3D,_EventDispatcher);function Object3D(){var _this;_classCallCheck(this,Object3D);_this=_possibleConstructorReturn(this,(Object3D.__proto__||Object.getPrototypeOf(Object3D)).call(this));_this.id=object3DId++;_this.uuid=_Math.MathUtil.generateUUID();_this.name="";_this.type="Object3D";_this.parent=null;_this.children=[];_this.up=(new _Vector.Vector3).copy(Object3D.DefaultUp);_this.matrix=new _Matrix2.Matrix4;_this.matrixWorld=new _Matrix2.Matrix4;_this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate;_this.matrixWorldNeedsUpdate=false;_this.layers=new _Layers.Layers;_this.visible=true;_this.castShadow=false;_this.receiveShadow=false;_this.frustumCulled=true;_this.renderOrder=0;_this.userData={};_this.position=new _Vector.Vector3;_this.rotation=new _Euler.Euler;_this.quaternion=new _Quaternion.Quaternion;_this.scale=new _Vector.Vector3(1,1,1);_this.modelViewMatrix=new _Matrix2.Matrix4;_this.normalMatrix=new _Matrix.Matrix3;_this.onBeforeRender=function(){};_this.onAfterRender=function(){};_this.rotation.onChange(function(){_this.quaternion.setFromEuler(_this.rotation,false)});_this.quaternion.onChange(function(){_this.rotation.setFromQuaternion(_this.quaternion,undefined,false)});return _this}_createClass(Object3D,[{key:"updateMatrix",value:function updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=true;return this}},{key:"updateMatrixWorld",value:function updateMatrixWorld(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.matrixAutoUpdate){this.updateMatrix()}if(this.matrixWorldNeedsUpdate||force){if(this.parent===null){this.matrixWorld.copy(this.matrix)}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)}this.matrixWorldNeedsUpdate=false;force=true}// update children
var children=this.children;for(var i=0,l=children.length;i<l;i++){children[i].updateMatrixWorld(force)}return this}},{key:"raycast",value:function raycast(raycaster,intersections){}},{key:"applyMatrix",value:function applyMatrix(matrix){this.matrix.multiplyMatrices(matrix,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale);return this}},{key:"applyQuaternion",value:function applyQuaternion(q){this.quaternion.premultiply(q);return this}
/**
     * assumes axis is normalized
     * @param axis
     * @param angle
     * @returns {Object3D}
     */},{key:"setRotationFromAxisAngle",value:function setRotationFromAxisAngle(axis,angle){this.quaternion.setFromAxisAngle(axis,angle);return this}},{key:"setRotationFromEuler",value:function setRotationFromEuler(euler){this.quaternion.setFromEuler(euler);return this}
/**
     * assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
     * @param m
     * @returns {Object3D}
     */},{key:"setRotationFromMatrix",value:function setRotationFromMatrix(m){this.quaternion.setFromRotationMatrix(m);return this}
/**
     * assumes q is normalized
     * @param q
     * @returns {Object3D}
     */},{key:"setRotationFromQuaternion",value:function setRotationFromQuaternion(q){this.quaternion.copy(q);return this}},{key:"rotateOnAxis",value:function rotateOnAxis(axis,angle){var q=new _Quaternion.Quaternion;q.setFromAxisAngle(axis,angle);this.quaternion.multiply(q);return this}
/**
     * rotate object on axis in world space
     * axis is assumed to be normalized
     * method assumes no rotated parent
     * @param axis
     * @param angle
     * @returns {Object3D}
     */},{key:"rotateOnWorldAxis",value:function rotateOnWorldAxis(axis,angle){var q=new _Quaternion.Quaternion;q.setFromAxisAngle(axis,angle);this.quaternion.premultiply(q);return this}},{key:"rotateX",value:function rotateX(angle){return this.rotateOnAxis(new _Vector.Vector3(1,0,0),angle)}},{key:"rotateY",value:function rotateY(angle){return this.rotateOnAxis(new _Vector.Vector3(0,1,0),angle)}},{key:"rotateZ",value:function rotateZ(angle){return this.rotateOnAxis(new _Vector.Vector3(0,0,1),angle)}
/**
     * translate object by distance along axis in object space
     * axis is assumed to be normalized
     * @param axis
     * @param distance
     * @returns {Object3D}
     */},{key:"translateOnAxis",value:function translateOnAxis(axis,distance){var vec=new _Vector.Vector3;vec.copy(axis).applyQuaternion(this.quaternion);this.position.add(vec.multiplyScalar(distance));return this}},{key:"translateX",value:function translateX(distance){return this.translateOnAxis(new _Vector.Vector3(1,0,0),distance)}},{key:"translateY",value:function translateY(distance){return this.translateOnAxis(new _Vector.Vector3(0,1,0),distance)}},{key:"translateZ",value:function translateZ(distance){return this.translateOnAxis(new _Vector.Vector3(0,0,1),distance)}},{key:"localToWorld",value:function localToWorld(vector){return vector.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function worldToLocal(vector){return vector.applyMatrix4((new _Matrix2.Matrix4).getInverse(this.matrixWorld))}},{key:"lookAt",value:function lookAt(vec){var mat=new _Matrix2.Matrix4;if(this instanceof _Camera.Camera){mat.lookAt(this.position,vec,this.up)}else{mat.lookAt(vec,this.position,this.up)}this.quaternion.setFromRotationMatrix(mat);return this}},{key:"add",value:function add(object){if((arguments.length<=1?0:arguments.length-1)>1){for(var i=0;i<(arguments.length<=1?0:arguments.length-1);i++){this.add(i+1<1||arguments.length<=i+1?undefined:arguments[i+1])}return this}if(object===this){console.error("THREE.Object3D.add: object can't be added as a child of itself. ".concat(object));return this}if(object.parent!==null){object.parent.remove(object)}object.parent=this;object.dispatchEvent({type:"added"});this.children.push(object);return this}},{key:"remove",value:function remove(object){if((arguments.length<=1?0:arguments.length-1)>1){for(var i=0;i<(arguments.length<=1?0:arguments.length-1);i++){this.remove(i+1<1||arguments.length<=i+1?undefined:arguments[i+1])}return this}var index=this.children.indexOf(object);if(index!==-1){object.parent=null;object.dispatchEvent({type:"removed"});this.children.splice(index,1)}return this}},{key:"traverse",value:function traverse(callback){callback(this);for(var i=0,l=this.children.length;i<l;i++){this.children[i].traverse(callback)}}},{key:"traverseVisible",value:function traverseVisible(callback){if(this.visible===false)return;callback(this);for(var i=0,l=this.children.length;i<l;i++){this.children[i].traverseVisible(callback)}}},{key:"traverseAncestors",value:function traverseAncestors(callback){if(this.parent!==null){callback(this.parent);this.parent.traverseAncestors(callback)}}},{key:"clone",value:function clone(){var recursive=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return(new this.constructor).copy(this,recursive)}},{key:"copy",value:function copy(source){var recursive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.name=source.name;this.up.copy(source.up);this.position.copy(source.position);this.quaternion.copy(source.quaternion);this.scale.copy(source.scale);this.matrix.copy(source.matrix);this.matrixWorld.copy(source.matrixWorld);this.matrixAutoUpdate=source.matrixAutoUpdate;this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate;this.layers.mask=source.layers.mask;this.visible=source.visible;this.castShadow=source.castShadow;this.receiveShadow=source.receiveShadow;this.frustumCulled=source.frustumCulled;this.renderOrder=source.renderOrder;this.userData=JSON.parse(JSON.stringify(source.userData));if(recursive===true){for(var i=0;i<source.children.length;i++){this.add(source.children[i].clone())}}return this}},{key:"worldPosition",get:function get(){this.updateMatrixWorld(true);return(new _Vector.Vector3).setFromMatrixPosition(this.matrixWorld)}},{key:"worldQuaternion",get:function get(){var position=new _Vector.Vector3;var scale=new _Vector.Vector3;var result=new _Quaternion.Quaternion;this.updateMatrixWorld(true);this.matrixWorld.decompose(position,result,scale);return result}},{key:"worldRotation",get:function get(){return(new _Euler.Euler).setFromQuaternion(this.worldQuaternion,this.rotation.order,false)}},{key:"worldScale",get:function get(){var position=new _Vector.Vector3;var quaternion=new _Quaternion.Quaternion;var result=new _Vector.Vector3;this.updateMatrixWorld(true);this.matrixWorld.decompose(position,quaternion,result);return result}},{key:"worldDirection",get:function get(){return(new _Vector.Vector3).set(0,0,1).applyQuaternion(this.worldQuaternion)}}]);return Object3D}(_EventDispatcher2.EventDispatcher);exports.Object3D=Object3D;Object3D.DefaultUp=new _Vector.Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=true;
/***/},
/***/"./es/core/Raycaster.js":
/*!******************************!*\
  !*** ./es/core/Raycaster.js ***!
  \******************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Raycaster=void 0;var _OrthographicCamera=__webpack_require__(/*! ../cameras/OrthographicCamera */"./es/cameras/OrthographicCamera.js");var _PerspectiveCamera=__webpack_require__(/*! ../cameras/PerspectiveCamera */"./es/cameras/PerspectiveCamera.js");var _Ray=__webpack_require__(/*! ../math/Ray */"./es/math/Ray.js");var _utils=__webpack_require__(/*! ../utils */"./es/utils.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _intersectObject(object,raycaster,intersects){var recursive=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(object.visible===false)return;object.raycast(raycaster,intersects);if(recursive===true){var children=object.children;for(var i=0,l=children.length;i<l;i++){_intersectObject(children[i],raycaster,intersects,true)}}}var Raycaster=
/* */
function(){function Raycaster(origin,direction){var near=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var far=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Infinity;_classCallCheck(this,Raycaster);this.params={LOD:{},Line:{},Mesh:{},Points:{threshold:1},Sprite:{}};this.near=0;this.far=Infinity;this.linePrecision=1;this.ray=new _Ray.Ray(origin,direction);this.near=near;this.far=far}_createClass(Raycaster,[{key:"set",value:function set(origin,direction){this.ray.set(origin,direction);return this}},{key:"setFromCamera",value:function setFromCamera(coords,camera){if(camera&&camera instanceof _PerspectiveCamera.PerspectiveCamera){this.ray.origin.setFromMatrixPosition(camera.matrixWorld);this.ray.direction.set(coords.x,coords.y,.5);(0,_utils.unprojectVector3OnCamera)(this.ray.direction,camera);this.ray.direction.sub(this.ray.origin).normalize()}else if(camera&&camera instanceof _OrthographicCamera.OrthographicCamera){this.ray.origin.set(coords.x,coords.y,(camera.near+camera.far)/(camera.near-camera.far));(0,_utils.unprojectVector3OnCamera)(this.ray.origin,camera);// set origin in plane of camera
this.ray.direction.set(0,0,-1).transformDirection(camera.matrixWorld)}else{console.error("THREE.Raycaster: Unsupported camera type.")}return this}},{key:"intersectObject",value:function intersectObject(object){var recursive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var intersects=[];_intersectObject(object,this,intersects,recursive);intersects.sort(function(a,b){return a.distance-b.distance});return intersects}},{key:"intersectObjects",value:function intersectObjects(objects){var recursive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var intersects=[];for(var i=0,l=objects.length;i<l;i++){_intersectObject(objects[i],this,intersects,recursive)}intersects.sort(function(a,b){return a.distance-b.distance});return intersects}}]);return Raycaster}();exports.Raycaster=Raycaster;
/***/},
/***/"./es/extras/objects/ImmediateRenderObject.js":
/*!****************************************************!*\
  !*** ./es/extras/objects/ImmediateRenderObject.js ***!
  \****************************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ImmediateRenderObject=void 0;var _Object3D2=__webpack_require__(/*! ../../core/Object3D */"./es/core/Object3D.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ImmediateRenderObject=
/* */
function(_Object3D){_inherits(ImmediateRenderObject,_Object3D);function ImmediateRenderObject(material){var _this;_classCallCheck(this,ImmediateRenderObject);_this=_possibleConstructorReturn(this,(ImmediateRenderObject.__proto__||Object.getPrototypeOf(ImmediateRenderObject)).call(this));_this.material=material;return _this}return ImmediateRenderObject}(_Object3D2.Object3D);exports.ImmediateRenderObject=ImmediateRenderObject;
/***/},
/***/"./es/geometries/BoxGeometry.js":
/*!**************************************!*\
  !*** ./es/geometries/BoxGeometry.js ***!
  \**************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BoxBufferGeometry=exports.BoxGeometry=void 0;var _BufferAttribute=__webpack_require__(/*! ../core/BufferAttribute */"./es/core/BufferAttribute.js");var _BufferGeometry2=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry2=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BoxGeometry=
/* */
function(_Geometry){_inherits(BoxGeometry,_Geometry);function BoxGeometry(width,height,depth,widthSegments,heightSegments,depthSegments){var _this;_classCallCheck(this,BoxGeometry);_this=_possibleConstructorReturn(this,(BoxGeometry.__proto__||Object.getPrototypeOf(BoxGeometry)).call(this));_this.type="BoxGeometry";_this.parameters={depth:depth,depthSegments:depthSegments,height:height,heightSegments:heightSegments,width:width,widthSegments:widthSegments};_this.fromBufferGeometry(new BoxBufferGeometry(width,height,depth,widthSegments,heightSegments,depthSegments));_this.mergeVertices();return _this}return BoxGeometry}(_Geometry2.Geometry);exports.BoxGeometry=BoxGeometry;var BoxBufferGeometry=
/* */
function(_BufferGeometry){_inherits(BoxBufferGeometry,_BufferGeometry);function BoxBufferGeometry(){var _this2;var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var depth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var widthSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var heightSegments=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;var depthSegments=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;_classCallCheck(this,BoxBufferGeometry);_this2=_possibleConstructorReturn(this,(BoxBufferGeometry.__proto__||Object.getPrototypeOf(BoxBufferGeometry)).call(this));_this2.type="BoxBufferGeometry";_this2.parameters={depth:depth,depthSegments:depthSegments,height:height,heightSegments:heightSegments,width:width,widthSegments:widthSegments};widthSegments=Math.floor(widthSegments);heightSegments=Math.floor(heightSegments);depthSegments=Math.floor(depthSegments);// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables
var numberOfVertices=0;var groupStart=0;var buildPlane=function buildPlane(u,v,w,uDir,vDir,width2,height2,depth2,gridX,gridY,materialIndex){var segmentWidth=width2/gridX;var segmentHeight=height2/gridY;var widthHalf=width2/2;var heightHalf=height2/2;var depthHalf=depth2/2;var gridX1=gridX+1;var gridY1=gridY+1;var vertexCounter=0;var groupCount=0;// generate vertices, normals and uvs
for(var iy=0;iy<gridY1;iy++){var y=iy*segmentHeight-heightHalf;for(var ix=0;ix<gridX1;ix++){var x=ix*segmentWidth-widthHalf;var vector=new _Vector.Vector3;// set values to correct vector component
vector[u]=x*uDir;vector[v]=y*vDir;vector[w]=depthHalf;// now apply vector to vertex buffer
vertices.push(vector.x,vector.y,vector.z);// set values to correct vector component
vector[u]=0;vector[v]=0;vector[w]=depth2>0?1:-1;// now apply vector to normal buffer
normals.push(vector.x,vector.y,vector.z);// uvs
uvs.push(ix/gridX);uvs.push(1-iy/gridY);// counters
vertexCounter+=1}}// indices
// 1. you need three indices to draw a single face
// 2. a single segment consists of two faces
// 3. so we need to generate six (2*3) indices per segment
for(var _iy=0;_iy<gridY;_iy++){for(var _ix=0;_ix<gridX;_ix++){var a=numberOfVertices+_ix+gridX1*_iy;var b=numberOfVertices+_ix+gridX1*(_iy+1);var c=numberOfVertices+(_ix+1)+gridX1*(_iy+1);var d=numberOfVertices+(_ix+1)+gridX1*_iy;// faces
indices.push(a,b,d);indices.push(b,c,d);// increase counter
groupCount+=6}}// add a group to the geometry. this will ensure multi material support
_this2.addGroup(groupStart,groupCount,materialIndex);// calculate new start value for groups
groupStart+=groupCount;// update total number of vertices
numberOfVertices+=vertexCounter};// build each side of the box geometry
buildPlane("z","y","x",-1,-1,depth,height,width,depthSegments,heightSegments,0);// px
buildPlane("z","y","x",1,-1,depth,height,-width,depthSegments,heightSegments,1);// nx
buildPlane("x","z","y",1,1,width,depth,height,widthSegments,depthSegments,2);// py
buildPlane("x","z","y",1,-1,width,depth,-height,widthSegments,depthSegments,3);// ny
buildPlane("x","y","z",1,-1,width,height,depth,widthSegments,heightSegments,4);// pz
buildPlane("x","y","z",-1,-1,width,height,-depth,widthSegments,heightSegments,5);// nz
// build geometry
_this2.setIndex(indices);_this2.addAttribute("position",new _BufferAttribute.Float32BufferAttribute(vertices,3));_this2.addAttribute("normal",new _BufferAttribute.Float32BufferAttribute(normals,3));_this2.addAttribute("uv",new _BufferAttribute.Float32BufferAttribute(uvs,2));return _this2}return BoxBufferGeometry}(_BufferGeometry2.BufferGeometry);exports.BoxBufferGeometry=BoxBufferGeometry;
/***/},
/***/"./es/geometries/CircleGeometry.js":
/*!*****************************************!*\
  !*** ./es/geometries/CircleGeometry.js ***!
  \*****************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CircleBufferGeometry=exports.CircleGeometry=void 0;var _BufferAttribute=__webpack_require__(/*! ../core/BufferAttribute */"./es/core/BufferAttribute.js");var _BufferGeometry2=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry2=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CircleGeometry=
/* */
function(_Geometry){_inherits(CircleGeometry,_Geometry);function CircleGeometry(radius,segments,thetaStart,thetaLength){var _this;_classCallCheck(this,CircleGeometry);_this=_possibleConstructorReturn(this,(CircleGeometry.__proto__||Object.getPrototypeOf(CircleGeometry)).call(this));_this.type="CircleGeometry";_this.parameters={radius:radius,segments:segments,thetaLength:thetaLength,thetaStart:thetaStart};_this.fromBufferGeometry(new CircleBufferGeometry(radius,segments,thetaStart,thetaLength));_this.mergeVertices();return _this}return CircleGeometry}(_Geometry2.Geometry);exports.CircleGeometry=CircleGeometry;var CircleBufferGeometry=
/* */
function(_BufferGeometry){_inherits(CircleBufferGeometry,_BufferGeometry);function CircleBufferGeometry(){var _this2;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var segments=arguments.length>1?arguments[1]:undefined;var thetaStart=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var thetaLength=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Math.PI*2;_classCallCheck(this,CircleBufferGeometry);_this2=_possibleConstructorReturn(this,(CircleBufferGeometry.__proto__||Object.getPrototypeOf(CircleBufferGeometry)).call(this));_this2.type="CircleBufferGeometry";_this2.parameters={radius:radius,segments:segments,thetaLength:thetaLength,thetaStart:thetaStart};segments=segments!==undefined?Math.max(3,segments):8;// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// center point
vertices.push(0,0,0);normals.push(0,0,1);uvs.push(.5,.5);for(var s=0,i=3;s<=segments;s++,i+=3){var segment=thetaStart+s/segments*thetaLength;// vertex
vertices.push(radius*Math.cos(segment),radius*Math.sin(segment),0);// normal
normals.push(0,0,1);// uvs
uvs.push((vertices[i]/radius+1)/2,(vertices[i+1]/radius+1)/2)}// indices
for(var _i=1;_i<=segments;_i++){indices.push(_i,_i+1,0)}// build geometry
_this2.setIndex(indices);_this2.addAttribute("position",new _BufferAttribute.Float32BufferAttribute(vertices,3));_this2.addAttribute("normal",new _BufferAttribute.Float32BufferAttribute(normals,3));_this2.addAttribute("uv",new _BufferAttribute.Float32BufferAttribute(uvs,2));return _this2}return CircleBufferGeometry}(_BufferGeometry2.BufferGeometry);exports.CircleBufferGeometry=CircleBufferGeometry;
/***/},
/***/"./es/geometries/ConeGeometry.js":
/*!***************************************!*\
  !*** ./es/geometries/ConeGeometry.js ***!
  \***************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConeBufferGeometry=exports.ConeGeometry=void 0;var _BufferGeometry2=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry2=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");var _CylinderGeometry=__webpack_require__(/*! ./CylinderGeometry */"./es/geometries/CylinderGeometry.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}var ConeGeometry=
/* */
function(_Geometry){_inherits(ConeGeometry,_Geometry);function ConeGeometry(radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){var _this;_classCallCheck(this,ConeGeometry);_this=_possibleConstructorReturn(this,(ConeGeometry.__proto__||Object.getPrototypeOf(ConeGeometry)).call(this));_this.type="ConeGeometry";_CylinderGeometry.CylinderGeometry.call(_assertThisInitialized(_this),0,radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength);_this.parameters={height:height,heightSegments:heightSegments,openEnded:openEnded,radialSegments:radialSegments,radius:radius,thetaLength:thetaLength,thetaStart:thetaStart};return _this}return ConeGeometry}(_Geometry2.Geometry);exports.ConeGeometry=ConeGeometry;var ConeBufferGeometry=
/* */
function(_BufferGeometry){_inherits(ConeBufferGeometry,_BufferGeometry);function ConeBufferGeometry(radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){var _this2;_classCallCheck(this,ConeBufferGeometry);_this2=_possibleConstructorReturn(this,(ConeBufferGeometry.__proto__||Object.getPrototypeOf(ConeBufferGeometry)).call(this));_this2.type="ConeBufferGeometry";_CylinderGeometry.CylinderBufferGeometry.call(_assertThisInitialized(_this2),0,radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength);_this2.parameters={height:height,heightSegments:heightSegments,openEnded:openEnded,radialSegments:radialSegments,radius:radius,thetaLength:thetaLength,thetaStart:thetaStart};return _this2}return ConeBufferGeometry}(_BufferGeometry2.BufferGeometry);exports.ConeBufferGeometry=ConeBufferGeometry;
/***/},
/***/"./es/geometries/CylinderGeometry.js":
/*!*******************************************!*\
  !*** ./es/geometries/CylinderGeometry.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CylinderBufferGeometry=exports.CylinderGeometry=void 0;var _BufferAttribute=__webpack_require__(/*! ../core/BufferAttribute */"./es/core/BufferAttribute.js");var _BufferGeometry2=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry2=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CylinderGeometry=
/* */
function(_Geometry){_inherits(CylinderGeometry,_Geometry);function CylinderGeometry(radiusTop,radiusBottom,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){var _this;_classCallCheck(this,CylinderGeometry);_this=_possibleConstructorReturn(this,(CylinderGeometry.__proto__||Object.getPrototypeOf(CylinderGeometry)).call(this));_this.type="CylinderGeometry";_this.parameters={height:height,heightSegments:heightSegments,openEnded:openEnded,radialSegments:radialSegments,radiusBottom:radiusBottom,radiusTop:radiusTop,thetaLength:thetaLength,thetaStart:thetaStart};_this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop,radiusBottom,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength));_this.mergeVertices();return _this}return CylinderGeometry}(_Geometry2.Geometry);exports.CylinderGeometry=CylinderGeometry;var CylinderBufferGeometry=
/* */
function(_BufferGeometry){_inherits(CylinderBufferGeometry,_BufferGeometry);function CylinderBufferGeometry(){var _this2;var radiusTop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var radiusBottom=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var height=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var radialSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:9;var heightSegments=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;var openEnded=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var thetaStart=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var thetaLength=arguments.length>7&&arguments[7]!==undefined?arguments[7]:Math.PI*2;_classCallCheck(this,CylinderBufferGeometry);_this2=_possibleConstructorReturn(this,(CylinderBufferGeometry.__proto__||Object.getPrototypeOf(CylinderBufferGeometry)).call(this));_this2.type="CylinderBufferGeometry";_this2.parameters={height:height,heightSegments:heightSegments,openEnded:openEnded,radialSegments:radialSegments,radiusBottom:radiusBottom,radiusTop:radiusTop,thetaLength:thetaLength,thetaStart:thetaStart};radialSegments=Math.floor(radialSegments);heightSegments=Math.floor(heightSegments);// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables
var index=0;var indexArray=[];var halfHeight=height/2;var groupStart=0;var generateCap=function generateCap(top){var centerIndexStart,centerIndexEnd;var groupCount=0;var radius=top?radiusTop:radiusBottom;var sign=top?1:-1;// save the index of the first center vertex
centerIndexStart=index;// first we generate the center vertex data of the cap.
// because the geometry needs one set of uvs per face,
// we must generate a center vertex per face/segment
for(var x=1;x<=radialSegments;x++){
// vertex
vertices.push(0,halfHeight*sign,0);// normal
normals.push(0,sign,0);// uv
uvs.push(.5,.5);// increase index
index++}// save the index of the last center vertex
centerIndexEnd=index;// now we generate the surrounding vertices, normals and uvs
for(var _x=0;_x<=radialSegments;_x++){var u=_x/radialSegments;var theta=u*thetaLength+thetaStart;var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);// vertex
vertices.push(radius*sinTheta,halfHeight*sign,radius*cosTheta);// normal
normals.push(0,sign,0);// uv
uvs.push(cosTheta*.5+.5,sinTheta*.5*sign+.5);// increase index
index++}// generate indices
for(var _x2=0;_x2<radialSegments;_x2++){var c=centerIndexStart+_x2;var i=centerIndexEnd+_x2;if(top){
// face top
indices.push(i,i+1,c)}else{
// face bottom
indices.push(i+1,i,c)}groupCount+=3}// add a group to the geometry. this will ensure multi material support
_this2.addGroup(groupStart,groupCount,top===true?1:2);// calculate new start value for groups
groupStart+=groupCount};var generateTorso=function generateTorso(){var groupCount=0;// this will be used to calculate the normal
var slope=(radiusBottom-radiusTop)/height;// generate vertices, normals and uvs
for(var y=0;y<=heightSegments;y++){var indexRow=[];var v=y/heightSegments;// calculate the radius of the current row
var radius=v*(radiusBottom-radiusTop)+radiusTop;for(var x=0;x<=radialSegments;x++){var u=x/radialSegments;var theta=u*thetaLength+thetaStart;var sinTheta=Math.sin(theta);var cosTheta=Math.cos(theta);// vertex
vertices.push(radius*sinTheta,-v*height+halfHeight,radius*cosTheta);// normal
var normal=new _Vector.Vector3;normal.set(sinTheta,slope,cosTheta).normalize();normals.push(normal.x,normal.y,normal.z);// uv
uvs.push(u,1-v);// save index of vertex in respective row
indexRow.push(index++)}// now save vertices of the row in our index array
indexArray.push(indexRow)}// generate indices
for(var _x3=0;_x3<radialSegments;_x3++){for(var _y=0;_y<heightSegments;_y++){
// we use the index array to access the correct indices
var a=indexArray[_y][_x3];var b=indexArray[_y+1][_x3];var c=indexArray[_y+1][_x3+1];var d=indexArray[_y][_x3+1];// faces
indices.push(a,b,d);indices.push(b,c,d);// update group counter
groupCount+=6}}// add a group to the geometry. this will ensure multi material support
_this2.addGroup(groupStart,groupCount,0);// calculate new start value for groups
groupStart+=groupCount};// generate geometry
generateTorso();if(openEnded===false){if(radiusTop>0)generateCap(true);if(radiusBottom>0)generateCap(false)}// build geometry
_this2.setIndex(indices);_this2.addAttribute("position",new _BufferAttribute.Float32BufferAttribute(vertices,3));_this2.addAttribute("normal",new _BufferAttribute.Float32BufferAttribute(normals,3));_this2.addAttribute("uv",new _BufferAttribute.Float32BufferAttribute(uvs,2));return _this2}return CylinderBufferGeometry}(_BufferGeometry2.BufferGeometry);exports.CylinderBufferGeometry=CylinderBufferGeometry;
/***/},
/***/"./es/geometries/Geometries.js":
/*!*************************************!*\
  !*** ./es/geometries/Geometries.js ***!
  \*************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PlaneGeometry",{enumerable:true,get:function get(){return _PlaneGeometry.PlaneGeometry}});Object.defineProperty(exports,"PlaneBufferGeometry",{enumerable:true,get:function get(){return _PlaneGeometry.PlaneBufferGeometry}});Object.defineProperty(exports,"ConeGeometry",{enumerable:true,get:function get(){return _ConeGeometry.ConeGeometry}});Object.defineProperty(exports,"ConeBufferGeometry",{enumerable:true,get:function get(){return _ConeGeometry.ConeBufferGeometry}});Object.defineProperty(exports,"CylinderGeometry",{enumerable:true,get:function get(){return _CylinderGeometry.CylinderGeometry}});Object.defineProperty(exports,"CylinderBufferGeometry",{enumerable:true,get:function get(){return _CylinderGeometry.CylinderBufferGeometry}});Object.defineProperty(exports,"CircleGeometry",{enumerable:true,get:function get(){return _CircleGeometry.CircleGeometry}});Object.defineProperty(exports,"CircleBufferGeometry",{enumerable:true,get:function get(){return _CircleGeometry.CircleBufferGeometry}});Object.defineProperty(exports,"BoxGeometry",{enumerable:true,get:function get(){return _BoxGeometry.BoxGeometry}});Object.defineProperty(exports,"BoxBufferGeometry",{enumerable:true,get:function get(){return _BoxGeometry.BoxBufferGeometry}});var _PlaneGeometry=__webpack_require__(/*! ./PlaneGeometry */"./es/geometries/PlaneGeometry.js");var _ConeGeometry=__webpack_require__(/*! ./ConeGeometry */"./es/geometries/ConeGeometry.js");var _CylinderGeometry=__webpack_require__(/*! ./CylinderGeometry */"./es/geometries/CylinderGeometry.js");var _CircleGeometry=__webpack_require__(/*! ./CircleGeometry */"./es/geometries/CircleGeometry.js");var _BoxGeometry=__webpack_require__(/*! ./BoxGeometry */"./es/geometries/BoxGeometry.js");
/***/},
/***/"./es/geometries/PlaneGeometry.js":
/*!****************************************!*\
  !*** ./es/geometries/PlaneGeometry.js ***!
  \****************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PlaneBufferGeometry=exports.PlaneGeometry=void 0;var _BufferGeometry2=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry2=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");var _BufferAttribute=__webpack_require__(/*! ../core/BufferAttribute */"./es/core/BufferAttribute.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PlaneGeometry=
/* */
function(_Geometry){_inherits(PlaneGeometry,_Geometry);function PlaneGeometry(width,height,widthSegments,heightSegments){var _this;_classCallCheck(this,PlaneGeometry);_this=_possibleConstructorReturn(this,(PlaneGeometry.__proto__||Object.getPrototypeOf(PlaneGeometry)).call(this));_this.type="PlaneGeometry";_this.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments};_this.fromBufferGeometry(new PlaneBufferGeometry(width,height,widthSegments,heightSegments));_this.mergeVertices();return _this}return PlaneGeometry}(_Geometry2.Geometry);exports.PlaneGeometry=PlaneGeometry;var PlaneBufferGeometry=
/* */
function(_BufferGeometry){_inherits(PlaneBufferGeometry,_BufferGeometry);function PlaneBufferGeometry(){var _this2;var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var widthSegments=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var heightSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;_classCallCheck(this,PlaneBufferGeometry);_this2=_possibleConstructorReturn(this,(PlaneBufferGeometry.__proto__||Object.getPrototypeOf(PlaneBufferGeometry)).call(this));_this2.type="PlaneBufferGeometry";_this2.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments};var widthHalf=width/2;var heightHalf=height/2;var gridX=Math.floor(widthSegments)||1;var gridY=Math.floor(heightSegments)||1;var gridX1=gridX+1;var gridY1=gridY+1;var segmentWidth=width/gridX;var segmentHeight=height/gridY;// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// generate vertices, normals and uvs
for(var iy=0;iy<gridY1;iy++){var y=iy*segmentHeight-heightHalf;for(var ix=0;ix<gridX1;ix++){var x=ix*segmentWidth-widthHalf;vertices.push(x,-y,0);normals.push(0,0,1);uvs.push(ix/gridX);uvs.push(1-iy/gridY)}}// indices
for(var _iy=0;_iy<gridY;_iy++){for(var _ix=0;_ix<gridX;_ix++){var a=_ix+gridX1*_iy;var b=_ix+gridX1*(_iy+1);var c=_ix+1+gridX1*(_iy+1);var d=_ix+1+gridX1*_iy;// faces
indices.push(a,b,d);indices.push(b,c,d)}}// build geometry
_this2.setIndex(indices);_this2.addAttribute("position",new _BufferAttribute.Float32BufferAttribute(vertices,3));_this2.addAttribute("normal",new _BufferAttribute.Float32BufferAttribute(normals,3));_this2.addAttribute("uv",new _BufferAttribute.Float32BufferAttribute(uvs,2));return _this2}return PlaneBufferGeometry}(_BufferGeometry2.BufferGeometry);exports.PlaneBufferGeometry=PlaneBufferGeometry;
/***/},
/***/"./es/lights/AmbientLight.js":
/*!***********************************!*\
  !*** ./es/lights/AmbientLight.js ***!
  \***********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AmbientLight=void 0;var _Light2=__webpack_require__(/*! ./Light */"./es/lights/Light.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AmbientLight=
/* */
function(_Light){_inherits(AmbientLight,_Light);function AmbientLight(color,intensity){var _this;_classCallCheck(this,AmbientLight);_this=_possibleConstructorReturn(this,(AmbientLight.__proto__||Object.getPrototypeOf(AmbientLight)).call(this,color,intensity));_this.type="AmbientLight";_this.castShadow=false;return _this}return AmbientLight}(_Light2.Light);exports.AmbientLight=AmbientLight;
/***/},
/***/"./es/lights/DirectionalLight.js":
/*!***************************************!*\
  !*** ./es/lights/DirectionalLight.js ***!
  \***************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DirectionalLight=void 0;var _Object3D=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _DirectionalLightShadow=__webpack_require__(/*! ./DirectionalLightShadow */"./es/lights/DirectionalLightShadow.js");var _Light2=__webpack_require__(/*! ./Light */"./es/lights/Light.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DirectionalLight=
/* */
function(_Light){_inherits(DirectionalLight,_Light);function DirectionalLight(color,intensity){var _this;_classCallCheck(this,DirectionalLight);_this=_possibleConstructorReturn(this,(DirectionalLight.__proto__||Object.getPrototypeOf(DirectionalLight)).call(this,color,intensity));_this.type="DirectionalLight";_this.target=new _Object3D.Object3D;_this.shadow=new _DirectionalLightShadow.DirectionalLightShadow;_this.position=_Object3D.Object3D.DefaultUp.clone();_this.updateMatrix();return _this}_createClass(DirectionalLight,[{key:"copy",value:function copy(source){_get(DirectionalLight.prototype.__proto__||Object.getPrototypeOf(DirectionalLight.prototype),"copy",this).call(this,source);this.target=source.target.clone();this.shadow=source.shadow.clone();return this}}]);return DirectionalLight}(_Light2.Light);exports.DirectionalLight=DirectionalLight;
/***/},
/***/"./es/lights/DirectionalLightShadow.js":
/*!*********************************************!*\
  !*** ./es/lights/DirectionalLightShadow.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DirectionalLightShadow=void 0;var _OrthographicCamera=__webpack_require__(/*! ../cameras/OrthographicCamera */"./es/cameras/OrthographicCamera.js");var _LightShadow2=__webpack_require__(/*! ./LightShadow */"./es/lights/LightShadow.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DirectionalLightShadow=
/* */
function(_LightShadow){_inherits(DirectionalLightShadow,_LightShadow);function DirectionalLightShadow(){_classCallCheck(this,DirectionalLightShadow);return _possibleConstructorReturn(this,(DirectionalLightShadow.__proto__||Object.getPrototypeOf(DirectionalLightShadow)).call(this,new _OrthographicCamera.OrthographicCamera(-5,5,5,-5,.5,500)))}return DirectionalLightShadow}(_LightShadow2.LightShadow);exports.DirectionalLightShadow=DirectionalLightShadow;
/***/},
/***/"./es/lights/HemisphereLight.js":
/*!**************************************!*\
  !*** ./es/lights/HemisphereLight.js ***!
  \**************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HemisphereLight=void 0;var _Object3D=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _Light2=__webpack_require__(/*! ./Light */"./es/lights/Light.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HemisphereLight=
/* */
function(_Light){_inherits(HemisphereLight,_Light);function HemisphereLight(skyColor,groundColor,intensity){var _this;_classCallCheck(this,HemisphereLight);_this=_possibleConstructorReturn(this,(HemisphereLight.__proto__||Object.getPrototypeOf(HemisphereLight)).call(this,skyColor,intensity));_this.type="HemisphereLight";_this.castShadow=false;_this.groundColor=groundColor;_this.position=_Object3D.Object3D.DefaultUp.clone();_this.updateMatrix();return _this}_createClass(HemisphereLight,[{key:"copy",value:function copy(source){_get(HemisphereLight.prototype.__proto__||Object.getPrototypeOf(HemisphereLight.prototype),"copy",this).call(this,source);this.groundColor.copy(source.groundColor);return this}}]);return HemisphereLight}(_Light2.Light);exports.HemisphereLight=HemisphereLight;
/***/},
/***/"./es/lights/Light.js":
/*!****************************!*\
  !*** ./es/lights/Light.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Light=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Light=
/* */
function(_Object3D){_inherits(Light,_Object3D);function Light(){var _this;var color=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Color.Color;var intensity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;_classCallCheck(this,Light);_this=_possibleConstructorReturn(this,(Light.__proto__||Object.getPrototypeOf(Light)).call(this));_this.type="Light";_this.intensity=1;_this.receiveShadow=false;_this.color=color;_this.intensity=intensity;return _this}_createClass(Light,[{key:"copy",value:function copy(source){_get(Light.prototype.__proto__||Object.getPrototypeOf(Light.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.intensity=source.intensity;return this}}]);return Light}(_Object3D2.Object3D);exports.Light=Light;
/***/},
/***/"./es/lights/LightShadow.js":
/*!**********************************!*\
  !*** ./es/lights/LightShadow.js ***!
  \**********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LightShadow=void 0;var _Matrix=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var LightShadow=
/* */
function(){function LightShadow(camera){_classCallCheck(this,LightShadow);this.bias=0;this.radius=1;this.mapSize=new _Vector.Vector2(512,512);this.map=null;this.matrix=new _Matrix.Matrix4;this.camera=camera}_createClass(LightShadow,[{key:"copy",value:function copy(source){this.camera=source.camera.clone();this.bias=source.bias;this.radius=source.radius;this.mapSize.copy(source.mapSize);return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return LightShadow}();exports.LightShadow=LightShadow;
/***/},
/***/"./es/lights/PointLight.js":
/*!*********************************!*\
  !*** ./es/lights/PointLight.js ***!
  \*********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PointLight=void 0;var _PerspectiveCamera=__webpack_require__(/*! ../cameras/PerspectiveCamera */"./es/cameras/PerspectiveCamera.js");var _Light2=__webpack_require__(/*! ./Light */"./es/lights/Light.js");var _LightShadow=__webpack_require__(/*! ./LightShadow */"./es/lights/LightShadow.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PointLight=
/* */
function(_Light){_inherits(PointLight,_Light);function PointLight(color,intensity){var _this;var distance=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var decay=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;_classCallCheck(this,PointLight);_this=_possibleConstructorReturn(this,(PointLight.__proto__||Object.getPrototypeOf(PointLight)).call(this,color,intensity));_this.type="PointLight";_this.distance=0;_this.decay=1;_this.distance=distance;_this.decay=decay;_this.shadow=new _LightShadow.LightShadow(new _PerspectiveCamera.PerspectiveCamera(90,1,.5,500));return _this}
/**
   * ntensity = power per solid angle.
   * ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
   * @returns {number}
   */_createClass(PointLight,[{key:"copy",value:function copy(source){_get(PointLight.prototype.__proto__||Object.getPrototypeOf(PointLight.prototype),"copy",this).call(this,source);this.distance=source.distance;this.decay=source.decay;this.shadow=source.shadow.clone();return this}},{key:"power",get:function get(){return this.intensity*4*Math.PI},set:function set(power){this.intensity=power/(4*Math.PI)}}]);return PointLight}(_Light2.Light);exports.PointLight=PointLight;
/***/},
/***/"./es/lights/RectAreaLight.js":
/*!************************************!*\
  !*** ./es/lights/RectAreaLight.js ***!
  \************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RectAreaLight=void 0;var _Light2=__webpack_require__(/*! ./Light */"./es/lights/Light.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RectAreaLight=
/* */
function(_Light){_inherits(RectAreaLight,_Light);function RectAreaLight(color,intensity){var _this;var width=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var height=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;_classCallCheck(this,RectAreaLight);_this=_possibleConstructorReturn(this,(RectAreaLight.__proto__||Object.getPrototypeOf(RectAreaLight)).call(this,color,intensity));_this.type="RectAreaLight";_this.width=10;_this.height=10;_this.width=width;_this.height=height;return _this}_createClass(RectAreaLight,[{key:"copy",value:function copy(source){_get(RectAreaLight.prototype.__proto__||Object.getPrototypeOf(RectAreaLight.prototype),"copy",this).call(this,source);this.width=source.width;this.height=source.height;return this}}]);return RectAreaLight}(_Light2.Light);exports.RectAreaLight=RectAreaLight;
/***/},
/***/"./es/lights/SpotLight.js":
/*!********************************!*\
  !*** ./es/lights/SpotLight.js ***!
  \********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpotLight=void 0;var _Object3D=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _Light2=__webpack_require__(/*! ./Light */"./es/lights/Light.js");var _SpotLightShadow=__webpack_require__(/*! ./SpotLightShadow */"./es/lights/SpotLightShadow.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SpotLight=
/* */
function(_Light){_inherits(SpotLight,_Light);function SpotLight(color,intensity){var _this;var distance=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var angle=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Math.PI/3;var penumbra=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var decay=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;_classCallCheck(this,SpotLight);_this=_possibleConstructorReturn(this,(SpotLight.__proto__||Object.getPrototypeOf(SpotLight)).call(this,color,intensity));_this.type="SpotLight";_this.target=new _Object3D.Object3D;_this.distance=0;_this.angle=Math.PI/3;_this.penumbra=0;_this.decay=0;_this.shadow=new _SpotLightShadow.SpotLightShadow;_this.position=_Object3D.Object3D.DefaultUp.clone();_this.updateMatrix();_this.distance=distance;_this.angle=angle;_this.penumbra=penumbra;_this.decay=decay;return _this}_createClass(SpotLight,[{key:"copy",value:function copy(source){_get(SpotLight.prototype.__proto__||Object.getPrototypeOf(SpotLight.prototype),"copy",this).call(this,source);this.distance=source.distance;this.angle=source.angle;this.penumbra=source.penumbra;this.decay=source.decay;this.target=source.target.clone();this.shadow=source.shadow.clone();return this}},{key:"power",get:function get(){return this.intensity*Math.PI},set:function set(power){this.intensity=power/Math.PI}}]);return SpotLight}(_Light2.Light);exports.SpotLight=SpotLight;
/***/},
/***/"./es/lights/SpotLightShadow.js":
/*!**************************************!*\
  !*** ./es/lights/SpotLightShadow.js ***!
  \**************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpotLightShadow=void 0;var _PerspectiveCamera=__webpack_require__(/*! ../cameras/PerspectiveCamera */"./es/cameras/PerspectiveCamera.js");var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _LightShadow2=__webpack_require__(/*! ./LightShadow */"./es/lights/LightShadow.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SpotLightShadow=
/* */
function(_LightShadow){_inherits(SpotLightShadow,_LightShadow);function SpotLightShadow(){_classCallCheck(this,SpotLightShadow);return _possibleConstructorReturn(this,(SpotLightShadow.__proto__||Object.getPrototypeOf(SpotLightShadow)).call(this,new _PerspectiveCamera.PerspectiveCamera(50,1,.5,500)))}_createClass(SpotLightShadow,[{key:"update",value:function update(light){var camera=this.camera;var fov=_Math.MathUtil.RAD2DEG*2*light.angle;var aspect=this.mapSize.width/this.mapSize.height;var far=light.distance||camera.far;if(fov!==camera.fov||aspect!==camera.aspect||far!==camera.far){camera.fov=fov;camera.aspect=aspect;camera.far=far;camera.updateProjectionMatrix()}return this}},{key:"clone",value:function clone(){return _get(SpotLightShadow.prototype.__proto__||Object.getPrototypeOf(SpotLightShadow.prototype),"clone",this).call(this)}}]);return SpotLightShadow}(_LightShadow2.LightShadow);exports.SpotLightShadow=SpotLightShadow;
/***/},
/***/"./es/materials/LineBasicMaterial.js":
/*!*******************************************!*\
  !*** ./es/materials/LineBasicMaterial.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LineBasicMaterial=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LineBasicMaterial=
/* */
function(_Material){_inherits(LineBasicMaterial,_Material);function LineBasicMaterial(parameters){var _this;_classCallCheck(this,LineBasicMaterial);_this=_possibleConstructorReturn(this,(LineBasicMaterial.__proto__||Object.getPrototypeOf(LineBasicMaterial)).call(this));_this.type="LineBasicMaterial";_this.color=(new _Color.Color).setHex(16777215);_this.lights=false;_this.linecap="round";_this.linejoin="round";_this.linewidth=1;_this.setValues(parameters);return _this}_createClass(LineBasicMaterial,[{key:"copy",value:function copy(source){_get(LineBasicMaterial.prototype.__proto__||Object.getPrototypeOf(LineBasicMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.linewidth=source.linewidth;this.linecap=source.linecap;this.linejoin=source.linejoin;return this}}]);return LineBasicMaterial}(_Material2.Material);exports.LineBasicMaterial=LineBasicMaterial;
/***/},
/***/"./es/materials/LineDashedMaterial.js":
/*!********************************************!*\
  !*** ./es/materials/LineDashedMaterial.js ***!
  \********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LineDashedMaterial=void 0;var _LineBasicMaterial2=__webpack_require__(/*! ./LineBasicMaterial */"./es/materials/LineBasicMaterial.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LineDashedMaterial=
/* */
function(_LineBasicMaterial){_inherits(LineDashedMaterial,_LineBasicMaterial);function LineDashedMaterial(parameters){var _this;_classCallCheck(this,LineDashedMaterial);_this=_possibleConstructorReturn(this,(LineDashedMaterial.__proto__||Object.getPrototypeOf(LineDashedMaterial)).call(this,parameters));_this.type="LineDashedMaterial";_this.dashSize=3;_this.gapSize=1;_this.scale=1;_this.setValues(parameters);return _this}_createClass(LineDashedMaterial,[{key:"copy",value:function copy(source){this.scale=source.scale;this.dashSize=source.dashSize;this.gapSize=source.gapSize;return this}}]);return LineDashedMaterial}(_LineBasicMaterial2.LineBasicMaterial);exports.LineDashedMaterial=LineDashedMaterial;
/***/},
/***/"./es/materials/Material.js":
/*!**********************************!*\
  !*** ./es/materials/Material.js ***!
  \**********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Material=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _EventDispatcher2=__webpack_require__(/*! ../core/EventDispatcher */"./es/core/EventDispatcher.js");var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var materialId=0;var Material=
/* */
function(_EventDispatcher){_inherits(Material,_EventDispatcher);function Material(){var _this;_classCallCheck(this,Material);_this=_possibleConstructorReturn(this,(Material.__proto__||Object.getPrototypeOf(Material)).apply(this,arguments));_this.id=materialId++;_this.uuid=_Math.MathUtil.generateUUID();_this.type="Material";_this.alphaTest=0;_this.blending=_constants.NormalBlending;_this.blendDst=_constants.OneMinusSrcAlphaFactor;_this.blendDstAlpha=null;_this.blendEquation=_constants.AddEquation;_this.blendEquationAlpha=null;_this.blendSrc=_constants.SrcAlphaFactor;_this.blendSrcAlpha=null;_this.clipIntersection=false;_this.clippingPlanes=null;_this.clipShadows=false;_this.colorWrite=true;_this.depthFunc=_constants.LessEqualDepth;_this.depthTest=true;_this.depthWrite=true;_this.dithering=false;_this.flatShading=false;_this.fog=true;_this.lights=true;
/**
     * For mesh type extension
     */_this.morphTargets=false;_this.name="";_this.needsUpdate=true;_this.opacity=1;_this.overdraw=0;_this.onBeforeCompile=function(){};_this.polygonOffset=false;_this.polygonOffsetFactor=0;_this.polygonOffsetUnits=0;
/**
     * override the renderer's default precision for this material
     * "highp", "mediump" or "lowp"
     * @type {string}
     */_this.precision=null;// Question type
_this.premultipliedAlpha=false;
/**
     * THREE.FrontSide  back side
     * THREE.BackSide   front side
     * THREE.DoubleSide both sides
     * @type {number}
     */_this.shadowSide=null;// Question type
_this.side=_constants.FrontSide;_this.transparent=false;_this.userData={};
/**
     * THREE.NoColors, THREE.VertexColors, THREE.FaceColors
     */_this.vertexColors=_constants.NoColors;
/**
     * Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer
     * @type {number}
     */_this.visible=true;return _this}_createClass(Material,[{key:"setValues",value:function setValues(values){if(values===undefined)return this;for(var key in values){if(!values.hasOwnProperty(key))continue;var newValue=values[key];if(newValue===undefined){console.warn('THREE.Material: "'.concat(key,'" parameter is undefined.'));continue}
/**
         * for backward compatability if shading is set in the constructor
         */if(key==="shading"){console.warn("THREE.".concat(this.type,": .shading has been removed. Use the boolean .flatShading instead."));this.flatShading=newValue===_constants.FlatShading;continue}var currentValue=this[key];if(currentValue===undefined){console.warn("THREE.".concat(this.type,': "').concat(key,'" is not a property of this material.'));continue}if(currentValue&&currentValue instanceof _Color.Color){if(newValue instanceof _Color.Color)currentValue.copy(newValue);else if(typeof newValue==="number"){currentValue.setHex(newValue)}else if(typeof newValue==="string"){currentValue.setStyle(newValue)}}else if(currentValue&&currentValue instanceof _Vector.Vector3&&newValue&&newValue instanceof _Vector.Vector3){currentValue.copy(newValue)}else if(key==="overdraw"){
/**
           * ensure overdraw is backwards-compatible with legacy boolean type
           * @type {Number}
           */
this[key]=Number(newValue)}else{this[key]=newValue}}return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(source){this.name=source.name;this.fog=source.fog;this.lights=source.lights;this.blending=source.blending;this.side=source.side;this.flatShading=source.flatShading;this.vertexColors=source.vertexColors;this.opacity=source.opacity;this.transparent=source.transparent;this.blendSrc=source.blendSrc;this.blendDst=source.blendDst;this.blendEquation=source.blendEquation;this.blendSrcAlpha=source.blendSrcAlpha;this.blendDstAlpha=source.blendDstAlpha;this.blendEquationAlpha=source.blendEquationAlpha;this.depthFunc=source.depthFunc;this.depthTest=source.depthTest;this.depthWrite=source.depthWrite;this.colorWrite=source.colorWrite;this.precision=source.precision;this.polygonOffset=source.polygonOffset;this.polygonOffsetFactor=source.polygonOffsetFactor;this.polygonOffsetUnits=source.polygonOffsetUnits;this.dithering=source.dithering;this.alphaTest=source.alphaTest;this.premultipliedAlpha=source.premultipliedAlpha;this.overdraw=source.overdraw;this.visible=source.visible;this.userData=JSON.parse(JSON.stringify(source.userData));this.clipShadows=source.clipShadows;this.clipIntersection=source.clipIntersection;var srcPlanes=source.clippingPlanes;var dstPlanes=null;if(srcPlanes!==null){var n=srcPlanes.length;dstPlanes=new Array(n);for(var i=0;i!==n;++i){dstPlanes[i]=srcPlanes[i].clone()}}this.clippingPlanes=dstPlanes;this.shadowSide=source.shadowSide;return this}},{key:"dispose",value:function dispose(){this.dispatchEvent({type:"dispose"})}}]);return Material}(_EventDispatcher2.EventDispatcher);exports.Material=Material;
/***/},
/***/"./es/materials/Materials.js":
/*!***********************************!*\
  !*** ./es/materials/Materials.js ***!
  \***********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ShadowMaterial",{enumerable:true,get:function get(){return _ShadowMaterial.ShadowMaterial}});Object.defineProperty(exports,"SpriteMaterial",{enumerable:true,get:function get(){return _SpriteMaterial.SpriteMaterial}});Object.defineProperty(exports,"RawShaderMaterial",{enumerable:true,get:function get(){return _RawShaderMaterial.RawShaderMaterial}});Object.defineProperty(exports,"ShaderMaterial",{enumerable:true,get:function get(){return _ShaderMaterial.ShaderMaterial}});Object.defineProperty(exports,"PointsMaterial",{enumerable:true,get:function get(){return _PointsMaterial.PointsMaterial}});Object.defineProperty(exports,"MeshPhysicalMaterial",{enumerable:true,get:function get(){return _MeshPhysicalMaterial.MeshPhysicalMaterial}});Object.defineProperty(exports,"MeshStandardMaterial",{enumerable:true,get:function get(){return _MeshStandardMaterial.MeshStandardMaterial}});Object.defineProperty(exports,"MeshPhongMaterial",{enumerable:true,get:function get(){return _MeshPhongMaterial.MeshPhongMaterial}});Object.defineProperty(exports,"MeshToonMaterial",{enumerable:true,get:function get(){return _MeshToonMaterial.MeshToonMaterial}});Object.defineProperty(exports,"MeshNormalMaterial",{enumerable:true,get:function get(){return _MeshNormalMaterial.MeshNormalMaterial}});Object.defineProperty(exports,"MeshLambertMaterial",{enumerable:true,get:function get(){return _MeshLambertMaterial.MeshLambertMaterial}});Object.defineProperty(exports,"MeshDepthMaterial",{enumerable:true,get:function get(){return _MeshDepthMaterial.MeshDepthMaterial}});Object.defineProperty(exports,"MeshDistanceMaterial",{enumerable:true,get:function get(){return _MeshDistanceMaterial.MeshDistanceMaterial}});Object.defineProperty(exports,"MeshBasicMaterial",{enumerable:true,get:function get(){return _MeshBasicMaterial.MeshBasicMaterial}});Object.defineProperty(exports,"LineDashedMaterial",{enumerable:true,get:function get(){return _LineDashedMaterial.LineDashedMaterial}});Object.defineProperty(exports,"LineBasicMaterial",{enumerable:true,get:function get(){return _LineBasicMaterial.LineBasicMaterial}});Object.defineProperty(exports,"Material",{enumerable:true,get:function get(){return _Material.Material}});var _ShadowMaterial=__webpack_require__(/*! ./ShadowMaterial */"./es/materials/ShadowMaterial.js");var _SpriteMaterial=__webpack_require__(/*! ./SpriteMaterial */"./es/materials/SpriteMaterial.js");var _RawShaderMaterial=__webpack_require__(/*! ./RawShaderMaterial */"./es/materials/RawShaderMaterial.js");var _ShaderMaterial=__webpack_require__(/*! ./ShaderMaterial */"./es/materials/ShaderMaterial.js");var _PointsMaterial=__webpack_require__(/*! ./PointsMaterial */"./es/materials/PointsMaterial.js");var _MeshPhysicalMaterial=__webpack_require__(/*! ./MeshPhysicalMaterial */"./es/materials/MeshPhysicalMaterial.js");var _MeshStandardMaterial=__webpack_require__(/*! ./MeshStandardMaterial */"./es/materials/MeshStandardMaterial.js");var _MeshPhongMaterial=__webpack_require__(/*! ./MeshPhongMaterial */"./es/materials/MeshPhongMaterial.js");var _MeshToonMaterial=__webpack_require__(/*! ./MeshToonMaterial */"./es/materials/MeshToonMaterial.js");var _MeshNormalMaterial=__webpack_require__(/*! ./MeshNormalMaterial */"./es/materials/MeshNormalMaterial.js");var _MeshLambertMaterial=__webpack_require__(/*! ./MeshLambertMaterial */"./es/materials/MeshLambertMaterial.js");var _MeshDepthMaterial=__webpack_require__(/*! ./MeshDepthMaterial */"./es/materials/MeshDepthMaterial.js");var _MeshDistanceMaterial=__webpack_require__(/*! ./MeshDistanceMaterial */"./es/materials/MeshDistanceMaterial.js");var _MeshBasicMaterial=__webpack_require__(/*! ./MeshBasicMaterial */"./es/materials/MeshBasicMaterial.js");var _LineDashedMaterial=__webpack_require__(/*! ./LineDashedMaterial */"./es/materials/LineDashedMaterial.js");var _LineBasicMaterial=__webpack_require__(/*! ./LineBasicMaterial */"./es/materials/LineBasicMaterial.js");var _Material=__webpack_require__(/*! ./Material */"./es/materials/Material.js");
/***/},
/***/"./es/materials/MeshBasicMaterial.js":
/*!*******************************************!*\
  !*** ./es/materials/MeshBasicMaterial.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshBasicMaterial=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MeshBasicMaterial=
/* */
function(_Material){_inherits(MeshBasicMaterial,_Material);function MeshBasicMaterial(parameters){var _this;_classCallCheck(this,MeshBasicMaterial);_this=_possibleConstructorReturn(this,(MeshBasicMaterial.__proto__||Object.getPrototypeOf(MeshBasicMaterial)).call(this));_this.type="MeshBasicMaterial";_this.alphaMap=null;_this.aoMap=null;_this.aoMapIntensity=1;_this.color=(new _Color.Color).setHex(16777215);_this.combine=_constants.MultiplyOperation;_this.envMap=null;_this.lights=false;_this.lightMap=null;_this.lightMapIntensity=1;_this.map=null;_this.morphTargets=false;_this.reflectivity=1;_this.refractionRatio=.98;_this.skinning=false;_this.specularMap=null;_this.wireframe=false;_this.wireframeLinecap="round";_this.wireframeLinejoin="round";_this.wireframeLinewidth=1;_this.setValues(parameters);return _this}_createClass(MeshBasicMaterial,[{key:"copy",value:function copy(source){_get(MeshBasicMaterial.prototype.__proto__||Object.getPrototypeOf(MeshBasicMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.skinning=source.skinning;this.morphTargets=source.morphTargets;return this}}]);return MeshBasicMaterial}(_Material2.Material);exports.MeshBasicMaterial=MeshBasicMaterial;
/***/},
/***/"./es/materials/MeshDepthMaterial.js":
/*!*******************************************!*\
  !*** ./es/materials/MeshDepthMaterial.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshDepthMaterial=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MeshDepthMaterial=
/* */
function(_Material){_inherits(MeshDepthMaterial,_Material);function MeshDepthMaterial(parameters){var _this;_classCallCheck(this,MeshDepthMaterial);_this=_possibleConstructorReturn(this,(MeshDepthMaterial.__proto__||Object.getPrototypeOf(MeshDepthMaterial)).call(this));_this.type="MeshDepthMaterial";_this.alphaMap=null;_this.depthPacking=_constants.BasicDepthPacking;_this.displacementMap=null;_this.displacementScale=1;_this.displacementBias=0;_this.fog=false;_this.lights=false;_this.map=null;_this.morphTargets=false;_this.skinning=false;_this.wireframe=false;_this.wireframeLinewidth=1;_this.setValues(parameters);return _this}_createClass(MeshDepthMaterial,[{key:"copy",value:function copy(source){_get(MeshDepthMaterial.prototype.__proto__||Object.getPrototypeOf(MeshDepthMaterial.prototype),"copy",this).call(this,source);this.depthPacking=source.depthPacking;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.map=source.map;this.alphaMap=source.alphaMap;this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;return this}}]);return MeshDepthMaterial}(_Material2.Material);exports.MeshDepthMaterial=MeshDepthMaterial;
/***/},
/***/"./es/materials/MeshDistanceMaterial.js":
/*!**********************************************!*\
  !*** ./es/materials/MeshDistanceMaterial.js ***!
  \**********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshDistanceMaterial=void 0;var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MeshDistanceMaterial=
/* */
function(_Material){_inherits(MeshDistanceMaterial,_Material);function MeshDistanceMaterial(parameters){var _this;_classCallCheck(this,MeshDistanceMaterial);_this=_possibleConstructorReturn(this,(MeshDistanceMaterial.__proto__||Object.getPrototypeOf(MeshDistanceMaterial)).call(this));_this.type="MeshDepthMaterial";_this.alphaMap=null;_this.displacementMap=null;_this.displacementScale=1;_this.displacementBias=0;_this.farDistance=1;_this.fog=false;_this.lights=false;_this.map=null;_this.morphTargets=false;_this.nearDistance=1;_this.referencePosition=new _Vector.Vector3;_this.skinning=false;_this.setValues(parameters);return _this}_createClass(MeshDistanceMaterial,[{key:"copy",value:function copy(source){_get(MeshDistanceMaterial.prototype.__proto__||Object.getPrototypeOf(MeshDistanceMaterial.prototype),"copy",this).call(this,source);this.referencePosition.copy(source.referencePosition);this.nearDistance=source.nearDistance;this.farDistance=source.farDistance;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.map=source.map;this.alphaMap=source.alphaMap;this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;return this}}]);return MeshDistanceMaterial}(_Material2.Material);exports.MeshDistanceMaterial=MeshDistanceMaterial;
/***/},
/***/"./es/materials/MeshLambertMaterial.js":
/*!*********************************************!*\
  !*** ./es/materials/MeshLambertMaterial.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshLambertMaterial=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MeshLambertMaterial=
/* */
function(_Material){_inherits(MeshLambertMaterial,_Material);function MeshLambertMaterial(parameters){var _this;_classCallCheck(this,MeshLambertMaterial);_this=_possibleConstructorReturn(this,(MeshLambertMaterial.__proto__||Object.getPrototypeOf(MeshLambertMaterial)).call(this));_this.type="MeshLambertMaterial";_this.aoMap=null;_this.aoMapIntensity=1;_this.alphaMap=null;_this.color=(new _Color.Color).setHex(16777215);_this.combine=_constants.MultiplyOperation;_this.emissive=(new _Color.Color).setHex(0);_this.emissiveIntensity=1;_this.emissiveMap=null;_this.envMap=null;_this.map=null;_this.morphNormals=true;_this.morphTargets=true;_this.lightMap=null;_this.lightMapIntensity=1;_this.skinning=false;_this.specularMap=null;_this.reflectivity=1;_this.refractionRatio=.98;_this.wireframe=false;_this.wireframeLinecap="round";_this.wireframeLinejoin="round";_this.wireframeLinewidth=1;_this.setValues(parameters);return _this}_createClass(MeshLambertMaterial,[{key:"copy",value:function copy(source){_get(MeshLambertMaterial.prototype.__proto__||Object.getPrototypeOf(MeshLambertMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this}}]);return MeshLambertMaterial}(_Material2.Material);exports.MeshLambertMaterial=MeshLambertMaterial;
/***/},
/***/"./es/materials/MeshNormalMaterial.js":
/*!********************************************!*\
  !*** ./es/materials/MeshNormalMaterial.js ***!
  \********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshNormalMaterial=void 0;var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MeshNormalMaterial=
/* */
function(_Material){_inherits(MeshNormalMaterial,_Material);function MeshNormalMaterial(paramenters){var _this;_classCallCheck(this,MeshNormalMaterial);_this=_possibleConstructorReturn(this,(MeshNormalMaterial.__proto__||Object.getPrototypeOf(MeshNormalMaterial)).call(this));_this.type="MeshNormalMaterial";_this.bumpMap=null;_this.bumpScale=1;_this.normalMap=null;_this.normalScale=new _Vector.Vector2(1,1);_this.displacementMap=null;_this.displacementScale=1;_this.displacementBias=0;_this.wireframe=false;_this.wireframeLinewidth=1;_this.fog=false;_this.lights=false;_this.skinning=false;_this.morphTargets=false;_this.morphNormals=false;_this.setValues(paramenters);return _this}return MeshNormalMaterial}(_Material2.Material);exports.MeshNormalMaterial=MeshNormalMaterial;
/***/},
/***/"./es/materials/MeshPhongMaterial.js":
/*!*******************************************!*\
  !*** ./es/materials/MeshPhongMaterial.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshPhongMaterial=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}
/**
 * parameters = {
 *  color: <hex>,
 *  specular: <hex>,
 *  shininess: <float>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>
 * }
 */var MeshPhongMaterial=
/* */
function(_Material){_inherits(MeshPhongMaterial,_Material);function MeshPhongMaterial(parameters){var _this;_classCallCheck(this,MeshPhongMaterial);_this=_possibleConstructorReturn(this,(MeshPhongMaterial.__proto__||Object.getPrototypeOf(MeshPhongMaterial)).call(this));_this.type="MeshPhongMaterial";_this.alphaMap=null;_this.aoMap=null;_this.aoMapIntensity=1;_this.bumpMap=null;_this.bumpScale=1;_this.color=(new _Color.Color).setHex(16777215);_this.combine=_constants.MultiplyOperation;_this.displacementBias=0;_this.displacementMap=null;_this.displacementScale=1;_this.emissive=(new _Color.Color).setHex(0);_this.emissiveIntensity=1;_this.emissiveMap=null;_this.envMap=null;_this.lightMap=null;_this.lightMapIntensity=1;_this.map=null;_this.morphNormals=false;_this.morphTargets=false;_this.normalMap=null;_this.normalScale=new _Vector.Vector2(1,1);_this.reflectivity=1;_this.refractionRatio=.98;_this.shininess=30;_this.skinning=false;_this.specular=(new _Color.Color).setHex(1118481);_this.specularMap=null;_this.wireframe=false;_this.wireframeLinecap="round";_this.wireframeLinejoin="round";_this.wireframeLinewidth=1;_this.setValues(parameters);return _this}_createClass(MeshPhongMaterial,[{key:"copy",value:function copy(source){_get(MeshPhongMaterial.prototype.__proto__||Object.getPrototypeOf(MeshPhongMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.specular.copy(source.specular);this.shininess=source.shininess;this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this}}]);return MeshPhongMaterial}(_Material2.Material);exports.MeshPhongMaterial=MeshPhongMaterial;
/***/},
/***/"./es/materials/MeshPhysicalMaterial.js":
/*!**********************************************!*\
  !*** ./es/materials/MeshPhysicalMaterial.js ***!
  \**********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshPhysicalMaterial=void 0;var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MeshPhysicalMaterial=
/* */
function(_Material){_inherits(MeshPhysicalMaterial,_Material);function MeshPhysicalMaterial(parameters){var _this;_classCallCheck(this,MeshPhysicalMaterial);_this=_possibleConstructorReturn(this,(MeshPhysicalMaterial.__proto__||Object.getPrototypeOf(MeshPhysicalMaterial)).call(this));_this.type="MeshPhysicalMaterial";// maps to F0 = 0.04
_this.clearCoat=0;_this.clearCoatRoughness=0;_this.defines={PHYSICAL:""};_this.reflectivity=.5;_this.setValues(parameters);return _this}_createClass(MeshPhysicalMaterial,[{key:"copy",value:function copy(source){this.defines={PHYSICAL:""};this.reflectivity=source.reflectivity;this.clearCoat=source.clearCoat;this.clearCoatRoughness=source.clearCoatRoughness;return this}}]);return MeshPhysicalMaterial}(_Material2.Material);exports.MeshPhysicalMaterial=MeshPhysicalMaterial;
/***/},
/***/"./es/materials/MeshStandardMaterial.js":
/*!**********************************************!*\
  !*** ./es/materials/MeshStandardMaterial.js ***!
  \**********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshStandardMaterial=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}
/**
 *
 * parameters = {
 *  color: <hex>,
 *  roughness: <float>,
 *  metalness: <float>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  roughnessMap: new THREE.Texture( <Image> ),
 *
 *  metalnessMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  envMapIntensity: <float>
 *
 *  refractionRatio: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>
 * }
 */var MeshStandardMaterial=
/* */
function(_Material){_inherits(MeshStandardMaterial,_Material);function MeshStandardMaterial(parameters){var _this;_classCallCheck(this,MeshStandardMaterial);_this=_possibleConstructorReturn(this,(MeshStandardMaterial.__proto__||Object.getPrototypeOf(MeshStandardMaterial)).call(this));_this.type="MeshStandardMaterial";_this.alphaMap=null;_this.aoMap=null;_this.aoMapIntensity=1;_this.bumpMap=null;_this.bumpScale=1;_this.color=(new _Color.Color).setHex(16777215);_this.defines={STANDARD:""};_this.displacementBias=0;_this.displacementMap=null;_this.displacementScale=1;_this.emissive=(new _Color.Color).setHex(0);_this.emissiveIntensity=1;_this.emissiveMap=null;_this.envMap=null;_this.envMapIntensity=1;_this.lightMap=null;_this.lightMapIntensity=1;_this.map=null;_this.metalness=.5;_this.metalnessMap=null;_this.morphNormals=false;_this.morphTargets=false;_this.normalMap=null;_this.normalScale=new _Vector.Vector2(1,1);_this.refractionRatio=.98;_this.roughness=.5;_this.roughnessMap=null;_this.skinning=false;_this.wireframe=false;_this.wireframeLinecap="round";_this.wireframeLinejoin="round";_this.wireframeLinewidth=1;_this.setValues(parameters);return _this}_createClass(MeshStandardMaterial,[{key:"copy",value:function copy(source){_get(MeshStandardMaterial.prototype.__proto__||Object.getPrototypeOf(MeshStandardMaterial.prototype),"copy",this).call(this,source);this.defines={STANDARD:""};this.color.copy(source.color);this.roughness=source.roughness;this.metalness=source.metalness;this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.roughnessMap=source.roughnessMap;this.metalnessMap=source.metalnessMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.envMapIntensity=source.envMapIntensity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this}}]);return MeshStandardMaterial}(_Material2.Material);exports.MeshStandardMaterial=MeshStandardMaterial;
/***/},
/***/"./es/materials/MeshToonMaterial.js":
/*!******************************************!*\
  !*** ./es/materials/MeshToonMaterial.js ***!
  \******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MeshToonMaterial=void 0;var _MeshPhongMaterial2=__webpack_require__(/*! ./MeshPhongMaterial */"./es/materials/MeshPhongMaterial.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MeshToonMaterial=
/* */
function(_MeshPhongMaterial){_inherits(MeshToonMaterial,_MeshPhongMaterial);function MeshToonMaterial(parameters){var _this;_classCallCheck(this,MeshToonMaterial);_this=_possibleConstructorReturn(this,(MeshToonMaterial.__proto__||Object.getPrototypeOf(MeshToonMaterial)).call(this,parameters));_this.type="MeshToonMaterial";_this.defines={TOON:""};_this.gradientMap=null;_this.setValues(parameters);return _this}_createClass(MeshToonMaterial,[{key:"copy",value:function copy(source){_get(MeshToonMaterial.prototype.__proto__||Object.getPrototypeOf(MeshToonMaterial.prototype),"copy",this).call(this,source);this.gradientMap=source.gradientMap;return this}}]);return MeshToonMaterial}(_MeshPhongMaterial2.MeshPhongMaterial);exports.MeshToonMaterial=MeshToonMaterial;
/***/},
/***/"./es/materials/PointsMaterial.js":
/*!****************************************!*\
  !*** ./es/materials/PointsMaterial.js ***!
  \****************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PointsMaterial=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PointsMaterial=
/* */
function(_Material){_inherits(PointsMaterial,_Material);function PointsMaterial(parameters){var _this;_classCallCheck(this,PointsMaterial);_this=_possibleConstructorReturn(this,(PointsMaterial.__proto__||Object.getPrototypeOf(PointsMaterial)).call(this));_this.type="PointsMaterial";_this.color=(new _Color.Color).setHex(16777215);_this.lights=false;_this.map=null;_this.size=1;_this.sizeAttenuation=true;_this.setValues(parameters);return _this}_createClass(PointsMaterial,[{key:"copy",value:function copy(source){_get(PointsMaterial.prototype.__proto__||Object.getPrototypeOf(PointsMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.size=source.size;this.sizeAttenuation=source.sizeAttenuation;return this}}]);return PointsMaterial}(_Material2.Material);exports.PointsMaterial=PointsMaterial;
/***/},
/***/"./es/materials/RawShaderMaterial.js":
/*!*******************************************!*\
  !*** ./es/materials/RawShaderMaterial.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RawShaderMaterial=void 0;var _ShaderMaterial2=__webpack_require__(/*! ./ShaderMaterial */"./es/materials/ShaderMaterial.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RawShaderMaterial=
/* */
function(_ShaderMaterial){_inherits(RawShaderMaterial,_ShaderMaterial);function RawShaderMaterial(){_classCallCheck(this,RawShaderMaterial);return _possibleConstructorReturn(this,(RawShaderMaterial.__proto__||Object.getPrototypeOf(RawShaderMaterial)).apply(this,arguments))}return RawShaderMaterial}(_ShaderMaterial2.ShaderMaterial);exports.RawShaderMaterial=RawShaderMaterial;
/***/},
/***/"./es/materials/ShaderMaterial.js":
/*!****************************************!*\
  !*** ./es/materials/ShaderMaterial.js ***!
  \****************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShaderMaterial=void 0;var _UniformsUtils=__webpack_require__(/*! ../renderers/shaders/UniformsUtils */"./es/renderers/shaders/UniformsUtils.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ShaderMaterial=
/* */
function(_Material){_inherits(ShaderMaterial,_Material);function ShaderMaterial(parameters){var _this;_classCallCheck(this,ShaderMaterial);_this=_possibleConstructorReturn(this,(ShaderMaterial.__proto__||Object.getPrototypeOf(ShaderMaterial)).call(this));_this.type="ShaderMaterial";_this.defines={};_this.uniforms={};_this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";_this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";_this.linewidth=1;_this.wireframe=false;_this.wireframeLinewidth=1;_this.fog=false;// set to use scene fog
_this.lights=false;// set to use scene lights
_this.clipping=false;// set to use user-defined clipping planes
_this.skinning=false;// set to use skinning attribute streams
_this.morphTargets=false;// set to use morph targets
_this.morphNormals=false;// set to use morph normals
_this.extensions={derivatives:false,drawBuffers:false,fragDepth:false,shaderTextureLOD:false};// When rendered geometry doesn't include these attributes but the material does,
// use these default values in WebGL. This avoids errors when buffer data is missing.
_this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};_this.setValues(parameters);return _this}_createClass(ShaderMaterial,[{key:"copy",value:function copy(source){this.fragmentShader=source.fragmentShader;this.vertexShader=source.vertexShader;this.uniforms=_UniformsUtils.UniformsUtils.clone(source.uniforms);this.defines=source.defines;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.lights=source.lights;this.clipping=source.clipping;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;this.extensions=source.extensions;return this}}]);return ShaderMaterial}(_Material2.Material);exports.ShaderMaterial=ShaderMaterial;
/***/},
/***/"./es/materials/ShadowMaterial.js":
/*!****************************************!*\
  !*** ./es/materials/ShadowMaterial.js ***!
  \****************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShadowMaterial=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ShadowMaterial=
/* */
function(_Material){_inherits(ShadowMaterial,_Material);function ShadowMaterial(parameters){var _this;_classCallCheck(this,ShadowMaterial);_this=_possibleConstructorReturn(this,(ShadowMaterial.__proto__||Object.getPrototypeOf(ShadowMaterial)).call(this));_this.type="ShadowMaterial";_this.color=(new _Color.Color).setHex(0);_this.transparent=true;_this.setValues(parameters);return _this}_createClass(ShadowMaterial,[{key:"copy",value:function copy(source){_get(ShadowMaterial.prototype.__proto__||Object.getPrototypeOf(ShadowMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);return this}}]);return ShadowMaterial}(_Material2.Material);exports.ShadowMaterial=ShadowMaterial;
/***/},
/***/"./es/materials/SpriteMaterial.js":
/*!****************************************!*\
  !*** ./es/materials/SpriteMaterial.js ***!
  \****************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SpriteMaterial=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");var _Material2=__webpack_require__(/*! ./Material */"./es/materials/Material.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SpriteMaterial=
/* */
function(_Material){_inherits(SpriteMaterial,_Material);function SpriteMaterial(parameters){var _this;_classCallCheck(this,SpriteMaterial);_this=_possibleConstructorReturn(this,(SpriteMaterial.__proto__||Object.getPrototypeOf(SpriteMaterial)).call(this));_this.type="SpriteMaterial";_this.color=(new _Color.Color).setHex(16777215);_this.fog=false;_this.lights=false;_this.map=null;_this.rotation=0;_this.setValues(parameters);return _this}_createClass(SpriteMaterial,[{key:"copy",value:function copy(source){_get(SpriteMaterial.prototype.__proto__||Object.getPrototypeOf(SpriteMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.rotation=source.rotation;return this}}]);return SpriteMaterial}(_Material2.Material);exports.SpriteMaterial=SpriteMaterial;
/***/},
/***/"./es/math/Box3.js":
/*!*************************!*\
  !*** ./es/math/Box3.js ***!
  \*************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Box3=void 0;var _Sphere=__webpack_require__(/*! ./Sphere */"./es/math/Sphere.js");var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");var _utils=__webpack_require__(/*! ../utils */"./es/utils.js");var _BufferGeometry=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Box3=
/* */
function(){function Box3(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Vector.Vector3(+Infinity,+Infinity,+Infinity);var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _Vector.Vector3(-Infinity,-Infinity,-Infinity);_classCallCheck(this,Box3);this.min=new _Vector.Vector3(+Infinity,+Infinity,+Infinity);this.max=new _Vector.Vector3(-Infinity,-Infinity,-Infinity);this.max=max;this.min=min}_createClass(Box3,[{key:"set",value:function set(min,max){this.min.copy(min);this.max.copy(max);return this}},{key:"setFromArray",value:function setFromArray(array){var minX=+Infinity,minY=+Infinity,minZ=+Infinity;var maxX=-Infinity,maxY=-Infinity,maxZ=-Infinity;for(var i=0,l=array.length;i<l;i+=3){var x=array[i],y=array[i+1],z=array[i+2];if(x<minX)minX=x;if(y<minY)minY=y;if(z<minZ)minZ=z;if(x>maxX)maxX=x;if(y>maxY)maxY=y;if(z>maxZ)maxZ=z}this.min.set(minX,minY,minZ);this.max.set(maxX,maxY,maxZ);return this}},{key:"setFromPoints",value:function setFromPoints(points){this.makeEmpty();for(var i=0,il=points.length;i<il;i++){this.expandByPoint(points[i])}return this}},{key:"setFromCenterAndSize",value:function setFromCenterAndSize(center,size){var halfSize=(new _Vector.Vector3).copy(size).multiplyScalar(.5);this.min.copy(center).sub(halfSize);this.max.copy(center).add(halfSize);return this}},{key:"setFromObject",value:function setFromObject(object){this.makeEmpty();return this.expandByObject(object)}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(box){this.min.copy(box.min);this.max.copy(box.max);return this}},{key:"makeEmpty",value:function makeEmpty(){this.min.x=this.min.y=this.min.z=+Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}
/**
     * this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes
     * @returns {boolean}
     */},{key:"isEmpty",value:function isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function getCenter(){var result=new _Vector.Vector3;return this.isEmpty()?result.set(0,0,0):result.copy(this.min).add(this.max).multiplyScalar(.5)}},{key:"getSize",value:function getSize(){var result=new _Vector.Vector3;return this.isEmpty()?result.set(0,0,0):result.copy(this.max).sub(this.min)}},{key:"expandByPoint",value:function expandByPoint(point){this.min.min(point);this.max.max(point);return this}},{key:"expandByVector",value:function expandByVector(vector){this.min.sub(vector);this.max.add(vector);return this}},{key:"expandByScalar",value:function expandByScalar(scalar){this.min.addScalar(-scalar);this.max.addScalar(scalar);return this}
/**
     * TODO expandByObject
     * @param object
     * @returns {Box3}
     */},{key:"expandByObject",value:function expandByObject(object){var _this=this;
// Computes the world-axis-aligned bounding box of an object (including its children),
// accounting for both the object's, and children's, world transforms
var traverse=function traverse(node){var geometry=node.geometry;if(geometry!==undefined){if(geometry instanceof _Geometry.Geometry){var vertices=geometry.vertices;for(var i=0,l=vertices.length;i<l;i++){var v1=(new _Vector.Vector3).copy(vertices[i]);v1.applyMatrix4(node.matrixWorld);_this.expandByPoint(v1)}}else if(geometry instanceof _BufferGeometry.BufferGeometry){var attribute=geometry.attributes.position;if(attribute!==undefined){for(var _i=0,_l=attribute.count;_i<_l;_i++){var _v=(0,_utils.vectorFromBufferAttribute)(new _Vector.Vector3,attribute,_i).applyMatrix4(node.matrixWorld);_this.expandByPoint(_v)}}}}};object.updateMatrixWorld(true);object.traverse(traverse);return this}},{key:"containsPoint",value:function containsPoint(point){return!(point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y||point.z<this.min.z||point.z>this.max.z)}},{key:"containsBox",value:function containsBox(box){return this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y&&this.min.z<=box.min.z&&box.max.z<=this.max.z}
/**
     * This can potentially have a divide by zero if the box has a size dimension of 0.
     * @param point
     * @returns {Vector3}
     */},{key:"getParameter",value:function getParameter(point){var result=new _Vector.Vector3;return result.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y),(point.z-this.min.z)/(this.max.z-this.min.z))}
/**
     * using 6 splitting planes to rule out intersections
     * @param box
     * @returns {boolean}
     */},{key:"intersectsBox",value:function intersectsBox(box){return!(box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y||box.max.z<this.min.z||box.min.z>this.max.z)}
/**
     * Find the point on the AABB closest to the sphere center.
     * If that point is inside the sphere, the AABB and sphere intersect.
     * @param sphere
     * @returns {boolean}
     */},{key:"intersectsSphere",value:function intersectsSphere(sphere){var closestPoint=this.clampPoint(sphere.center);return closestPoint.distanceToSquared(sphere.center)<=sphere.radius*sphere.radius}
/**
     * We compute the minimum and maximum dot product values. If those values
     * are on the same side (back or front) of the plane, then there is no intersection.
     * @param plane
     * @returns {boolean}
     */},{key:"intersectsPlane",value:function intersectsPlane(plane){var min,max;if(plane.normal.x>0){min=plane.normal.x*this.min.x;max=plane.normal.x*this.max.x}else{min=plane.normal.x*this.max.x;max=plane.normal.x*this.min.x}if(plane.normal.y>0){min+=plane.normal.y*this.min.y;max+=plane.normal.y*this.max.y}else{min+=plane.normal.y*this.max.y;max+=plane.normal.y*this.min.y}if(plane.normal.z>0){min+=plane.normal.z*this.min.z;max+=plane.normal.z*this.max.z}else{min+=plane.normal.z*this.max.z;max+=plane.normal.z*this.min.z}return min<=plane.constant&&max>=plane.constant}},{key:"clampPoint",value:function clampPoint(point){return(new _Vector.Vector3).copy(point).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function distanceToPoint(point){var clampedPoint=(new _Vector.Vector3).copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length()}},{key:"getBoundingSphere",value:function getBoundingSphere(){var result=new _Sphere.Sphere;result.center=this.getCenter();result.radius=this.getSize().length()*.5;return result}},{key:"intersect",value:function intersect(box){this.min.max(box.min);this.max.min(box.max);// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.
if(this.isEmpty())this.makeEmpty();return this}},{key:"union",value:function union(box){this.min.min(box.min);this.max.max(box.max);return this}},{key:"applyMatrix4",value:function applyMatrix4(matrix){
// transform of empty box is an empty box.
if(this.isEmpty())return this;var points=[new _Vector.Vector3,new _Vector.Vector3,new _Vector.Vector3,new _Vector.Vector3,new _Vector.Vector3,new _Vector.Vector3,new _Vector.Vector3,new _Vector.Vector3];// NOTE: I am using a binary pattern to specify all 2^3 combinations below
points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(matrix);// 000
points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(matrix);// 001
points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(matrix);// 010
points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(matrix);// 011
points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(matrix);// 100
points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(matrix);// 101
points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(matrix);// 110
points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(matrix);// 111
this.setFromPoints(points);return this}},{key:"translate",value:function translate(offset){this.min.add(offset);this.max.add(offset);return this}},{key:"equals",value:function equals(box){return box.min.equals(this.min)&&box.max.equals(this.max)}}]);return Box3}();exports.Box3=Box3;
/***/},
/***/"./es/math/Color.js":
/*!**************************!*\
  !*** ./es/math/Color.js ***!
  \**************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Color=void 0;var _Math=__webpack_require__(/*! ./Math */"./es/math/Math.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function HUE_TO_RGB(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*6*(2/3-t);return p}var Color=
/* */
function(){function Color(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var g=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var b=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,Color);this.r=1;this.g=1;this.b=1;this.setRGB(r,g,b)}_createClass(Color,[{key:"copy",value:function copy(color){this.r=color.r;this.g=color.g;this.b=color.b;return this}},{key:"setScalar",value:function setScalar(scalar){this.r=scalar;this.g=scalar;this.b=scalar;return this}},{key:"setHex",value:function setHex(hex){hex=Math.floor(hex);this.r=(hex>>16&255)/255;this.g=(hex>>8&255)/255;this.b=(hex&255)/255;return this}},{key:"setRGB",value:function setRGB(r,g,b){this.r=r;this.g=g;this.b=b;return this}
/**
     * HSL即是代表色相，饱和度，明度三个通道的颜色
     * H: Hue 色相 S：Saturation 饱和度 L Lightness 明度
     * @param h
     * @param s
     * @param l
     * @returns {Color}
     */},{key:"setHSL",value:function setHSL(h,s,l){
// h,s,l ranges are in 0.0 - 1.0
h=_Math.MathUtil.euclideanModulo(h,1);s=_Math.MathUtil.clamp(s,0,1);l=_Math.MathUtil.clamp(l,0,1);if(s===0){this.r=this.g=this.b=l}else{var p=l<=.5?l*(1+s):l+s-l*s;var q=2*l-p;this.r=HUE_TO_RGB(q,p,h+1/3);this.g=HUE_TO_RGB(q,p,h);this.b=HUE_TO_RGB(q,p,h-1/3)}return this}},{key:"setStyle",value:function setStyle(style){var matches;
/**
       * rgb || hsl
       */if(matches=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(style)){var color;var name=matches[1];var components=matches[2];switch(name){case"rgb":case"rgba":if(color=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)){
// rgb(255,0,0) rgba(255,0,0,0.5)
this.r=Math.min(255,parseInt(color[1],10))/255;this.g=Math.min(255,parseInt(color[2],10))/255;this.b=Math.min(255,parseInt(color[3],10))/255;// handleAlpha(color[5]);
return this}if(color=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)){
// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)
this.r=Math.min(100,parseInt(color[1],10))/100;this.g=Math.min(100,parseInt(color[2],10))/100;this.b=Math.min(100,parseInt(color[3],10))/100;// handleAlpha(color[5]);
return this}break;case"hsl":case"hsla":if(color=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)){
// hsl(120,50%,50%) hsla(120,50%,50%,0.5)
var h=parseFloat(color[1])/360;var s=parseInt(color[2],10)/100;var l=parseInt(color[3],10)/100;// handleAlpha(color[5]);
return this.setHSL(h,s,l)}break}}else if(matches=/^\#([A-Fa-f0-9]+)$/.exec(style)){
// hex color
var hex=matches[1];var size=hex.length;if(size===3){
// #ff0
this.r=parseInt(hex.charAt(0)+hex.charAt(0),16)/255;this.g=parseInt(hex.charAt(1)+hex.charAt(1),16)/255;this.b=parseInt(hex.charAt(2)+hex.charAt(2),16)/255;return this}else if(size===6){
// #ff0000
this.r=parseInt(hex.charAt(0)+hex.charAt(1),16)/255;this.g=parseInt(hex.charAt(2)+hex.charAt(3),16)/255;this.b=parseInt(hex.charAt(4)+hex.charAt(5),16)/255;return this}}if(style&&style.length>0){
// color keywords
var _hex=Color.ColorKeywords[style];if(_hex!==undefined){
// red
this.setHex(_hex)}else{console.warn("THREE.Color: Unknown color "+style)}}return this}},{key:"convertGammaToLinear",value:function convertGammaToLinear(color){var gammaFactor=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;return this.setRGB(Math.pow(color.r,gammaFactor),Math.pow(color.g,gammaFactor),Math.pow(color.b,gammaFactor))}},{key:"convertLinearToGamma",value:function convertLinearToGamma(color){var gammaFactor=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var safeInverse=gammaFactor>0?1/gammaFactor:1;return this.setRGB(Math.pow(color.r,safeInverse),Math.pow(color.g,safeInverse),Math.pow(color.b,safeInverse))}},{key:"getHex",value:function getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}},{key:"getHexString",value:function getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function getHSL(){var hsl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{h:0,s:0,l:0};
// h,s,l ranges are in 0.0 - 1.0
var r=this.r,g=this.g,b=this.b;var max=Math.max(r,g,b);var min=Math.min(r,g,b);var hue,saturation;var lightness=(min+max)/2;if(min===max){hue=0;saturation=0}else{var delta=max-min;saturation=lightness<=.5?delta/(max+min):delta/(2-max-min);switch(max){case r:hue=(g-b)/delta+(g<b?6:0);break;case g:hue=(b-r)/delta+2;break;case b:hue=(r-g)/delta+4;break}hue/=6}hsl.h=hue;hsl.s=saturation;hsl.l=lightness;return hsl}},{key:"getStyle",value:function getStyle(){var r=this.r,g=this.g,b=this.b;return"rgb("+(r*255|0)+","+(g*255|0)+","+(b*255|0)+")"}},{key:"offsetHSL",value:function offsetHSL(h,s,l){var hsl=this.getHSL();hsl.h+=h;hsl.s+=s;hsl.l+=l;return this.setHSL(hsl.h,hsl.s,hsl.l)}},{key:"add",value:function add(color){this.r=Math.min(1,this.r+color.r);this.g=Math.min(1,this.g+color.g);this.b=Math.min(1,this.b+color.b);return this}},{key:"addScalar",value:function addScalar(scalar){this.r=Math.min(1,this.r+scalar);this.g=Math.min(1,this.g+scalar);this.b=Math.min(1,this.b+scalar);return this}},{key:"sub",value:function sub(color){this.r=Math.max(0,this.r-color.r);this.g=Math.max(0,this.g-color.g);this.b=Math.max(0,this.b-color.b);return this}},{key:"subScalar",value:function subScalar(scalar){this.r=Math.min(1,this.r-scalar);this.g=Math.min(1,this.g-scalar);this.b=Math.min(1,this.b-scalar);return this}},{key:"multiply",value:function multiply(color){this.r*=color.r;this.g*=color.g;this.b*=color.b;return this}},{key:"multiplyScalar",value:function multiplyScalar(scalar){this.r=Math.min(1,this.r*scalar);this.g=Math.min(1,this.g*scalar);this.b=Math.min(1,this.b*scalar);return this}},{key:"lerp",value:function lerp(color,alpha){this.r+=(color.r-this.r)*alpha;this.g+=(color.g-this.g)*alpha;this.b+=(color.b-this.b)*alpha;return this}},{key:"equals",value:function equals(c){return c.r===this.r&&c.g===this.g&&c.b===this.b}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return Color}();exports.Color=Color;Color.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
/***/},
/***/"./es/math/Euler.js":
/*!**************************!*\
  !*** ./es/math/Euler.js ***!
  \**************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Euler=exports.EulerOrder=void 0;var _Math=__webpack_require__(/*! ./Math */"./es/math/Math.js");var _Matrix=__webpack_require__(/*! ./Matrix4 */"./es/math/Matrix4.js");var _Quaternion=__webpack_require__(/*! ./Quaternion */"./es/math/Quaternion.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var EulerOrder;exports.EulerOrder=EulerOrder;(function(EulerOrder){EulerOrder[EulerOrder["XYZ"]=0]="XYZ";EulerOrder[EulerOrder["YZX"]=1]="YZX";EulerOrder[EulerOrder["ZXY"]=2]="ZXY";EulerOrder[EulerOrder["XZY"]=3]="XZY";EulerOrder[EulerOrder["YXZ"]=4]="YXZ";EulerOrder[EulerOrder["ZYX"]=5]="ZYX"})(EulerOrder||(exports.EulerOrder=EulerOrder={}));
/**
 * TODO: setFromVector3
 */var Euler=
/* */
function(){function Euler(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,Euler);this._order=Euler.DefaultOrder;this.onChangeCallback=function(){};this._x=x;this._y=y;this._z=z}_createClass(Euler,[{key:"onChange",value:function onChange(callback){this.onChangeCallback=callback;return this}},{key:"set",value:function set(x,y,z,order){this._x=x;this._y=y;this._z=z;this._order=order;this.onChangeCallback();return this}},{key:"copy",value:function copy(euler){this.set(euler.x,euler.y,euler.z,euler.order);this.onChangeCallback();return this}
/**
     * assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
     * @param m
     * @param order
     * @returns {Euler}
     */},{key:"setFromRotationMatrix",value:function setFromRotationMatrix(m){var order=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.order;var update=arguments.length>2?arguments[2]:undefined;var clamp=_Math.MathUtil.clamp;var te=m.elements;var m11=te[0],m12=te[4],m13=te[8];var m21=te[1],m22=te[5],m23=te[9];var m31=te[2],m32=te[6],m33=te[10];if(order===EulerOrder.XYZ){this._y=Math.asin(clamp(m13,-1,1));if(Math.abs(m13)<.99999){this._x=Math.atan2(-m23,m33);this._z=Math.atan2(-m12,m11)}else{this._x=Math.atan2(m32,m22);this._z=0}}else if(order===EulerOrder.YXZ){this._x=Math.asin(-clamp(m23,-1,1));if(Math.abs(m23)<.99999){this._y=Math.atan2(m13,m33);this._z=Math.atan2(m21,m22)}else{this._y=Math.atan2(-m31,m11);this._z=0}}else if(order===EulerOrder.ZXY){this._x=Math.asin(clamp(m32,-1,1));if(Math.abs(m32)<.99999){this._y=Math.atan2(-m31,m33);this._z=Math.atan2(-m12,m22)}else{this._y=0;this._z=Math.atan2(m21,m11)}}else if(order===EulerOrder.ZYX){this._y=Math.asin(-clamp(m31,-1,1));if(Math.abs(m31)<.99999){this._x=Math.atan2(m32,m33);this._z=Math.atan2(m21,m11)}else{this._x=0;this._z=Math.atan2(-m12,m22)}}else if(order===EulerOrder.YZX){this._z=Math.asin(clamp(m21,-1,1));if(Math.abs(m21)<.99999){this._x=Math.atan2(-m23,m22);this._y=Math.atan2(-m31,m11)}else{this._x=0;this._y=Math.atan2(m13,m33)}}else if(order===EulerOrder.XZY){this._z=Math.asin(-clamp(m12,-1,1));if(Math.abs(m12)<.99999){this._x=Math.atan2(m32,m22);this._y=Math.atan2(m13,m11)}else{this._x=Math.atan2(-m23,m33);this._y=0}}this.order=order;if(update!==false)this.onChangeCallback();return this}},{key:"setFromQuaternion",value:function setFromQuaternion(q,order,update){var matrix=new _Matrix.Matrix4;matrix.makeRotationFromQuaternion(q);return this.setFromRotationMatrix(matrix,order,update)}
/**
     * this discards revolution information -bhouston
     * @param newOrder
     * @returns {Euler}
     */},{key:"reorder",value:function reorder(newOrder){var q=new _Quaternion.Quaternion;q.setFromEuler(this);return this.setFromQuaternion(q,newOrder)}},{key:"equals",value:function equals(euler){return euler.x===this.x&&euler.y===this.y&&euler.z===this.z&&euler.order===this.order}},{key:"fromArray",value:function fromArray(array){this._x=array[0];this._y=array[1];this._z=array[2];this._order=array[3]||this.order;this.onChangeCallback();return this}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;array[offset+3]=this.order;return array}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"x",get:function get(){return this._x},set:function set(x){this._x=x;this.onChangeCallback()}},{key:"y",get:function get(){return this._y},set:function set(y){this._y=y;this.onChangeCallback()}},{key:"z",get:function get(){return this._z},set:function set(z){this._z=z;this.onChangeCallback()}},{key:"order",get:function get(){return this._order},set:function set(_order){this._order=_order;this.onChangeCallback()}}]);return Euler}();exports.Euler=Euler;Euler.DefaultOrder=EulerOrder.XYZ;
/***/},
/***/"./es/math/Frustum.js":
/*!****************************!*\
  !*** ./es/math/Frustum.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Frustum=void 0;var _Plane=__webpack_require__(/*! ./Plane */"./es/math/Plane.js");var _Sphere=__webpack_require__(/*! ./Sphere */"./es/math/Sphere.js");var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Frustum=
/* */
function(){function Frustum(){var p0=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Plane.Plane;var p1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _Plane.Plane;var p2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new _Plane.Plane;var p3=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new _Plane.Plane;var p4=arguments.length>4&&arguments[4]!==undefined?arguments[4]:new _Plane.Plane;var p5=arguments.length>5&&arguments[5]!==undefined?arguments[5]:new _Plane.Plane;_classCallCheck(this,Frustum);this.planes=[p0,p1,p2,p3,p4,p5]}_createClass(Frustum,[{key:"set",value:function set(p0,p1,p2,p3,p4,p5){var planes=this.planes;planes[0].copy(p0);planes[1].copy(p1);planes[2].copy(p2);planes[3].copy(p3);planes[4].copy(p4);planes[5].copy(p5);return this}},{key:"copy",value:function copy(frustum){var planes=this.planes;for(var i=0;i<6;i++){planes[i].copy(frustum.planes[i])}return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"setFromMatrix",value:function setFromMatrix(m){var planes=this.planes;var me=m.elements;var me0=me[0],me1=me[1],me2=me[2],me3=me[3];var me4=me[4],me5=me[5],me6=me[6],me7=me[7];var me8=me[8],me9=me[9],me10=me[10],me11=me[11];var me12=me[12],me13=me[13],me14=me[14],me15=me[15];var setPlane=function setPlane(plane,x,y,z,w){plane.normal.set(x,y,z);plane.constant=w;plane.normalize()};setPlane(planes[0],me3-me0,me7-me4,me11-me8,me15-me12);setPlane(planes[1],me3+me0,me7+me4,me11+me8,me15+me12);setPlane(planes[2],me3+me1,me7+me5,me11+me9,me15+me13);setPlane(planes[3],me3-me1,me7-me5,me11-me9,me15-me13);setPlane(planes[4],me3-me2,me7-me6,me11-me10,me15-me14);setPlane(planes[5],me3+me2,me7+me6,me11+me10,me15+me14);return this}},{key:"intersectsObject",value:function intersectsObject(object){var geometry=object.geometry;if(geometry.boundingSphere===null){geometry.computeBoundingSphere()}var sphere=(new _Sphere.Sphere).copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);return this.intersectsSphere(sphere)}},{key:"intersectsSprite",value:function intersectsSprite(sprite){var sphere=new _Sphere.Sphere;sphere.center.set(0,0,0);sphere.radius=.7071067811865476;sphere.applyMatrix4(sprite.matrixWorld);return this.intersectsSphere(sphere)}},{key:"intersectsSphere",value:function intersectsSphere(sphere){var planes=this.planes;var center=sphere.center;var negRadius=-sphere.radius;for(var i=0;i<6;i++){var distance=planes[i].distanceToPoint(center);if(distance<negRadius){return false}}return true}},{key:"intersectsBox",value:function intersectsBox(box){var p1=new _Vector.Vector3,p2=new _Vector.Vector3;var planes=this.planes;for(var i=0;i<6;i++){var plane=planes[i];p1.x=plane.normal.x>0?box.min.x:box.max.x;p2.x=plane.normal.x>0?box.max.x:box.min.x;p1.y=plane.normal.y>0?box.min.y:box.max.y;p2.y=plane.normal.y>0?box.max.y:box.min.y;p1.z=plane.normal.z>0?box.min.z:box.max.z;p2.z=plane.normal.z>0?box.max.z:box.min.z;var d1=plane.distanceToPoint(p1);var d2=plane.distanceToPoint(p2);// if both outside plane, no intersection
if(d1<0&&d2<0){return false}}return true}},{key:"containsPoint",value:function containsPoint(point){var planes=this.planes;for(var i=0;i<6;i++){if(planes[i].distanceToPoint(point)<0){return false}}return true}}]);return Frustum}();exports.Frustum=Frustum;
/***/},
/***/"./es/math/Line3.js":
/*!**************************!*\
  !*** ./es/math/Line3.js ***!
  \**************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Line3=void 0;var _Math=__webpack_require__(/*! ./Math */"./es/math/Math.js");var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Line3=
/* */
function(){function Line3(){var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Vector.Vector3;var end=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _Vector.Vector3;_classCallCheck(this,Line3);this.start=new _Vector.Vector3;this.end=new _Vector.Vector3;this.start=start;this.end=end}_createClass(Line3,[{key:"set",value:function set(start,end){this.start.copy(start);this.end.copy(end);return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(line){this.start.copy(line.start);this.end.copy(line.end);return this}},{key:"getCenter",value:function getCenter(){return(new _Vector.Vector3).copy(this.start).add(this.end).multiplyScalar(.5)}},{key:"delta",value:function delta(){return(new _Vector.Vector3).copy(this.end).sub(this.start)}},{key:"distanceSquared",value:function distanceSquared(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function distance(){return this.start.distanceTo(this.end)}},{key:"at",value:function at(t){return this.delta().multiplyScalar(t).add(this.start)}},{key:"closestPointToPointParameter",value:function closestPointToPointParameter(point){var clampToLine=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var startP=new _Vector.Vector3;var startEnd=new _Vector.Vector3;startP.copy(point).sub(this.start);startEnd.copy(this.end).sub(this.start);var startEnd2=startEnd.dot(startEnd);var startEndStartP=startEnd.dot(startP);var t=startEndStartP/startEnd2;if(clampToLine){t=_Math.MathUtil.clamp(t,0,1)}return t}},{key:"closestPointToPoint",value:function closestPointToPoint(point){var clampToLine=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var t=this.closestPointToPointParameter(point,clampToLine);return this.delta().multiplyScalar(t).add(this.start)}},{key:"applyMatrix4",value:function applyMatrix4(matrix){this.start.applyMatrix4(matrix);this.end.applyMatrix4(matrix);return this}},{key:"equals",value:function equals(line){return line.start.equals(this.start)&&line.end.equals(this.end)}}]);return Line3}();exports.Line3=Line3;
/***/},
/***/"./es/math/Math.js":
/*!*************************!*\
  !*** ./es/math/Math.js ***!
  \*************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MathUtil=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var lut=[];for(var i=0;i<256;i++){lut[i]=(i<16?"0":"")+i.toString(16).toUpperCase()}
/**
 * Finished
 */var MathUtil=
/* */
function(){function MathUtil(){_classCallCheck(this,MathUtil)}_createClass(MathUtil,null,[{key:"generateUUID",
/**
     * 产生一个UUID的算法，主要是遵循UUID的规范来产生字符串
     * http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136
     * @returns {string}
     */
value:function generateUUID(){var d0=Math.random()*4294967295|0;var d1=Math.random()*4294967295|0;var d2=Math.random()*4294967295|0;var d3=Math.random()*4294967295|0;return lut[d0&255]+lut[d0>>8&255]+lut[d0>>16&255]+lut[d0>>24&255]+"-"+lut[d1&255]+lut[d1>>8&255]+"-"+lut[d1>>16&15|64]+lut[d1>>24&255]+"-"+lut[d2&63|128]+lut[d2>>8&255]+"-"+lut[d2>>16&255]+lut[d2>>24&255]+lut[d3&255]+lut[d3>>8&255]+lut[d3>>16&255]+lut[d3>>24&255]}
/**
     * 在一定范围内截断value的数值
     * @param value
     * @param min
     * @param max
     * @returns {number}
     */},{key:"clamp",value:function clamp(value,min,max){return Math.max(min,Math.min(max,value))}
/**
     * 计算欧几里得取模算法
     * 详见 https://en.wikipedia.org/wiki/Modulo_operation
     * 这里还需要+m的原因是考虑负数取模的原因
     * @param n
     * @param m
     * @returns {number}
     */},{key:"euclideanModulo",value:function euclideanModulo(n,m){return(n%m+m)%m}
/**
     * 将x在a范围内的值映射到b范围中
     * @param x
     * @param a1
     * @param a2
     * @param b1
     * @param b2
     * @returns {number}
     */},{key:"mapLinear",value:function mapLinear(x,a1,a2,b1,b2){return b1+(x-a1)*(b2-b1)/(a2-a1)}
/**
     * 线性插值
     * https://en.wikipedia.org/wiki/Linear_interpolation
     * @param x
     * @param y
     * @param t
     * @returns {number}
     */},{key:"lerp",value:function lerp(x,y,t){return(1-t)*x+t*y}
/**
     * 这个插值过程是将点原本的线性插值的点映射到f(x) = 3 * x^2 - 2 * x^3上，
     * f"(x) = 6 * x - 6 * x^2 x \in [0, 1] \geq 0
     * 所以f(x)在[0, 1]上单调递增，
     * 观察其二阶导可知f(x)在[0, 0.5]和[0.5 , 1]上分别为下凸和上凸函数，
     * 所以其形状类似于电梯
     * http://en.wikipedia.org/wiki/Smoothstep
     * @param x
     * @param min
     * @param max
     * @returns {number}
     */},{key:"smoothstep",value:function smoothstep(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x*x*(3-2*x)}
/**
     * 类似与上面的函数，计算量更大
     * @param x
     * @param min
     * @param max
     * @returns {number}
     */},{key:"smootherstep",value:function smootherstep(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x*x*x*(x*(x*6-15)+10)}
/**
     * 随机整数
     * @param low
     * @param high
     * @returns {number}
     */},{key:"randInt",value:function randInt(low,high){return low+Math.floor(Math.random()*(high-low+1))}
/**
     * 随机浮点数
     * @param low
     * @param high
     * @returns {number}
     */},{key:"randFloat",value:function randFloat(low,high){return low+Math.random()*(high-low)}
/**
     * [-range/2, range/2]的随机浮点数
     * @param range
     * @returns {number}
     */},{key:"randFloatSpread",value:function randFloatSpread(range){return range*(.5-Math.random())}
/***************************** 下面的太简单了不说明了 *******************************/},{key:"degToRad",value:function degToRad(degrees){return degrees*MathUtil.DEG2RAD}},{key:"radToDeg",value:function radToDeg(radians){return radians*MathUtil.RAD2DEG}
/**
     * 这里用到了二进制的技巧
     * @param value
     * @returns {boolean}
     */},{key:"isPowerOfTwo",value:function isPowerOfTwo(value){return(value&value-1)===0&&value!==0}},{key:"ceilPowerOfTwo",value:function ceilPowerOfTwo(value){return Math.pow(2,Math.ceil(Math.log(value)/Math.LN2))}},{key:"floorPowerOfTwo",value:function floorPowerOfTwo(value){return Math.pow(2,Math.floor(Math.log(value)/Math.LN2))}}]);return MathUtil}();
/**
 * 弧度/角度
 * @type {number}
 */exports.MathUtil=MathUtil;MathUtil.DEG2RAD=Math.PI/180;
/**
 * 角度/弧度
 * @type {number}
 */MathUtil.RAD2DEG=180/Math.PI;
/***/},
/***/"./es/math/Matrix2.js":
/*!****************************!*\
  !*** ./es/math/Matrix2.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Matrix2=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Matrix2=
/* */
function(){function Matrix2(){_classCallCheck(this,Matrix2);this.elements=[1,0,0,1]}_createClass(Matrix2,[{key:"set",value:function set(n11,n12,n21,n22){var te=this.elements;te[0]=n11;te[1]=n21;te[3]=n12;te[4]=n22;return this}},{key:"identity",value:function identity(){return this.set(1,0,0,1)}},{key:"copy",value:function copy(mat2){var te=this.elements;var me=mat2.elements;te[0]=me[0];te[1]=me[1];te[2]=me[2];te[3]=me[3];return this}},{key:"setFromMatrix4",value:function setFromMatrix4(mat2){var me=mat2.elements;return this.set(me[0],me[2],me[1],me[3])}},{key:"multiply",value:function multiply(mat2){return this.multiplyMatrices(this,mat2)}},{key:"premultiply",value:function premultiply(m){return this.multiplyMatrices(m,this)}},{key:"multiplyMatrices",value:function multiplyMatrices(a,b){var ae=a.elements;var be=b.elements;var te=this.elements;var a11=ae[0],a12=ae[2];var a21=ae[1],a22=ae[3];var b11=be[0],b12=be[2];var b21=be[1],b22=be[3];te[0]=a11*b11+a12*b21;te[2]=a11*b12+a12*b22;te[1]=a21*b11+a22*b21;te[3]=a21*b12+a22*b22;return this}},{key:"multiplyScalar",value:function multiplyScalar(s){var te=this.elements;te[0]*=s;te[2]*=s;te[1]*=s;te[3]*=s;return this}},{key:"determinant",value:function determinant(){var te=this.elements;var a=te[0],b=te[1],c=te[2],d=te[3];return a*d-b*c}// getInverse
},{key:"transpose",value:function transpose(){var tmp;var m=this.elements;tmp=m[1];m[1]=m[2];m[2]=tmp;return this}},{key:"equals",value:function equals(matrix){var te=this.elements;var me=matrix.elements;for(var i=0;i<4;i++){if(te[i]!==me[i])return false}return true}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;for(var i=0;i<4;i++){this.elements[i]=array[i+offset]}return this}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];return array}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return Matrix2}();exports.Matrix2=Matrix2;
/***/},
/***/"./es/math/Matrix3.js":
/*!****************************!*\
  !*** ./es/math/Matrix3.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Matrix3=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Matrix3=
/* */
function(){function Matrix3(){_classCallCheck(this,Matrix3);this.elements=[1,0,0,0,1,0,0,0,1]}_createClass(Matrix3,[{key:"set",value:function set(n11,n12,n13,n21,n22,n23,n31,n32,n33){var te=this.elements;te[0]=n11;te[1]=n21;te[2]=n31;te[3]=n12;te[4]=n22;te[5]=n32;te[6]=n13;te[7]=n23;te[8]=n33;return this}},{key:"identity",value:function identity(){return this.set(1,0,0,0,1,0,0,0,1)}},{key:"copy",value:function copy(mat3){var te=this.elements;var me=mat3.elements;te[0]=me[0];te[1]=me[1];te[2]=me[2];te[3]=me[3];te[4]=me[4];te[5]=me[5];te[6]=me[6];te[7]=me[7];te[8]=me[8];return this}},{key:"setFromMatrix4",value:function setFromMatrix4(mat4){var me=mat4.elements;return this.set(me[0],me[4],me[8],me[1],me[5],me[9],me[2],me[6],me[10])}},{key:"multiply",value:function multiply(mat3){return this.multiplyMatrices(this,mat3)}},{key:"premultiply",value:function premultiply(m){return this.multiplyMatrices(m,this)}},{key:"multiplyMatrices",value:function multiplyMatrices(a,b){var ae=a.elements;var be=b.elements;var te=this.elements;var a11=ae[0],a12=ae[3],a13=ae[6];var a21=ae[1],a22=ae[4],a23=ae[7];var a31=ae[2],a32=ae[5],a33=ae[8];var b11=be[0],b12=be[3],b13=be[6];var b21=be[1],b22=be[4],b23=be[7];var b31=be[2],b32=be[5],b33=be[8];te[0]=a11*b11+a12*b21+a13*b31;te[3]=a11*b12+a12*b22+a13*b32;te[6]=a11*b13+a12*b23+a13*b33;te[1]=a21*b11+a22*b21+a23*b31;te[4]=a21*b12+a22*b22+a23*b32;te[7]=a21*b13+a22*b23+a23*b33;te[2]=a31*b11+a32*b21+a33*b31;te[5]=a31*b12+a32*b22+a33*b32;te[8]=a31*b13+a32*b23+a33*b33;return this}},{key:"multiplyScalar",value:function multiplyScalar(s){var te=this.elements;te[0]*=s;te[3]*=s;te[6]*=s;te[1]*=s;te[4]*=s;te[7]*=s;te[2]*=s;te[5]*=s;te[8]*=s;return this}},{key:"determinant",value:function determinant(){var te=this.elements;var a=te[0],b=te[1],c=te[2],d=te[3],e=te[4],f=te[5],g=te[6],h=te[7],i=te[8];return a*e*i-a*f*h-b*d*i+b*f*g+c*d*h-c*e*g}},{key:"getInverse",value:function getInverse(matrix){var throwOnDegenerate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var me=matrix.elements,te=this.elements,n11=me[0],n21=me[1],n31=me[2],n12=me[3],n22=me[4],n32=me[5],n13=me[6],n23=me[7],n33=me[8],t11=n33*n22-n32*n23,t12=n32*n13-n33*n12,t13=n23*n12-n22*n13,det=n11*t11+n21*t12+n31*t13;if(det===0){var msg="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(throwOnDegenerate===true){throw new Error(msg)}else{console.warn(msg)}return this.identity()}var detInv=1/det;te[0]=t11*detInv;te[1]=(n31*n23-n33*n21)*detInv;te[2]=(n32*n21-n31*n22)*detInv;te[3]=t12*detInv;te[4]=(n33*n11-n31*n13)*detInv;te[5]=(n31*n12-n32*n11)*detInv;te[6]=t13*detInv;te[7]=(n21*n13-n23*n11)*detInv;te[8]=(n22*n11-n21*n12)*detInv;return this}},{key:"transpose",value:function transpose(){var tmp;var m=this.elements;tmp=m[1];m[1]=m[3];m[3]=tmp;tmp=m[2];m[2]=m[6];m[6]=tmp;tmp=m[5];m[5]=m[7];m[7]=tmp;return this}},{key:"getNormalMatrix",value:function getNormalMatrix(matrix4){return this.setFromMatrix4(matrix4).getInverse(this).transpose()}},{key:"setUvTransform",value:function setUvTransform(tx,ty,sx,sy,rotation,cx,cy){var c=Math.cos(rotation);var s=Math.sin(rotation);return this.set(sx*c,sx*s,-sx*(c*cx+s*cy)+cx+tx,-sy*s,sy*c,-sy*(-s*cx+c*cy)+cy+ty,0,0,1)}},{key:"scale",value:function scale(sx,sy){var te=this.elements;te[0]*=sx;te[3]*=sx;te[6]*=sx;te[1]*=sy;te[4]*=sy;te[7]*=sy;return this}},{key:"rotate",value:function rotate(theta){var c=Math.cos(theta);var s=Math.sin(theta);var te=this.elements;var a11=te[0],a12=te[3],a13=te[6];var a21=te[1],a22=te[4],a23=te[7];te[0]=c*a11+s*a21;te[3]=c*a12+s*a22;te[6]=c*a13+s*a23;te[1]=-s*a11+c*a21;te[4]=-s*a12+c*a22;te[7]=-s*a13+c*a23;return this}},{key:"translate",value:function translate(tx,ty){var te=this.elements;te[0]+=tx*te[2];te[3]+=tx*te[5];te[6]+=tx*te[8];te[1]+=ty*te[2];te[4]+=ty*te[5];te[7]+=ty*te[8];return this}},{key:"equals",value:function equals(matrix){var te=this.elements;var me=matrix.elements;for(var i=0;i<9;i++){if(te[i]!==me[i])return false}return true}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;for(var i=0;i<9;i++){this.elements[i]=array[i+offset]}return this}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];array[offset+4]=te[4];array[offset+5]=te[5];array[offset+6]=te[6];array[offset+7]=te[7];array[offset+8]=te[8];return array}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return Matrix3}();exports.Matrix3=Matrix3;
/***/},
/***/"./es/math/Matrix4.js":
/*!****************************!*\
  !*** ./es/math/Matrix4.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Matrix4=void 0;var _Euler=__webpack_require__(/*! ./Euler */"./es/math/Euler.js");var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}
/**
 * TODO: applyToBufferAttribute
 */var Matrix4=
/* */
function(){function Matrix4(){_classCallCheck(this,Matrix4);this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}_createClass(Matrix4,[{key:"copy",value:function copy(mat4){var te=this.elements;var me=mat4.elements;te[0]=me[0];te[1]=me[1];te[2]=me[2];te[3]=me[3];te[4]=me[4];te[5]=me[5];te[6]=me[6];te[7]=me[7];te[8]=me[8];te[9]=me[9];te[10]=me[10];te[11]=me[11];te[12]=me[12];te[13]=me[13];te[14]=me[14];te[15]=me[15];return this}},{key:"set",value:function set(n11,n12,n13,n14,n21,n22,n23,n24,n31,n32,n33,n34,n41,n42,n43,n44){var te=this.elements;te[0]=n11;te[4]=n12;te[8]=n13;te[12]=n14;te[1]=n21;te[5]=n22;te[9]=n23;te[13]=n24;te[2]=n31;te[6]=n32;te[10]=n33;te[14]=n34;te[3]=n41;te[7]=n42;te[11]=n43;te[15]=n44;return this}},{key:"identity",value:function identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},{key:"copyPosition",value:function copyPosition(m){var te=this.elements,me=m.elements;te[12]=me[12];te[13]=me[13];te[14]=me[14];return this}},{key:"extractBasis",value:function extractBasis(xAxis,yAxis,zAxis){xAxis.fromArray(this.elements,0);yAxis.fromArray(this.elements,4);zAxis.fromArray(this.elements,8);return this}},{key:"makeBasis",value:function makeBasis(xAxis,yAxis,zAxis){return this.set(xAxis.x,yAxis.x,zAxis.x,0,xAxis.y,yAxis.y,zAxis.y,0,xAxis.z,yAxis.z,zAxis.z,0,0,0,0,1)}},{key:"extractRotation",value:function extractRotation(mat4){var vec=new _Vector.Vector3;var te=this.elements;var me=mat4.elements;var scaleX=1/vec.fromArray(mat4.elements,0).length();var scaleY=1/vec.fromArray(mat4.elements,4).length();var scaleZ=1/vec.fromArray(mat4.elements,8).length();te[0]=me[0]*scaleX;te[1]=me[1]*scaleX;te[2]=me[2]*scaleX;te[4]=me[4]*scaleY;te[5]=me[5]*scaleY;te[6]=me[6]*scaleY;te[8]=me[8]*scaleZ;te[9]=me[9]*scaleZ;te[10]=me[10]*scaleZ;return this}},{key:"makeRotationFromEuler",value:function makeRotationFromEuler(euler){var te=this.elements;var x=euler.x,y=euler.y,z=euler.z;var a=Math.cos(x),b=Math.sin(x);var c=Math.cos(y),d=Math.sin(y);var e=Math.cos(z),f=Math.sin(z);if(euler.order===_Euler.EulerOrder.XYZ){var ae=a*e,af=a*f,be=b*e,bf=b*f;te[0]=c*e;te[4]=-c*f;te[8]=d;te[1]=af+be*d;te[5]=ae-bf*d;te[9]=-b*c;te[2]=bf-ae*d;te[6]=be+af*d;te[10]=a*c}else if(euler.order===_Euler.EulerOrder.YXZ){var ce=c*e,cf=c*f,de=d*e,df=d*f;te[0]=ce+df*b;te[4]=de*b-cf;te[8]=a*d;te[1]=a*f;te[5]=a*e;te[9]=-b;te[2]=cf*b-de;te[6]=df+ce*b;te[10]=a*c}else if(euler.order===_Euler.EulerOrder.ZXY){var _ce=c*e,_cf=c*f,_de=d*e,_df=d*f;te[0]=_ce-_df*b;te[4]=-a*f;te[8]=_de+_cf*b;te[1]=_cf+_de*b;te[5]=a*e;te[9]=_df-_ce*b;te[2]=-a*d;te[6]=b;te[10]=a*c}else if(euler.order===_Euler.EulerOrder.ZYX){var _ae=a*e,_af=a*f,_be=b*e,_bf=b*f;te[0]=c*e;te[4]=_be*d-_af;te[8]=_ae*d+_bf;te[1]=c*f;te[5]=_bf*d+_ae;te[9]=_af*d-_be;te[2]=-d;te[6]=b*c;te[10]=a*c}else if(euler.order===_Euler.EulerOrder.YZX){var ac=a*c,ad=a*d,bc=b*c,bd=b*d;te[0]=c*e;te[4]=bd-ac*f;te[8]=bc*f+ad;te[1]=f;te[5]=a*e;te[9]=-b*e;te[2]=-d*e;te[6]=ad*f+bc;te[10]=ac-bd*f}else if(euler.order===_Euler.EulerOrder.XZY){var _ac=a*c,_ad=a*d,_bc=b*c,_bd=b*d;te[0]=c*e;te[4]=-f;te[8]=d*e;te[1]=_ac*f+_bd;te[5]=a*e;te[9]=_ad*f-_bc;te[2]=_bc*f-_ad;te[6]=b*e;te[10]=_bd*f+_ac}// last column
te[3]=0;te[7]=0;te[11]=0;// bottom row
te[12]=0;te[13]=0;te[14]=0;te[15]=1;return this}},{key:"makeRotationFromQuaternion",value:function makeRotationFromQuaternion(quaternion){var te=this.elements;var x=quaternion.x,y=quaternion.y,z=quaternion.z,w=quaternion.w;var x2=x+x,y2=y+y,z2=z+z;var xx=x*x2,xy=x*y2,xz=x*z2;var yy=y*y2,yz=y*z2,zz=z*z2;var wx=w*x2,wy=w*y2,wz=w*z2;te[0]=1-(yy+zz);te[4]=xy-wz;te[8]=xz+wy;te[1]=xy+wz;te[5]=1-(xx+zz);te[9]=yz-wx;te[2]=xz-wy;te[6]=yz+wx;te[10]=1-(xx+yy);// last column
te[3]=0;te[7]=0;te[11]=0;// bottom row
te[12]=0;te[13]=0;te[14]=0;te[15]=1;return this}},{key:"lookAt",value:function lookAt(eye,target,up){var x=new _Vector.Vector3;var y=new _Vector.Vector3;var z=new _Vector.Vector3;var te=this.elements;z.copy(eye).sub(target);if(z.lengthSquared()===0){
// eye and target are in the same position
z.z=1}z.normalize();x.copy(up).cross(z);if(x.lengthSquared()===0){
// up and z are parallel
if(Math.abs(up.z)===1){z.x+=1e-4}else{z.z+=1e-4}z.normalize();x.copy(up).cross(z)}x.normalize();y.copy(z).cross(x);te[0]=x.x;te[4]=y.x;te[8]=z.x;te[1]=x.y;te[5]=y.y;te[9]=z.y;te[2]=x.z;te[6]=y.z;te[10]=z.z;return this}},{key:"multiply",value:function multiply(mat){return this.multiplyMatrices(this,mat)}},{key:"premultiply",value:function premultiply(mat){return this.multiplyMatrices(mat,this)}},{key:"multiplyMatrices",value:function multiplyMatrices(matA,matB){var ae=matA.elements;var be=matB.elements;var te=this.elements;var a11=ae[0],a12=ae[4],a13=ae[8],a14=ae[12];var a21=ae[1],a22=ae[5],a23=ae[9],a24=ae[13];var a31=ae[2],a32=ae[6],a33=ae[10],a34=ae[14];var a41=ae[3],a42=ae[7],a43=ae[11],a44=ae[15];var b11=be[0],b12=be[4],b13=be[8],b14=be[12];var b21=be[1],b22=be[5],b23=be[9],b24=be[13];var b31=be[2],b32=be[6],b33=be[10],b34=be[14];var b41=be[3],b42=be[7],b43=be[11],b44=be[15];te[0]=a11*b11+a12*b21+a13*b31+a14*b41;te[4]=a11*b12+a12*b22+a13*b32+a14*b42;te[8]=a11*b13+a12*b23+a13*b33+a14*b43;te[12]=a11*b14+a12*b24+a13*b34+a14*b44;te[1]=a21*b11+a22*b21+a23*b31+a24*b41;te[5]=a21*b12+a22*b22+a23*b32+a24*b42;te[9]=a21*b13+a22*b23+a23*b33+a24*b43;te[13]=a21*b14+a22*b24+a23*b34+a24*b44;te[2]=a31*b11+a32*b21+a33*b31+a34*b41;te[6]=a31*b12+a32*b22+a33*b32+a34*b42;te[10]=a31*b13+a32*b23+a33*b33+a34*b43;te[14]=a31*b14+a32*b24+a33*b34+a34*b44;te[3]=a41*b11+a42*b21+a43*b31+a44*b41;te[7]=a41*b12+a42*b22+a43*b32+a44*b42;te[11]=a41*b13+a42*b23+a43*b33+a44*b43;te[15]=a41*b14+a42*b24+a43*b34+a44*b44;return this}},{key:"multiplyScalar",value:function multiplyScalar(s){var te=this.elements;te[0]*=s;te[4]*=s;te[8]*=s;te[12]*=s;te[1]*=s;te[5]*=s;te[9]*=s;te[13]*=s;te[2]*=s;te[6]*=s;te[10]*=s;te[14]*=s;te[3]*=s;te[7]*=s;te[11]*=s;te[15]*=s;return this}
/**
     * http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm
     * @returns {number}
     */},{key:"determinant",value:function determinant(){var te=this.elements;var n11=te[0],n12=te[4],n13=te[8],n14=te[12];var n21=te[1],n22=te[5],n23=te[9],n24=te[13];var n31=te[2],n32=te[6],n33=te[10],n34=te[14];var n41=te[3],n42=te[7],n43=te[11],n44=te[15];return n41*(+n14*n23*n32-n13*n24*n32-n14*n22*n33+n12*n24*n33+n13*n22*n34-n12*n23*n34)+n42*(+n11*n23*n34-n11*n24*n33+n14*n21*n33-n13*n21*n34+n13*n24*n31-n14*n23*n31)+n43*(+n11*n24*n32-n11*n22*n34-n14*n21*n32+n12*n21*n34+n14*n22*n31-n12*n24*n31)+n44*(-n13*n22*n31-n11*n23*n32+n11*n22*n33+n13*n21*n32-n12*n21*n33+n12*n23*n31)}},{key:"transpose",value:function transpose(){var te=this.elements;var tmp;tmp=te[1];te[1]=te[4];te[4]=tmp;tmp=te[2];te[2]=te[8];te[8]=tmp;tmp=te[6];te[6]=te[9];te[9]=tmp;tmp=te[3];te[3]=te[12];te[12]=tmp;tmp=te[7];te[7]=te[13];te[13]=tmp;tmp=te[11];te[11]=te[14];te[14]=tmp;return this}},{key:"setPosition",value:function setPosition(v){var te=this.elements;te[12]=v.x;te[13]=v.y;te[14]=v.z;return this}
/**
     * http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm
     * @param m
     * @param throwOnDegenerate
     * @returns {Matrix4}
     */},{key:"getInverse",value:function getInverse(m){var throwOnDegenerate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var te=this.elements,me=m.elements;var n11=me[0],n21=me[1],n31=me[2],n41=me[3],n12=me[4],n22=me[5],n32=me[6],n42=me[7],n13=me[8],n23=me[9],n33=me[10],n43=me[11],n14=me[12],n24=me[13],n34=me[14],n44=me[15],t11=n23*n34*n42-n24*n33*n42+n24*n32*n43-n22*n34*n43-n23*n32*n44+n22*n33*n44,t12=n14*n33*n42-n13*n34*n42-n14*n32*n43+n12*n34*n43+n13*n32*n44-n12*n33*n44,t13=n13*n24*n42-n14*n23*n42+n14*n22*n43-n12*n24*n43-n13*n22*n44+n12*n23*n44,t14=n14*n23*n32-n13*n24*n32-n14*n22*n33+n12*n24*n33+n13*n22*n34-n12*n23*n34;var det=n11*t11+n21*t12+n31*t13+n41*t14;if(det===0){var msg='THREE.Matrix4: .getInverse() can"t invert matrix, determinant is 0';if(throwOnDegenerate===true){throw new Error(msg)}else{console.warn(msg)}return this.identity()}var detInv=1/det;te[0]=t11*detInv;te[1]=(n24*n33*n41-n23*n34*n41-n24*n31*n43+n21*n34*n43+n23*n31*n44-n21*n33*n44)*detInv;te[2]=(n22*n34*n41-n24*n32*n41+n24*n31*n42-n21*n34*n42-n22*n31*n44+n21*n32*n44)*detInv;te[3]=(n23*n32*n41-n22*n33*n41-n23*n31*n42+n21*n33*n42+n22*n31*n43-n21*n32*n43)*detInv;te[4]=t12*detInv;te[5]=(n13*n34*n41-n14*n33*n41+n14*n31*n43-n11*n34*n43-n13*n31*n44+n11*n33*n44)*detInv;te[6]=(n14*n32*n41-n12*n34*n41-n14*n31*n42+n11*n34*n42+n12*n31*n44-n11*n32*n44)*detInv;te[7]=(n12*n33*n41-n13*n32*n41+n13*n31*n42-n11*n33*n42-n12*n31*n43+n11*n32*n43)*detInv;te[8]=t13*detInv;te[9]=(n14*n23*n41-n13*n24*n41-n14*n21*n43+n11*n24*n43+n13*n21*n44-n11*n23*n44)*detInv;te[10]=(n12*n24*n41-n14*n22*n41+n14*n21*n42-n11*n24*n42-n12*n21*n44+n11*n22*n44)*detInv;te[11]=(n13*n22*n41-n12*n23*n41-n13*n21*n42+n11*n23*n42+n12*n21*n43-n11*n22*n43)*detInv;te[12]=t14*detInv;te[13]=(n13*n24*n31-n14*n23*n31+n14*n21*n33-n11*n24*n33-n13*n21*n34+n11*n23*n34)*detInv;te[14]=(n14*n22*n31-n12*n24*n31-n14*n21*n32+n11*n24*n32+n12*n21*n34-n11*n22*n34)*detInv;te[15]=(n12*n23*n31-n13*n22*n31+n13*n21*n32-n11*n23*n32-n12*n21*n33+n11*n22*n33)*detInv;return this}},{key:"scale",value:function scale(v){var te=this.elements;var x=v.x,y=v.y,z=v.z;te[0]*=x;te[4]*=y;te[8]*=z;te[1]*=x;te[5]*=y;te[9]*=z;te[2]*=x;te[6]*=y;te[10]*=z;te[3]*=x;te[7]*=y;te[11]*=z;return this}},{key:"getMaxScaleOnAxis",value:function getMaxScaleOnAxis(){var te=this.elements;var scaleXSq=te[0]*te[0]+te[1]*te[1]+te[2]*te[2];var scaleYSq=te[4]*te[4]+te[5]*te[5]+te[6]*te[6];var scaleZSq=te[8]*te[8]+te[9]*te[9]+te[10]*te[10];return Math.sqrt(Math.max(scaleXSq,scaleYSq,scaleZSq))}},{key:"makeTranslation",value:function makeTranslation(x,y,z){return this.set(1,0,0,x,0,1,0,y,0,0,1,z,0,0,0,1)}},{key:"makeRotationX",value:function makeRotationX(theta){var c=Math.cos(theta),s=Math.sin(theta);return this.set(1,0,0,0,0,c,-s,0,0,s,c,0,0,0,0,1)}},{key:"makeRotationY",value:function makeRotationY(theta){var c=Math.cos(theta),s=Math.sin(theta);return this.set(c,0,s,0,0,1,0,0,-s,0,c,0,0,0,0,1)}},{key:"makeRotationZ",value:function makeRotationZ(theta){var c=Math.cos(theta),s=Math.sin(theta);return this.set(c,-s,0,0,s,c,0,0,0,0,1,0,0,0,0,1)}
/**
     * http://www.gamedev.net/reference/articles/article1199.asp
     * @param axis
     * @param angle
     * @returns {Matrix4}
     */},{key:"makeRotationAxis",value:function makeRotationAxis(axis,angle){var c=Math.cos(angle);var s=Math.sin(angle);var t=1-c;var x=axis.x,y=axis.y,z=axis.z;var tx=t*x,ty=t*y;return this.set(tx*x+c,tx*y-s*z,tx*z+s*y,0,tx*y+s*z,ty*y+c,ty*z-s*x,0,tx*z-s*y,ty*z+s*x,t*z*z+c,0,0,0,0,1)}},{key:"makeScale",value:function makeScale(x,y,z){return this.set(x,0,0,0,0,y,0,0,0,0,z,0,0,0,0,1)}},{key:"makeShear",value:function makeShear(x,y,z){return this.set(1,y,z,0,x,1,z,0,x,y,1,0,0,0,0,1)}},{key:"compose",value:function compose(position,quaternion,scale){this.makeRotationFromQuaternion(quaternion);this.scale(scale);this.setPosition(position);return this}},{key:"decompose",value:function decompose(position,quaternion,scale){var vector=new _Vector.Vector3;var matrix=new Matrix4;var te=this.elements;var sx=vector.set(te[0],te[1],te[2]).length();var sy=vector.set(te[4],te[5],te[6]).length();var sz=vector.set(te[8],te[9],te[10]).length();// if determine is negative, we need to invert one scale
var det=this.determinant();if(det<0)sx=-sx;position.x=te[12];position.y=te[13];position.z=te[14];// scale the rotation part
matrix.copy(this);var invSX=1/sx;var invSY=1/sy;var invSZ=1/sz;matrix.elements[0]*=invSX;matrix.elements[1]*=invSX;matrix.elements[2]*=invSX;matrix.elements[4]*=invSY;matrix.elements[5]*=invSY;matrix.elements[6]*=invSY;matrix.elements[8]*=invSZ;matrix.elements[9]*=invSZ;matrix.elements[10]*=invSZ;quaternion.setFromRotationMatrix(matrix);scale.set(sx,sy,sz);return this}},{key:"makePerspective",value:function makePerspective(left,right,top,bottom,near,far){return this.set(2*near/(right-left),0,(right+left)/(right-left),0,0,2*near/(top-bottom),(top+bottom)/(top-bottom),0,0,0,-(far+near)/(far-near),-2*far*near/(far-near),0,0,-1,0)}},{key:"makeOrthographic",value:function makeOrthographic(left,right,top,bottom,near,far){var w=1/(right-left);var h=1/(top-bottom);var p=1/(far-near);var x=(right+left)*w;var y=(top+bottom)*h;var z=(far+near)*p;return this.set(2*w,0,0,-x,0,2*h,0,-y,0,0,-2*p,-z,0,0,0,1)}},{key:"equals",value:function equals(matrix){var me=matrix.elements;for(var i=0;i<16;i++){if(this.elements[i]!==me[i])return false}return true}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;for(var i=0;i<16;i++){this.elements[i]=array[i+offset]}return this}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];array[offset+4]=te[4];array[offset+5]=te[5];array[offset+6]=te[6];array[offset+7]=te[7];array[offset+8]=te[8];array[offset+9]=te[9];array[offset+10]=te[10];array[offset+11]=te[11];array[offset+12]=te[12];array[offset+13]=te[13];array[offset+14]=te[14];array[offset+15]=te[15];return array}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return Matrix4}();exports.Matrix4=Matrix4;
/***/},
/***/"./es/math/Plane.js":
/*!**************************!*\
  !*** ./es/math/Plane.js ***!
  \**************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Plane=void 0;var _Matrix=__webpack_require__(/*! ./Matrix3 */"./es/math/Matrix3.js");var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Plane=
/* */
function(){function Plane(){var normal=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Vector.Vector3(1,0,0);var constant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,Plane);this.normal=new _Vector.Vector3(1,0,0);this.constant=0;this.normal=normal;this.constant=constant}_createClass(Plane,[{key:"set",value:function set(normal,constant){this.normal.copy(normal);this.constant=constant;return this}},{key:"setFromNormalAndCoplanarPoint",value:function setFromNormalAndCoplanarPoint(normal,point){this.normal.copy(normal);this.constant=-point.dot(this.normal);return this}},{key:"setFromCoplanarPoints",value:function setFromCoplanarPoints(a,b,c){var v1=new _Vector.Vector3;var v2=new _Vector.Vector3;var normal=v1.copy(c).sub(b).cross(v2.copy(a).sub(b)).normalize();// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?
this.setFromNormalAndCoplanarPoint(normal,a);return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(plane){this.normal.copy(plane.normal);this.constant=plane.constant;return this}
/**
     * Note: will lead to a divide by zero if the plane is invalid
     * @returns {Plane}
     */},{key:"normalize",value:function normalize(){var inverseNormalLength=1/this.normal.length();this.normal.multiplyScalar(inverseNormalLength);this.constant*=inverseNormalLength;return this}},{key:"negate",value:function negate(){this.constant*=-1;this.normal.negate();return this}},{key:"distanceToPoint",value:function distanceToPoint(point){return this.normal.dot(point)+this.constant}},{key:"distanceToSphere",value:function distanceToSphere(sphere){return this.distanceToPoint(sphere.center)-sphere.radius}},{key:"projectPoint",value:function projectPoint(point){return(new _Vector.Vector3).copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point)}},{key:"intersectLine",value:function intersectLine(line){var direction=line.delta();var denominator=this.normal.dot(direction);if(denominator===0){
// line is coplanar, return origin
if(this.distanceToPoint(line.start)===0){return(new _Vector.Vector3).copy(line.start)}// Unsure if this is the correct method to handle this case.
return undefined}var t=-(line.start.dot(this.normal)+this.constant)/denominator;if(t<0||t>1){return undefined}return(new _Vector.Vector3).copy(direction).multiplyScalar(t).add(line.start)}},{key:"intersectsLine",value:function intersectsLine(line){
// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.
var startSign=this.distanceToPoint(line.start);var endSign=this.distanceToPoint(line.end);return startSign<0&&endSign>0||endSign<0&&startSign>0}},{key:"intersectsBox",value:function intersectsBox(box){return box.intersectsPlane(this)}},{key:"intersectsSphere",value:function intersectsSphere(sphere){return sphere.intersectsPlane(this)}},{key:"coplanarPoint",value:function coplanarPoint(){return(new _Vector.Vector3).copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function applyMatrix4(matrix,optionalNormalMatrix){var normalMatrix=optionalNormalMatrix||(new _Matrix.Matrix3).getNormalMatrix(matrix);var referencePoint=this.coplanarPoint().applyMatrix4(matrix);var normal=this.normal.applyMatrix3(normalMatrix).normalize();this.constant=-referencePoint.dot(normal);return this}},{key:"translate",value:function translate(offset){this.constant-=offset.dot(this.normal);return this}},{key:"equals",value:function equals(plane){return plane.normal.equals(this.normal)&&plane.constant===this.constant}}]);return Plane}();exports.Plane=Plane;
/***/},
/***/"./es/math/Quaternion.js":
/*!*******************************!*\
  !*** ./es/math/Quaternion.js ***!
  \*******************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Quaternion=void 0;var _Euler=__webpack_require__(/*! ./Euler */"./es/math/Euler.js");var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Quaternion=
/* */
function(){function Quaternion(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var w=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;_classCallCheck(this,Quaternion);this.onChangeCallback=function(){};this._x=x;this._y=y;this._z=z;this._w=w}_createClass(Quaternion,[{key:"onChange",value:function onChange(callback){this.onChangeCallback=callback;return this}},{key:"set",value:function set(x,y,z,w){this._x=x;this._y=y;this._z=z;this._w=w;this.onChangeCallback();return this}},{key:"_set",value:function _set(x,y,z,w){this._x=x;this._y=y;this._z=z;this._w=w;return this}},{key:"copy",value:function copy(quaternion){this._set(quaternion.x,quaternion.y,quaternion.z,quaternion.w);this.onChangeCallback();return this}},{key:"setFromEuler",value:function setFromEuler(euler,update){var x=euler.x,y=euler.y,z=euler.z,order=euler.order;var cos=Math.cos;var sin=Math.sin;var c1=cos(x/2);var c2=cos(y/2);var c3=cos(z/2);var s1=sin(x/2);var s2=sin(y/2);var s3=sin(z/2);if(order===_Euler.EulerOrder.XYZ){return this._set(s1*c2*c3+c1*s2*s3,c1*s2*c3-s1*c2*s3,c1*c2*s3+s1*s2*c3,c1*c2*c3-s1*s2*s3)}else if(order===_Euler.EulerOrder.YXZ){return this._set(s1*c2*c3+c1*s2*s3,c1*s2*c3-s1*c2*s3,c1*c2*s3-s1*s2*c3,c1*c2*c3+s1*s2*s3)}else if(order===_Euler.EulerOrder.ZXY){return this._set(s1*c2*c3-c1*s2*s3,c1*s2*c3+s1*c2*s3,c1*c2*s3+s1*s2*c3,c1*c2*c3-s1*s2*s3)}else if(order===_Euler.EulerOrder.ZYX){return this._set(s1*c2*c3-c1*s2*s3,c1*s2*c3+s1*c2*s3,c1*c2*s3-s1*s2*c3,c1*c2*c3+s1*s2*s3)}else if(order===_Euler.EulerOrder.YZX){return this._set(s1*c2*c3+c1*s2*s3,c1*s2*c3+s1*c2*s3,c1*c2*s3-s1*s2*c3,c1*c2*c3-s1*s2*s3)}else if(order===_Euler.EulerOrder.XZY){return this._set(s1*c2*c3-c1*s2*s3,c1*s2*c3-s1*c2*s3,c1*c2*s3+s1*s2*c3,c1*c2*c3+s1*s2*s3)}if(update!==false)this.onChangeCallback();return this}
/**
     * !!! assumes axis is normalized
     * http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm
     * @param axis
     * @param angle
     * @returns {Quaternion}
     */},{key:"setFromAxisAngle",value:function setFromAxisAngle(axis,angle){var halfAngle=angle/2,s=Math.sin(halfAngle);this._set(axis.x*s,axis.y*s,axis.z*s,Math.cos(halfAngle));this.onChangeCallback();return this}
/**
     * !!! assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
     * http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm
     * @param m
     * @returns {Quaternion}
     */},{key:"setFromRotationMatrix",value:function setFromRotationMatrix(m){var te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10],trace=m11+m22+m33;var s;if(trace>0){s=.5/Math.sqrt(trace+1);this._set((m32-m23)*s,(m13-m31)*s,(m21-m12)*s,.25/s)}else if(m11>m22&&m11>m33){s=2*Math.sqrt(1+m11-m22-m33);this._set(.25*s,(m12+m21)/s,(m13+m31)/s,(m32-m23)/s)}else if(m22>m33){s=2*Math.sqrt(1+m22-m11-m33);this._set((m12+m21)/s,.25*s,(m23+m32)/s,(m13-m31)/s)}else{s=2*Math.sqrt(1+m33-m11-m22);this._set((m13+m31)/s,(m23+m32)/s,.25*s,(m21-m12)/s)}this.onChangeCallback();return this}
/**
     * !! assumes direction vectors vFrom and vTo are normalized
     * @param vFrom
     * @param vTo
     * @returns {Quaternion}
     */},{key:"setFromUnitVectors",value:function setFromUnitVectors(vFrom,vTo){var vec=new _Vector.Vector3;var EPS=1e-6;var r=vFrom.dot(vTo)+1;if(r<EPS){r=0;if(Math.abs(vFrom.x)>Math.abs(vFrom.z)){vec.set(-vFrom.y,vFrom.x,0)}else{vec.set(0,-vFrom.z,vFrom.y)}}else{vec.copy(vFrom).cross(vTo)}this._x=vec.x;this._y=vec.y;this._z=vec.z;this._w=r;return this.normalize()}},{key:"inverse",value:function inverse(){return this.conjugate().normalize()}},{key:"conjugate",value:function conjugate(){this._set(this.x*-1,this.y*-1,this.z*-1,this.w);this.onChangeCallback();return this}},{key:"dot",value:function dot(vec){return this.x*vec.x+this.y*vec.y+this.z*vec.z+this.w*vec.w}},{key:"lengthSquared",value:function lengthSquared(){var x=this.x,y=this.y,z=this.z,w=this.w;return x*x+y*y+z*z+w*w}},{key:"length",value:function length(){return Math.sqrt(this.lengthSquared())}},{key:"normalize",value:function normalize(){var l=this.length();if(l===0){this._set(0,0,0,1)}else{l=1/l;this._set(this.x*l,this.y*l,this.z*l,this.w*l)}this.onChangeCallback();return this}},{key:"multiply",value:function multiply(quaternion){return this.multiplyQuaternions(this,quaternion)}},{key:"premultiply",value:function premultiply(quaternion){return this.multiplyQuaternions(quaternion,this)}
/**
     * http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm
     * @param a
     * @param b
     * @returns {Quaternion}
     */},{key:"multiplyQuaternions",value:function multiplyQuaternions(a,b){var qax=a.x,qay=a.y,qaz=a.z,qaw=a.w;var qbx=b.x,qby=b.y,qbz=b.z,qbw=b.w;this._set(qax*qbw+qaw*qbx+qay*qbz-qaz*qby,qay*qbw+qaw*qby+qaz*qbx-qax*qbz,qaz*qbw+qaw*qbz+qax*qby-qay*qbx,qaw*qbw-qax*qbx-qay*qby-qaz*qbz);this.onChangeCallback();return this}
/**
     * http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/
     * @param qb
     * @param t
     * @returns {Quaternion}
     */},{key:"slerp",value:function slerp(qb,t){if(t===0)return this;if(t===1)return this.copy(qb);var x=this.x,y=this.y,z=this.z,w=this.w;var cosHalfTheta=w*qb.w+x*qb.x+y*qb.y+z*qb.z;if(cosHalfTheta<0){this._set(-qb.x,-qb.y,-qb.z,-qb.w);cosHalfTheta=-cosHalfTheta}else{this.copy(qb)}if(cosHalfTheta>=1){return this._set(x,y,z,w)}var sinHalfTheta=Math.sqrt(1-cosHalfTheta*cosHalfTheta);if(Math.abs(sinHalfTheta)<.001){return this._set(.5*(x+this.x),.5*(y+this.y),.5*(z+this.z),.5*(w+this.w))}var halfTheta=Math.atan2(sinHalfTheta,cosHalfTheta);var ratioA=Math.sin((1-t)*halfTheta)/sinHalfTheta,ratioB=Math.sin(t*halfTheta)/sinHalfTheta;this._set(x*ratioA+this.x*ratioB,y*ratioA+this.y*ratioB,z*ratioA+this.z*ratioB,w*ratioA+this.w*ratioB);this.onChangeCallback();return this}},{key:"equals",value:function equals(quaternion){var x=this.x,y=this.y,z=this.z,w=this.w;return quaternion.x===x&&quaternion.y===y&&quaternion.z===z&&quaternion.w===w}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this._set(array[offset],array[offset+1],array[offset+2],array[offset+3]);this.onChangeCallback();return this}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;array[offset+3]=this.w;return array}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"x",get:function get(){return this._x},set:function set(_x){this._x=_x;this.onChangeCallback()}},{key:"y",get:function get(){return this._y},set:function set(_y){this._y=_y;this.onChangeCallback()}},{key:"z",get:function get(){return this._z},set:function set(_z){this._z=_z;this.onChangeCallback()}},{key:"w",get:function get(){return this._w},set:function set(_w){this._w=_w;this.onChangeCallback()}}]);return Quaternion}();exports.Quaternion=Quaternion;
/***/},
/***/"./es/math/Ray.js":
/*!************************!*\
  !*** ./es/math/Ray.js ***!
  \************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Ray=void 0;var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Ray=
/* */
function(){function Ray(){var origin=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Vector.Vector3;var direction=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _Vector.Vector3;_classCallCheck(this,Ray);this.origin=new _Vector.Vector3;this.direction=new _Vector.Vector3;this.origin=origin;this.direction=direction}_createClass(Ray,[{key:"set",value:function set(origin,direction){this.origin.copy(origin);this.direction.copy(direction);return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(ray){this.origin.copy(ray.origin);this.direction.copy(ray.direction);return this}},{key:"at",value:function at(t){return(new _Vector.Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function lookAt(v){this.direction.copy(v).sub(this.origin).normalize();return this}},{key:"recast",value:function recast(t){this.origin.copy(this.at(t));return this}},{key:"closestPointToPoint",value:function closestPointToPoint(point){var result=(new _Vector.Vector3).copy(point).sub(this.origin);var directionDistance=result.dot(this.direction);if(directionDistance<0){return result.copy(this.origin)}return result.copy(this.direction).multiplyScalar(directionDistance).add(this.origin)}},{key:"distanceToPoint",value:function distanceToPoint(point){return Math.sqrt(this.distanceSquaredToPoint(point))}},{key:"distanceSquaredToPoint",value:function distanceSquaredToPoint(point){var directionDistance=(new _Vector.Vector3).copy(point).sub(this.origin).dot(this.direction);// point behind the ray
if(directionDistance<0){return this.origin.distanceToSquared(point)}return(new _Vector.Vector3).copy(this.direction).multiplyScalar(directionDistance).add(this.origin).distanceToSquared(point)}},{key:"distanceSquareToSegment",value:function distanceSquareToSegment(v0,v1,optionalPointOnRay,optionalPointOnSegment){var segCenter=new _Vector.Vector3;var segDir=new _Vector.Vector3;var diff=new _Vector.Vector3;// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h
// It returns the min distance between the ray and the segment
// defined by v0 and v1
// It can also set two optional targets :
// - The closest point on the ray
// - The closest point on the segment
segCenter.copy(v0).add(v1).multiplyScalar(.5);segDir.copy(v1).sub(v0).normalize();diff.copy(this.origin).sub(segCenter);var segExtent=v0.distanceTo(v1)*.5;var a01=-this.direction.dot(segDir);var b0=diff.dot(this.direction);var b1=-diff.dot(segDir);var c=diff.lengthSquared();var det=Math.abs(1-a01*a01);var s0,s1,sqrDist,extDet;if(det>0){
// The ray and segment are not parallel.
s0=a01*b1-b0;s1=a01*b0-b1;extDet=segExtent*det;if(s0>=0){if(s1>=-extDet){if(s1<=extDet){
// region 0
// Minimum at interior points of ray and segment.
var invDet=1/det;s0*=invDet;s1*=invDet;sqrDist=s0*(s0+a01*s1+2*b0)+s1*(a01*s0+s1+2*b1)+c}else{
// region 1
s1=segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c}}else{
// region 5
s1=-segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c}}else{if(s1<=-extDet){
// region 4
s0=Math.max(0,-(-a01*segExtent+b0));s1=s0>0?-segExtent:Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=-s0*s0+s1*(s1+2*b1)+c}else if(s1<=extDet){
// region 3
s0=0;s1=Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=s1*(s1+2*b1)+c}else{
// region 2
s0=Math.max(0,-(a01*segExtent+b0));s1=s0>0?segExtent:Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=-s0*s0+s1*(s1+2*b1)+c}}}else{
// Ray and segment are parallel.
s1=a01>0?-segExtent:segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c}if(optionalPointOnRay){optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin)}if(optionalPointOnSegment){optionalPointOnSegment.copy(segDir).multiplyScalar(s1).add(segCenter)}return sqrDist}},{key:"intersectSphere",value:function intersectSphere(sphere){var vec=(new _Vector.Vector3).copy(sphere.center).sub(this.origin);var tca=vec.dot(this.direction);var d2=vec.dot(vec)-tca*tca;var radius2=sphere.radius*sphere.radius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2);// t0 = first intersect point - entrance on front of sphere
var t0=tca-thc;// t1 = second intersect point - exit point on back of sphere
var t1=tca+thc;// test to see if both t0 and t1 are behind the ray - if so, return null
if(t0<0&&t1<0)return null;// test to see if t0 is behind the ray:
// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,
// in order to always return an intersect point that is in front of the ray.
if(t0<0)return this.at(t1);// else t0 is in front of the ray, so return the first collision point scaled by t0
return this.at(t0)}},{key:"intersectsSphere",value:function intersectsSphere(sphere){return this.distanceToPoint(sphere.center)<=sphere.radius}},{key:"distanceToPlane",value:function distanceToPlane(plane){var denominator=plane.normal.dot(this.direction);if(denominator===0){
// line is coplanar, return origin
if(plane.distanceToPoint(this.origin)===0){return 0}// Null is preferable to undefined since undefined means.... it is undefined
return Infinity}var t=-(this.origin.dot(plane.normal)+plane.constant)/denominator;// Return if the ray never intersects the plane
return t>=0?t:Infinity}},{key:"intersectPlane",value:function intersectPlane(plane){var t=this.distanceToPlane(plane);if(!isFinite(t)){return null}return this.at(t)}},{key:"intersectsPlane",value:function intersectsPlane(plane){
// check if the ray lies on the plane first
var distToPoint=plane.distanceToPoint(this.origin);if(distToPoint===0){return true}var denominator=plane.normal.dot(this.direction);if(denominator*distToPoint<0){return true}// ray origin is behind the plane (and is pointing behind it)
return false}},{key:"intersectBox",value:function intersectBox(box){var tmin,tmax,tymin,tymax,tzmin,tzmax;var invdirx=1/this.direction.x,invdiry=1/this.direction.y,invdirz=1/this.direction.z;var origin=this.origin;if(invdirx>=0){tmin=(box.min.x-origin.x)*invdirx;tmax=(box.max.x-origin.x)*invdirx}else{tmin=(box.max.x-origin.x)*invdirx;tmax=(box.min.x-origin.x)*invdirx}if(invdiry>=0){tymin=(box.min.y-origin.y)*invdiry;tymax=(box.max.y-origin.y)*invdiry}else{tymin=(box.max.y-origin.y)*invdiry;tymax=(box.min.y-origin.y)*invdiry}if(tmin>tymax||tymin>tmax)return null;// These lines also handle the case where tmin or tmax is NaN
// (result of 0 * Infinity). x !== x returns true if x is NaN
if(tymin>tmin||tmin!==tmin)tmin=tymin;if(tymax<tmax||tmax!==tmax)tmax=tymax;if(invdirz>=0){tzmin=(box.min.z-origin.z)*invdirz;tzmax=(box.max.z-origin.z)*invdirz}else{tzmin=(box.max.z-origin.z)*invdirz;tzmax=(box.min.z-origin.z)*invdirz}if(tmin>tzmax||tzmin>tmax)return null;if(tzmin>tmin||tmin!==tmin)tmin=tzmin;if(tzmax<tmax||tmax!==tmax)tmax=tzmax;// return point closest to the ray (positive side)
if(tmax<0)return null;return this.at(tmin>=0?tmin:tmax)}},{key:"intersectsBox",value:function intersectsBox(box){return this.intersectBox(box)!==null}},{key:"intersectTriangle",value:function intersectTriangle(triangle){var backFaceCulling=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;
// Compute the offset origin, edges, and normal.
var a=triangle.a,b=triangle.b,c=triangle.c;var edge1=(new _Vector.Vector3).copy(b).sub(a);var edge2=(new _Vector.Vector3).copy(c).sub(a);var normal=(new _Vector.Vector3).copy(edge1).cross(edge2);// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,
// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by
//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))
//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))
//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)
var DdN=this.direction.dot(normal);var sign;if(DdN>0){if(backFaceCulling)return null;sign=1}else if(DdN<0){sign=-1;DdN=-DdN}else{return null}var diff=(new _Vector.Vector3).copy(this.origin).sub(a);var DdQxE2=sign*this.direction.dot(edge2.copy(diff).cross(edge2));// b1 < 0, no intersection
if(DdQxE2<0){return null}var DdE1xQ=sign*this.direction.dot(edge1.cross(diff));// b2 < 0, no intersection
if(DdE1xQ<0){return null}// b1+b2 > 1, no intersection
if(DdQxE2+DdE1xQ>DdN){return null}// Line intersects triangle, check if ray does.
var QdN=-sign*diff.dot(normal);// t < 0, no intersection
if(QdN<0){return null}// Ray intersects triangle.
return this.at(QdN/DdN)}},{key:"intersectsTriangle",value:function intersectsTriangle(triangle){return this.intersectTriangle(triangle)!==null}},{key:"applyMatrix4",value:function applyMatrix4(matrix4){this.origin.applyMatrix4(matrix4);this.direction.transformDirection(matrix4);return this}},{key:"equals",value:function equals(ray){return ray.origin.equals(this.origin)&&ray.direction.equals(this.direction)}}]);return Ray}();exports.Ray=Ray;
/***/},
/***/"./es/math/Sphere.js":
/*!***************************!*\
  !*** ./es/math/Sphere.js ***!
  \***************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Sphere=void 0;var _Box=__webpack_require__(/*! ./Box3 */"./es/math/Box3.js");var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Sphere=
/* */
function(){function Sphere(){var center=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Vector.Vector3;var radius=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,Sphere);this.center=new _Vector.Vector3;this.radius=0;this.center=center;this.radius=radius}_createClass(Sphere,[{key:"set",value:function set(center,radius){this.center.copy(center);this.radius=radius;return this}},{key:"setFromPoints",value:function setFromPoints(points,optionalCenter){if(optionalCenter!==undefined){this.center.copy(optionalCenter)}else{this.center=(new _Box.Box3).setFromPoints(points).getCenter()}var maxRadiusSq=0;for(var i=0,il=points.length;i<il;i++){maxRadiusSq=Math.max(maxRadiusSq,this.center.distanceToSquared(points[i]))}this.radius=Math.sqrt(maxRadiusSq);return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(sphere){this.center.copy(sphere.center);this.radius=sphere.radius;return this}},{key:"empty",value:function empty(){return this.radius<=0}},{key:"containsPoint",value:function containsPoint(point){return point.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function distanceToPoint(point){return point.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function intersectsSphere(sphere){var radiusSum=this.radius+sphere.radius;return sphere.center.distanceToSquared(this.center)<=radiusSum*radiusSum}},{key:"intersectsBox",value:function intersectsBox(box){return box.intersectsSphere(this)}},{key:"intersectsPlane",value:function intersectsPlane(plane){return Math.abs(plane.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function clampPoint(point){var deltaLengthSquared=this.center.distanceToSquared(point);var result=(new _Vector.Vector3).copy(point);if(deltaLengthSquared>this.radius*this.radius){result.sub(this.center).normalize();result.multiplyScalar(this.radius).add(this.center)}return result}},{key:"getBoundingBox",value:function getBoundingBox(){return(new _Box.Box3).set(this.center,this.center).expandByScalar(this.radius)}},{key:"applyMatrix4",value:function applyMatrix4(matrix){this.center.applyMatrix4(matrix);this.radius=this.radius*matrix.getMaxScaleOnAxis();return this}},{key:"translate",value:function translate(offset){this.center.add(offset);return this}},{key:"equals",value:function equals(sphere){return sphere.center.equals(this.center)&&sphere.radius===this.radius}}]);return Sphere}();exports.Sphere=Sphere;
/***/},
/***/"./es/math/Spherical.js":
/*!******************************!*\
  !*** ./es/math/Spherical.js ***!
  \******************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Spherical=void 0;var _Math=__webpack_require__(/*! ./Math */"./es/math/Math.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Spherical=
/* */
function(){function Spherical(){var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var phi=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var theta=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,Spherical);this.radius=radius;this.phi=phi;this.theta=theta}_createClass(Spherical,[{key:"set",value:function set(radius,phi,theta){this.radius=radius;this.phi=phi;this.theta=theta;return this}},{key:"copy",value:function copy(other){this.radius=other.radius;this.phi=other.phi;this.theta=other.theta;return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}// restrict phi to be betwee EPS and PI-EPS
},{key:"makeSafe",value:function makeSafe(){var EPS=1e-6;this.phi=Math.max(EPS,Math.min(Math.PI-EPS,this.phi));return this}},{key:"setFromVector3",value:function setFromVector3(vec3){this.radius=vec3.length();if(this.radius===0){this.theta=0;this.phi=0}else{this.theta=Math.atan2(vec3.x,vec3.z);// equator angle around y-up axis
this.phi=Math.acos(_Math.MathUtil.clamp(vec3.y/this.radius,-1,1));// polar angle
}return this}}]);return Spherical}();exports.Spherical=Spherical;
/***/},
/***/"./es/math/Triangle.js":
/*!*****************************!*\
  !*** ./es/math/Triangle.js ***!
  \*****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Triangle=void 0;var _Line=__webpack_require__(/*! ./Line3 */"./es/math/Line3.js");var _Plane=__webpack_require__(/*! ./Plane */"./es/math/Plane.js");var _Vector=__webpack_require__(/*! ./Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Triangle=
/* */
function(){function Triangle(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Vector.Vector3;var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _Vector.Vector3;var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new _Vector.Vector3;_classCallCheck(this,Triangle);this.a=new _Vector.Vector3;this.b=new _Vector.Vector3;this.c=new _Vector.Vector3;this.a=a;this.b=b;this.c=c}_createClass(Triangle,[{key:"set",value:function set(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(triangle){this.a.copy(triangle.a);this.b.copy(triangle.b);this.c.copy(triangle.c);return this}},{key:"area",value:function area(){var v0=(new _Vector.Vector3).copy(this.c).sub(this.b);var v1=(new _Vector.Vector3).copy(this.a).sub(this.b);return v0.cross(v1).length()*.5}},{key:"midpoint",value:function midpoint(){return(new _Vector.Vector3).copy(this.a).add(this.b).add(this.c).multiplyScalar(1/3)}},{key:"normal",value:function normal(){var vec=(new _Vector.Vector3).copy(this.a).sub(this.b);var result=(new _Vector.Vector3).copy(this.c).sub(this.b).cross(vec);var resultLengthSquared=result.lengthSquared();if(resultLengthSquared>0){return result.multiplyScalar(1/Math.sqrt(resultLengthSquared))}return result.set(0,0,0)}},{key:"plane",value:function plane(){return(new _Plane.Plane).setFromCoplanarPoints(this.a,this.b,this.c)}
/**
     * based on: http://www.blackpawn.com/texts/pointinpoly/default.html
     * @param point
     */},{key:"barycoordFromPoint",value:function barycoordFromPoint(point){var v0=(new _Vector.Vector3).copy(this.c).sub(this.a);var v1=(new _Vector.Vector3).copy(this.b).sub(this.a);var v2=(new _Vector.Vector3).copy(point).sub(this.a);var dot00=v0.dot(v0);var dot01=v0.dot(v1);var dot02=v0.dot(v2);var dot11=v1.dot(v1);var dot12=v1.dot(v2);var denom=dot00*dot11-dot01*dot01;// collinear or singular triangle
if(denom===0){
// arbitrary location outside of triangle?
// not sure if this is the best idea, maybe should be returning undefined
return(new _Vector.Vector3).set(-2,-1,-1)}var invDenom=1/denom;var u=(dot11*dot02-dot01*dot12)*invDenom;var v=(dot00*dot12-dot01*dot02)*invDenom;// barycentric coordinates must always sum to 1
return(new _Vector.Vector3).set(1-u-v,v,u)}},{key:"containsPoint",value:function containsPoint(point){var result=this.barycoordFromPoint(point);return result.x>=0&&result.y>=0&&result.x+result.y<=1}},{key:"closestPointToPoint",value:function closestPointToPoint(point){
// project the point onto the plane of the triangle
var plane=(new _Plane.Plane).setFromCoplanarPoints(this.a,this.b,this.c);var projectedPoint=plane.projectPoint(point);// check if the projection lies within the triangle
if(this.containsPoint(projectedPoint)===true){
// if so, this is the closest point
return(new _Vector.Vector3).copy(projectedPoint)}else{var result=new _Vector.Vector3;var minDistance=Infinity;// if not, the point falls outside the triangle. the result is the closest point to the triangle's edges or vertices
var edgeList=[new _Line.Line3(this.a,this.b),new _Line.Line3(this.b,this.c),new _Line.Line3(this.c,this.a)];for(var i=0;i<edgeList.length;i++){var closestPoint=edgeList[i].closestPointToPoint(projectedPoint,true);var distance=projectedPoint.distanceToSquared(closestPoint);if(distance<minDistance){minDistance=distance;result.copy(closestPoint)}}return result}}},{key:"equals",value:function equals(triangle){return triangle.a.equals(this.a)&&triangle.b.equals(this.b)&&triangle.c.equals(this.c)}}]);return Triangle}();exports.Triangle=Triangle;
/***/},
/***/"./es/math/Vector2.js":
/*!****************************!*\
  !*** ./es/math/Vector2.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Vector2=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Vector2=
/* */
function(){_createClass(Vector2,[{key:"x",get:function get(){return this._x},set:function set(x){this._x=x}},{key:"y",get:function get(){return this._y},set:function set(y){this._y=y}},{key:"width",get:function get(){return this.x},set:function set(width){this._x=width}},{key:"height",get:function get(){return this.y},set:function set(height){this._y=height}}]);function Vector2(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,Vector2);this._x=x;this._y=y}_createClass(Vector2,[{key:"set",value:function set(x,y){this._x=x;this._y=y;return this}},{key:"setScalar",value:function setScalar(scalar){return this.set(scalar,scalar)}},{key:"copy",value:function copy(v){return this.set(v.x,v.y)}},{key:"add",value:function add(v){return this.set(this.x+v.x,this.y+v.y)}},{key:"addScalar",value:function addScalar(s){return this.set(this.x+s,this.y+s)}},{key:"sub",value:function sub(v){return this.set(this.x-v.x,this.y-v.y)}},{key:"subScalar",value:function subScalar(s){return this.set(this.x-s,this.y-s)}},{key:"multiply",value:function multiply(v){return this.set(this.x*v.x,this.y*v.y)}},{key:"multiplyScalar",value:function multiplyScalar(s){return this.set(this.x*s,this.y*s)}},{key:"divide",value:function divide(v){return this.set(this.x/v.x,this.y/v.y)}},{key:"divideScalar",value:function divideScalar(s){return this.set(this.x/s,this.y/s)}},{key:"applyMatrix3",value:function applyMatrix3(m){var x=this.x,y=this.y;var e=m.elements;return this.set(e[0]*x+e[3]*y+e[6],e[1]*x+e[4]*y+e[7])}},{key:"min",value:function min(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);return this}},{key:"max",value:function max(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);return this}},{key:"clamp",value:function clamp(min,max){return this.set(Math.max(min.x,Math.min(max.x,this.x)),Math.max(min.y,Math.min(max.y,this.y)))}},{key:"negate",value:function negate(){return this.set(-this.x,-this.y)}},{key:"dot",value:function dot(v){return this.x*v.x+this.y*v.y}},{key:"lengthSquared",value:function lengthSquared(){return this.x*this.x+this.y*this.y}},{key:"length",value:function length(){return Math.sqrt(this.lengthSquared())}},{key:"manhattanLength",value:function manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function normalize(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function setLength(length){return this.normalize().multiplyScalar(length)}},{key:"lerp",value:function lerp(v,alpha){return this.set(this.x+(v.x-this.x)*alpha,this.y+(v.y-this.y)*alpha)}},{key:"lerpVectors",value:function lerpVectors(v1,v2,alpha){return this.copy(v2).sub(v1).multiplyScalar(alpha).add(v1)}},{key:"equals",value:function equals(v){return v.x===this.x&&v.y===this.y}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return this.set(array[offset],array[offset+1])}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.x;array[offset+1]=this.y;return array}},{key:"rotateAround",value:function rotateAround(center,angle){var c=Math.cos(angle),s=Math.sin(angle);var x=this.x-center.x;var y=this.y-center.y;return this.set(x*c-y*s+center.x,x*s+y*c+center.y)}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return Vector2}();exports.Vector2=Vector2;
/***/},
/***/"./es/math/Vector3.js":
/*!****************************!*\
  !*** ./es/math/Vector3.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Vector3=void 0;var _Math=__webpack_require__(/*! ./Math */"./es/math/Math.js");var _Quaternion=__webpack_require__(/*! ./Quaternion */"./es/math/Quaternion.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Vector3=
/* */
function(){function Vector3(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,Vector3);this._x=x;this._y=y;this._z=z}_createClass(Vector3,[{key:"set",value:function set(x,y,z){this._x=x;this._y=y;this._z=z;return this}},{key:"setScalar",value:function setScalar(scalar){return this.set(scalar,scalar,scalar)}},{key:"copy",value:function copy(vec){return this.set(vec.x,vec.y,vec.z)}},{key:"add",value:function add(vec){return this.set(this.x+vec.x,this.y+vec.y,this.z+vec.z)}},{key:"addScalar",value:function addScalar(scalar){return this.set(this.x+scalar,this.y+scalar,this.z+scalar)}},{key:"sub",value:function sub(vec){return this.set(this.x-vec.x,this.y-vec.y,this.z-vec.z)}},{key:"subScalar",value:function subScalar(scalar){return this.set(this.x-scalar,this.y-scalar,this.z-scalar)}},{key:"multiply",value:function multiply(vec){return this.set(this.x*vec.x,this.y*vec.y,this.z*vec.z)}},{key:"multiplyScalar",value:function multiplyScalar(scalar){return this.set(this.x*scalar,this.y*scalar,this.z*scalar)}},{key:"divide",value:function divide(vec){return this.set(this.x/vec.x,this.y/vec.y,this.z/vec.z)}},{key:"divideScalar",value:function divideScalar(scalar){return this.set(this.x/scalar,this.y/scalar,this.z/scalar)}},{key:"applyEuler",value:function applyEuler(euler){var quaternion=new _Quaternion.Quaternion;return this.applyQuaternion(quaternion.setFromEuler(euler))}},{key:"applyAxisAngle",value:function applyAxisAngle(axis,angle){var quaternion=new _Quaternion.Quaternion;return this.applyQuaternion(quaternion.setFromAxisAngle(axis,angle))}},{key:"applyMatrix3",value:function applyMatrix3(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;return this.set(e[0]*x+e[3]*y+e[6]*z,e[1]*x+e[4]*y+e[7]*z,e[2]*x+e[5]*y+e[8]*z)}},{key:"applyMatrix4",value:function applyMatrix4(matrix){var x=this.x,y=this.y,z=this.z;var e=matrix.elements;var w=1/(e[3]*x+e[7]*y+e[11]*z+e[15]);return this.set((e[0]*x+e[4]*y+e[8]*z+e[12])*w,(e[1]*x+e[5]*y+e[9]*z+e[13])*w,(e[2]*x+e[6]*y+e[10]*z+e[14])*w)}},{key:"applyQuaternion",value:function applyQuaternion(quaternion){var x=this.x,y=this.y,z=this.z;var qx=quaternion.x,qy=quaternion.y,qz=quaternion.z,qw=quaternion.w;// calculate quat * vector
var ix=qw*x+qy*z-qz*y;var iy=qw*y+qz*x-qx*z;var iz=qw*z+qx*y-qy*x;var iw=-qx*x-qy*y-qz*z;// calculate result * inverse quat
return this.set(ix*qw+iw*-qx+iy*-qz-iz*-qy,iy*qw+iw*-qy+iz*-qx-ix*-qz,iz*qw+iw*-qz+ix*-qy-iy*-qx)}},{key:"transformDirection",value:function transformDirection(mat4){var x=this.x,y=this.y,z=this.z;var e=mat4.elements;return this.set(e[0]*x+e[4]*y+e[8]*z,e[1]*x+e[5]*y+e[9]*z,e[2]*x+e[6]*y+e[10]*z).normalize()}},{key:"min",value:function min(vec){return this.set(Math.min(this.x,vec.x),Math.min(this.y,vec.y),Math.min(this.z,vec.z))}},{key:"max",value:function max(vec){return this.set(Math.max(this.x,vec.x),Math.max(this.y,vec.y),Math.max(this.z,vec.z))}},{key:"clamp",value:function clamp(min,max){return this.set(Math.max(min.x,Math.min(max.x,this.x)),Math.max(min.y,Math.min(max.y,this.y)),Math.max(min.z,Math.min(max.z,this.z)))}},{key:"negate",value:function negate(){return this.set(-this.x,-this.y,-this.z)}},{key:"dot",value:function dot(v){return this.x*v.x+this.y*v.y+this.z*v.z}},{key:"lengthSquared",value:function lengthSquared(){var x=this.x,y=this.y,z=this.z;return x*x+y*y+z*z}},{key:"length",value:function length(){var x=this.x,y=this.y,z=this.z;return Math.sqrt(x*x+y*y+z*z)}},{key:"setLength",value:function setLength(length){return this.normalize().multiplyScalar(length)}},{key:"manhattanLength",value:function manhattanLength(){var x=this.x,y=this.y,z=this.z;return Math.abs(x)+Math.abs(y)+Math.abs(z)}},{key:"normalize",value:function normalize(){return this.divideScalar(this.length()||1)}},{key:"lerp",value:function lerp(vec,alpha){return this.set((vec.x-this.x)*alpha,(vec.y-this.y)*alpha,(vec.z-this.z)*alpha)}},{key:"lerpVectors",value:function lerpVectors(v1,v2,alpha){return this.set(v2.x-v1.x,v2.y-v1.y,v2.z-v1.z).multiplyScalar(alpha).add(v1)}},{key:"cross",value:function cross(vec){var ax=this.x,ay=this.y,az=this.z;var bx=vec.x,by=vec.y,bz=vec.z;return this.set(ay*bz-az*by,az*bx-ax*bz,ax*by-ay*bx)}},{key:"projectOnVector",value:function projectOnVector(vector){var scalar=vector.dot(this)/vector.lengthSquared();return this.copy(vector).multiplyScalar(scalar)}},{key:"projectOnPlane",value:function projectOnPlane(planeNormal){var vec=new Vector3;vec.copy(this).projectOnVector(planeNormal);return this.sub(vec)}
/**
     * reflect incident vector off plane orthogonal to normal
     * normal is assumed to have unit length
     * @param normal
     * @returns {Vector3}
     */},{key:"reflect",value:function reflect(normal){var vec=new Vector3;return this.sub(vec.copy(normal).multiplyScalar(2*this.dot(normal)))}},{key:"angleTo",value:function angleTo(v){var theta=this.dot(v)/Math.sqrt(this.lengthSquared()*v.lengthSquared());return Math.acos(_Math.MathUtil.clamp(theta,-1,1))}},{key:"distanceTo",value:function distanceTo(vec){return Math.sqrt(this.distanceToSquared(vec))}},{key:"distanceToSquared",value:function distanceToSquared(vec){var dx=this.x-vec.x,dy=this.y-vec.y,dz=this.z-vec.z;return dx*dx+dy*dy+dz*dz}},{key:"equals",value:function equals(vec){return vec.x===this.x&&vec.y===this.y&&vec.z===this.z}},{key:"setFromSpherical",value:function setFromSpherical(s){var sinPhiRadius=Math.sin(s.phi)*s.radius;this.x=sinPhiRadius*Math.sin(s.theta);this.y=Math.cos(s.phi)*s.radius;this.z=sinPhiRadius*Math.cos(s.theta);return this}},{key:"setFromMatrixPosition",value:function setFromMatrixPosition(m){var e=m.elements;return this.set(e[12],e[13],e[14])}},{key:"setFromMatrixScale",value:function setFromMatrixScale(m){var sx=this.setFromMatrixColumn(m,0).length();var sy=this.setFromMatrixColumn(m,1).length();var sz=this.setFromMatrixColumn(m,2).length();this.x=sx;this.y=sy;this.z=sz;return this}},{key:"setFromMatrixColumn",value:function setFromMatrixColumn(m,index){return this.fromArray(m.elements,index*4)}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return this.set(array[offset],array[offset+1],array[offset+2])}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;return array}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"x",get:function get(){return this._x},set:function set(x){this._x=x}},{key:"y",get:function get(){return this._y},set:function set(y){this._y=y}},{key:"z",get:function get(){return this._z},set:function set(z){this._z=z}}]);return Vector3}();exports.Vector3=Vector3;
/***/},
/***/"./es/math/Vector4.js":
/*!****************************!*\
  !*** ./es/math/Vector4.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Vector4=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Vector4=
/* */
function(){function Vector4(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var w=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Vector4);this._x=x;this._y=y;this._z=z;this._w=w}_createClass(Vector4,[{key:"set",value:function set(x,y,z,w){this._x=x;this._y=y;this._z=z;this._w=w;return this}},{key:"setScalar",value:function setScalar(scalar){return this.set(scalar,scalar,scalar,scalar)}},{key:"copy",value:function copy(v){return this.set(v.x,v.y,v.z,(v instanceof Vector4?v.w:undefined)||1)}},{key:"add",value:function add(v){return this.set(this.x+v.x,this.y+v.y,this.z+v.z,this.w+v.w)}},{key:"addScalar",value:function addScalar(s){return this.set(this.x+s,this.y+s,this.z+s,this.w+s)}},{key:"sub",value:function sub(v){return this.set(this.x-v.x,this.y-v.y,this.z-v.z,this.w-v.w)}},{key:"subScalar",value:function subScalar(s){return this.set(this.x-s,this.y-s,this.z-s,this.w-s)}},{key:"multiplyScalar",value:function multiplyScalar(s){return this.set(this.x*s,this.y*s,this.z*s,this.w*s)}},{key:"divideScalar",value:function divideScalar(s){return this.set(this.x/s,this.y/s,this.z/s,this.w/s)}},{key:"applyMatrix4",value:function applyMatrix4(m){var x=this.x,y=this.y,z=this.z,w=this.w;var e=m.elements;return this.set(e[0]*x+e[4]*y+e[8]*z+e[12]*w,e[1]*x+e[5]*y+e[9]*z+e[13]*w,e[2]*x+e[6]*y+e[10]*z+e[14]*w,e[3]*x+e[7]*y+e[11]*z+e[15]*w)}
/**
     * http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm
     * q is assumed to be normalized
     * @param q
     * @returns {Vector4}
     */},{key:"setAxisAngleFromQuaternion",value:function setAxisAngleFromQuaternion(q){var s=Math.sqrt(1-q.w*q.w);if(s<1e-4){return this.set(1,0,0,2*Math.acos(q.w))}else{return this.set(q.x/s,q.y/s,q.z/s,2*Math.acos(q.w))}}
/**
     * http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm
     * @param m
     * @returns {Vector4}
     */},{key:"setAxisAngleFromRotationMatrix",value:function setAxisAngleFromRotationMatrix(m){
// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
var angle,x,y,z;// variables for result
var epsilon=.01,
// margin to allow for rounding errors
epsilon2=.1,
// margin to distinguish between 0 and 180 degrees
te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10];if(Math.abs(m12-m21)<epsilon&&Math.abs(m13-m31)<epsilon&&Math.abs(m23-m32)<epsilon){
// singularity found
// first check for identity matrix which must have +1 for all terms
// in leading diagonal and zero in other terms
if(Math.abs(m12+m21)<epsilon2&&Math.abs(m13+m31)<epsilon2&&Math.abs(m23+m32)<epsilon2&&Math.abs(m11+m22+m33-3)<epsilon2){
// this singularity is identity matrix so angle = 0
// zero angle, arbitrary axis
return this.set(1,0,0,0)}// otherwise this singularity is angle = 180
angle=Math.PI;var xx=(m11+1)/2;var yy=(m22+1)/2;var zz=(m33+1)/2;var xy=(m12+m21)/4;var xz=(m13+m31)/4;var yz=(m23+m32)/4;if(xx>yy&&xx>zz){
// m11 is the largest diagonal term
if(xx<epsilon){x=0;y=.707106781;z=.707106781}else{x=Math.sqrt(xx);y=xy/x;z=xz/x}}else if(yy>zz){
// m22 is the largest diagonal term
if(yy<epsilon){x=.707106781;y=0;z=.707106781}else{y=Math.sqrt(yy);x=xy/y;z=yz/y}}else{
// m33 is the largest diagonal term so base result on this
if(zz<epsilon){x=.707106781;y=.707106781;z=0}else{z=Math.sqrt(zz);x=xz/z;y=yz/z}}// return 180 deg rotation
return this.set(x,y,z,angle)}// as we have reached here there are no singularities so we can handle normally
var s=Math.sqrt((m32-m23)*(m32-m23)+(m13-m31)*(m13-m31)+(m21-m12)*(m21-m12));// used to normalize
if(Math.abs(s)<.001)s=1;// prevent divide by zero, should not happen if matrix is orthogonal and should be
// caught by singularity test above, but I"ve left it in just in case
return this.set((m32-m23)/s,(m13-m31)/s,(m21-m12)/s,Math.acos((m11+m22+m33-1)/2))}},{key:"min",value:function min(v){return this.set(Math.min(this.x,v.x),Math.min(this.y,v.y),Math.min(this.z,v.z),Math.min(this.w,v.w))}},{key:"max",value:function max(v){return this.set(Math.max(this.x,v.x),Math.max(this.y,v.y),Math.max(this.z,v.z),Math.max(this.w,v.w))}},{key:"clamp",value:function clamp(min,max){return this.set(Math.max(min.x,Math.min(max.x,this.x)),Math.max(min.y,Math.min(max.y,this.y)),Math.max(min.z,Math.min(max.z,this.z)),Math.max(min.w,Math.min(max.w,this.w)))}},{key:"negate",value:function negate(){return this.set(-this.x,-this.y,-this.z,-this.w)}},{key:"dot",value:function dot(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w}},{key:"lengthSquared",value:function lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function length(){return Math.sqrt(this.lengthSquared())}},{key:"manhattanLength",value:function manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function normalize(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function setLength(length){return this.normalize().multiplyScalar(length)}},{key:"lerp",value:function lerp(v,alpha){return this.set(this.x+(v.x-this.x)*alpha,this.y+(v.y-this.y)*alpha,this.z+(v.z-this.z)*alpha,this.w+(v.w-this.w)*alpha)}},{key:"lerpVectors",value:function lerpVectors(v1,v2,alpha){return this.copy(v2).sub(v1).multiplyScalar(alpha).add(v1)}},{key:"equals",value:function equals(v){return v.x===this.x&&v.y===this.y&&v.z===this.z&&v.w===this.w}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return this.set(array[offset],array[offset+1],array[offset+2],array[offset+3])}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;array[offset+3]=this.w;return array}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"x",get:function get(){return this._x},set:function set(x){this._x=x}},{key:"y",get:function get(){return this._y},set:function set(y){this._y=y}},{key:"z",get:function get(){return this._z},set:function set(z){this._z=z}},{key:"w",get:function get(){return this._w},set:function set(w){this._w=w}}]);return Vector4}();exports.Vector4=Vector4;
/***/},
/***/"./es/objects/Bone.js":
/*!****************************!*\
  !*** ./es/objects/Bone.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Bone=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Bone=
/* */
function(_Object3D){_inherits(Bone,_Object3D);function Bone(){var _this;_classCallCheck(this,Bone);_this=_possibleConstructorReturn(this,(Bone.__proto__||Object.getPrototypeOf(Bone)).apply(this,arguments));_this.type="Bone";return _this}return Bone}(_Object3D2.Object3D);exports.Bone=Bone;
/***/},
/***/"./es/objects/Group.js":
/*!*****************************!*\
  !*** ./es/objects/Group.js ***!
  \*****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Group=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Group=
/* */
function(_Object3D){_inherits(Group,_Object3D);function Group(){var _this;_classCallCheck(this,Group);_this=_possibleConstructorReturn(this,(Group.__proto__||Object.getPrototypeOf(Group)).apply(this,arguments));_this.type="IGroup";return _this}return Group}(_Object3D2.Object3D);exports.Group=Group;
/***/},
/***/"./es/objects/LOD.js":
/*!***************************!*\
  !*** ./es/objects/LOD.js ***!
  \***************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LOD=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LOD=
/* */
function(_Object3D){_inherits(LOD,_Object3D);function LOD(){var _this;_classCallCheck(this,LOD);_this=_possibleConstructorReturn(this,(LOD.__proto__||Object.getPrototypeOf(LOD)).apply(this,arguments));_this.type="LOD";_this.levels=[];return _this}_createClass(LOD,[{key:"addLevel",value:function addLevel(object){var distance=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var levels=this.levels;distance=Math.abs(distance);var l=0;for(;l<levels.length;l++){if(distance<levels[l].distance){break}}levels.splice(l,0,{distance:distance,object:object});this.add(object);return this}},{key:"getObjectForDistance",value:function getObjectForDistance(distance){var levels=this.levels;var i=1;for(var l=levels.length;i<l;i++){if(distance<levels[i].distance){break}}return levels[i-1].object}},{key:"raycast",value:function raycast(raycaster){var intersects=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var matrixPosition=(new _Vector.Vector3).setFromMatrixPosition(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(matrixPosition);this.getObjectForDistance(distance).raycast(raycaster,intersects);return intersects}},{key:"update",value:function update(camera){var levels=this.levels;if(levels.length>1){var v1=(new _Vector.Vector3).setFromMatrixPosition(camera.matrixWorld);var v2=(new _Vector.Vector3).setFromMatrixPosition(this.matrixWorld);var distance=v1.distanceTo(v2);levels[0].object.visible=true;var i=1;var l=levels.length;for(;i<l;i++){if(distance>=levels[i].distance){levels[i-1].object.visible=false;levels[i].object.visible=true}else{break}}for(;i<l;i++){levels[i].object.visible=false}}return this}},{key:"copy",value:function copy(source){_get(LOD.prototype.__proto__||Object.getPrototypeOf(LOD.prototype),"copy",this).call(this,source);var levels=source.levels;for(var i=0,l=levels.length;i<l;i++){var level=levels[i];this.addLevel(level.object.clone(),level.distance)}return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return LOD}(_Object3D2.Object3D);exports.LOD=LOD;
/***/},
/***/"./es/objects/Line.js":
/*!****************************!*\
  !*** ./es/objects/Line.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Line=void 0;var _BufferGeometry=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _LineBasicMaterial=__webpack_require__(/*! ../materials/LineBasicMaterial */"./es/materials/LineBasicMaterial.js");var _Matrix=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Ray=__webpack_require__(/*! ../math/Ray */"./es/math/Ray.js");var _Sphere=__webpack_require__(/*! ../math/Sphere */"./es/math/Sphere.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}
// import { LineSegments } from "./LineSegments";
var Line=
/* */
function(_Object3D){_inherits(Line,_Object3D);function Line(){var _this;var geometry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _BufferGeometry.BufferGeometry;var material=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _LineBasicMaterial.LineBasicMaterial({color:Math.random()*16777215});_classCallCheck(this,Line);_this=_possibleConstructorReturn(this,(Line.__proto__||Object.getPrototypeOf(Line)).call(this));_this.type="Line";_this.geometry=geometry;_this.material=material;return _this}_createClass(Line,[{key:"raycast",value:function raycast(raycaster,intersects){var precision=raycaster.linePrecision;var precisionSquared=precision*precision;var geometry=this.geometry;var matrixWorld=this.matrixWorld;// Checking boundingSphere distance to ray
if(geometry.boundingSphere===null)geometry.computeBoundingSphere();var sphere=(new _Sphere.Sphere).copy(geometry.boundingSphere);sphere.applyMatrix4(matrixWorld);if(raycaster.ray.intersectsSphere(sphere)===false)return;var inverseMatrix=(new _Matrix.Matrix4).getInverse(matrixWorld);var ray=new _Ray.Ray;ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);var vStart=new _Vector.Vector3;var vEnd=new _Vector.Vector3;var interSegment=new _Vector.Vector3;var interRay=new _Vector.Vector3;//const step: number = this instanceof LineSegments ? 2 : 1;
var step=1;if(geometry instanceof _BufferGeometry.BufferGeometry){var index=geometry.index;var attributes=geometry.attributes;var positions=attributes.position.array;if(index!==null){var indices=index.array;for(var i=0,l=indices.length-1;i<l;i+=step){var a=indices[i];var b=indices[i+1];vStart.fromArray(positions,a*3);vEnd.fromArray(positions,b*3);var distSquared=ray.distanceSquareToSegment(vStart,vEnd,interRay,interSegment);if(distSquared>precisionSquared)continue;interRay.applyMatrix4(this.matrixWorld);// Move back to world space for distance calculation
var distance=raycaster.ray.origin.distanceTo(interRay);if(distance<raycaster.near||distance>raycaster.far){continue}intersects.push({distance:distance,index:i,object:this,
// What do we want? intersection point on the ray or on the segment??
// point: raycaster.ray.at( distance ),
point:interSegment.clone().applyMatrix4(this.matrixWorld)})}}else{for(var _i=0,_l=positions.length/3-1;_i<_l;_i+=step){vStart.fromArray(positions,3*_i);vEnd.fromArray(positions,3*_i+3);var _distSquared=ray.distanceSquareToSegment(vStart,vEnd,interRay,interSegment);if(_distSquared>precisionSquared)continue;interRay.applyMatrix4(this.matrixWorld);// Move back to world space for distance calculation
var _distance=raycaster.ray.origin.distanceTo(interRay);if(_distance<raycaster.near||_distance>raycaster.far){continue}intersects.push({distance:_distance,face:null,faceIndex:null,index:_i,object:this,
// What do we want? intersection point on the ray or on the segment??
// point: raycaster.ray.at( distance ),
point:interSegment.clone().applyMatrix4(this.matrixWorld)})}}}else if(geometry instanceof _Geometry.Geometry){var vertices=geometry.vertices;var nbVertices=vertices.length;for(var _i2=0;_i2<nbVertices-1;_i2+=step){var _distSquared2=ray.distanceSquareToSegment(vertices[_i2],vertices[_i2+1],interRay,interSegment);if(_distSquared2>precisionSquared)continue;interRay.applyMatrix4(this.matrixWorld);// Move back to world space for distance calculation
var _distance2=raycaster.ray.origin.distanceTo(interRay);if(_distance2<raycaster.near||_distance2>raycaster.far){continue}intersects.push({distance:_distance2,face:null,faceIndex:null,index:_i2,object:this,
// What do we want? intersection point on the ray or on the segment??
// point: raycaster.ray.at( distance ),
point:interSegment.clone().applyMatrix4(this.matrixWorld)})}}}},{key:"clone",value:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}}]);return Line}(_Object3D2.Object3D);exports.Line=Line;
/***/},
/***/"./es/objects/LineLoop.js":
/*!********************************!*\
  !*** ./es/objects/LineLoop.js ***!
  \********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LineLoop=void 0;var _Line2=__webpack_require__(/*! ./Line */"./es/objects/Line.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LineLoop=
/* */
function(_Line){_inherits(LineLoop,_Line);function LineLoop(){var _this;_classCallCheck(this,LineLoop);_this=_possibleConstructorReturn(this,(LineLoop.__proto__||Object.getPrototypeOf(LineLoop)).apply(this,arguments));_this.type="LineLoop";return _this}return LineLoop}(_Line2.Line);exports.LineLoop=LineLoop;
/***/},
/***/"./es/objects/LineSegments.js":
/*!************************************!*\
  !*** ./es/objects/LineSegments.js ***!
  \************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LineSegments=void 0;var _Line2=__webpack_require__(/*! ./Line */"./es/objects/Line.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LineSegments=
/* */
function(_Line){_inherits(LineSegments,_Line);function LineSegments(){var _this;_classCallCheck(this,LineSegments);_this=_possibleConstructorReturn(this,(LineSegments.__proto__||Object.getPrototypeOf(LineSegments)).apply(this,arguments));_this.type="LineSegments";return _this}return LineSegments}(_Line2.Line);exports.LineSegments=LineSegments;
/***/},
/***/"./es/objects/Mesh.js":
/*!****************************!*\
  !*** ./es/objects/Mesh.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mesh=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _BufferGeometry=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Face=__webpack_require__(/*! ../core/Face3 */"./es/core/Face3.js");var _Geometry=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _MeshBasicMaterial=__webpack_require__(/*! ../materials/MeshBasicMaterial */"./es/materials/MeshBasicMaterial.js");var _Matrix=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Ray=__webpack_require__(/*! ../math/Ray */"./es/math/Ray.js");var _Sphere=__webpack_require__(/*! ../math/Sphere */"./es/math/Sphere.js");var _Triangle=__webpack_require__(/*! ../math/Triangle */"./es/math/Triangle.js");var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");var _Vector2=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _utils=__webpack_require__(/*! ../utils */"./es/utils.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Mesh=
/* */
function(_Object3D){_inherits(Mesh,_Object3D);function Mesh(){var _this;var geometry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _BufferGeometry.BufferGeometry;var material=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _MeshBasicMaterial.MeshBasicMaterial({color:Math.random()*16777215});_classCallCheck(this,Mesh);_this=_possibleConstructorReturn(this,(Mesh.__proto__||Object.getPrototypeOf(Mesh)).call(this));_this.type="Mesh";_this.drawMode=_constants.TrianglesDrawMode;_this.morphTargetInfluences=[];_this.morphTargetDictionary={};_this.geometry=geometry;_this.material=material;_this.updateMorphTargets();return _this}_createClass(Mesh,[{key:"setDrawMode",value:function setDrawMode(value){this.drawMode=value;return this}},{key:"updateMorphTargets",value:function updateMorphTargets(){var geometry=this.geometry;if(geometry instanceof _BufferGeometry.BufferGeometry){var morphAttributes=geometry.morphAttributes;var keys=Object.keys(morphAttributes);if(keys.length>0){var morphAttribute=morphAttributes[keys[0]];if(morphAttribute!==undefined){for(var m=0,ml=morphAttribute.length;m<ml;m++){var name=morphAttribute[m].name||String(m);this.morphTargetInfluences.push(0);this.morphTargetDictionary[name]=m}}}}else if(geometry instanceof _Geometry.Geometry){var morphTargets=geometry.morphTargets;if(morphTargets!==undefined&&morphTargets.length>0){for(var _m=0,_ml=morphTargets.length;_m<_ml;_m++){var _name=morphTargets[_m].name||String(_m);this.morphTargetInfluences.push(0);this.morphTargetDictionary[_name]=_m}}}return this}},{key:"raycast",value:function raycast(raycaster,intersects){var geometry=this.geometry;var material=this.material;var matrixWorld=this.matrixWorld;if(material===undefined)return;// Checking boundingSphere distance to ray
if(geometry.boundingSphere===null)geometry.computeBoundingSphere();var sphere=(new _Sphere.Sphere).copy(geometry.boundingSphere).applyMatrix4(matrixWorld);if(raycaster.ray.intersectsSphere(sphere)===false)return;var inverseMatrix=(new _Matrix.Matrix4).getInverse(matrixWorld);var ray=(new _Ray.Ray).copy(raycaster.ray).applyMatrix4(inverseMatrix);// Check boundingBox before continuing
if(geometry.boundingBox!==null){if(ray.intersectsBox(geometry.boundingBox)===false)return}if(geometry instanceof _BufferGeometry.BufferGeometry){var index=geometry.index;var position=geometry.attributes.position;var uv=geometry.attributes.uv;if(index!==null){
// indexed buffer geometry
for(var i=0,l=index.count;i<l;i+=3){var a=index.getProperty(i,"x");var b=index.getProperty(i+1,"x");var c=index.getProperty(i+2,"x");var intersection=Mesh.checkBufferGeometryIntersection(this,raycaster,ray,position,uv,a,b,c);if(intersection){intersection.faceIndex=Math.floor(i/3);// triangle number in indices buffer semantics
intersects.push(intersection)}}}else if(position!==undefined){
// non-indexed buffer geometry
for(var _i=0,_l=position.count;_i<_l;_i+=3){var _a=_i;var _b=_i+1;var _c=_i+2;var _intersection=Mesh.checkBufferGeometryIntersection(this,raycaster,ray,position,uv,_a,_b,_c);if(_intersection){_intersection.index=_a;// triangle number in positions buffer semantics
intersects.push(_intersection)}}}}else if(geometry instanceof _Geometry.Geometry){var vertices=geometry.vertices;var faces=geometry.faces;var uvs;var faceVertexUvs=geometry.faceVertexUvs[0];if(faceVertexUvs.length>0)uvs=faceVertexUvs;for(var f=0,fl=faces.length;f<fl;f++){var face=faces[f];var faceMaterial=Array.isArray(material)?material[face.materialIndex]:material;if(faceMaterial===undefined)continue;var fvA=vertices[face.a];var fvB=vertices[face.b];var fvC=vertices[face.c];if(faceMaterial.morphTargets===true){var morphTargets=geometry.morphTargets;var vA=new _Vector2.Vector3,vB=new _Vector2.Vector3,vC=new _Vector2.Vector3;for(var t=0,tl=morphTargets.length;t<tl;t++){var influence=this.morphTargetInfluences[t];if(influence===0)continue;var targets=morphTargets[t].vertices;vA.add((new _Vector2.Vector3).copy(targets[face.a]).sub(fvA).multiplyScalar(influence));vB.add((new _Vector2.Vector3).copy(targets[face.b]).sub(fvB).multiplyScalar(influence));vC.add((new _Vector2.Vector3).copy(targets[face.c]).sub(fvC).multiplyScalar(influence))}vA.add(fvA);vB.add(fvB);vC.add(fvC);fvA=vA;fvB=vB;fvC=vC}var intersectionPoint=new _Vector2.Vector3;var _intersection2=Mesh.checkIntersection(this,faceMaterial,raycaster,ray,fvA,fvB,fvC,intersectionPoint);if(_intersection2){if(uvs&&uvs[f]){var uvsF=uvs[f];var uvA=(new _Vector.Vector2).copy(uvsF[0]);var uvB=(new _Vector.Vector2).copy(uvsF[1]);var uvC=(new _Vector.Vector2).copy(uvsF[2]);_intersection2.uv=Mesh.uvIntersection(intersectionPoint,new _Triangle.Triangle(fvA,fvB,fvC),uvA,uvB,uvC)}_intersection2.face=face;_intersection2.faceIndex=f;intersects.push(_intersection2)}}}}},{key:"clone",value:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}}],[{key:"uvIntersection",value:function uvIntersection(point,triangle,uv1,uv2,uv3){var baryCoord=triangle.barycoordFromPoint(point);uv1.multiplyScalar(baryCoord.x);uv2.multiplyScalar(baryCoord.y);uv3.multiplyScalar(baryCoord.z);uv1.add(uv2).add(uv3);return uv1.clone()}},{key:"checkIntersection",value:function checkIntersection(object,material,raycaster,ray,pA,pB,pC,point){var intersect;var intersectionPointWorld=new _Vector2.Vector3;if(material.side===_constants.BackSide){intersect=ray.intersectTriangle(new _Triangle.Triangle(pC,pB,pA),true)}else{intersect=ray.intersectTriangle(new _Triangle.Triangle(pC,pB,pA),material.side!==_constants.DoubleSide)}if(intersect===null)return null;point.copy(intersect);intersectionPointWorld.copy(point);intersectionPointWorld.applyMatrix4(object.matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectionPointWorld);if(distance<raycaster.near||distance>raycaster.far)return null;return{distance:distance,object:object,point:intersectionPointWorld.clone()}}},{key:"checkBufferGeometryIntersection",value:function checkBufferGeometryIntersection(object,raycaster,ray,position,uv,a,b,c){var intersectionPoint=new _Vector2.Vector3;var vA=(0,_utils.vectorFromBufferAttribute)(new _Vector2.Vector3,position,a);var vB=(0,_utils.vectorFromBufferAttribute)(new _Vector2.Vector3,position,b);var vC=(0,_utils.vectorFromBufferAttribute)(new _Vector2.Vector3,position,c);var triangle=new _Triangle.Triangle((0,_utils.vectorFromBufferAttribute)(new _Vector2.Vector3,position,a),(0,_utils.vectorFromBufferAttribute)(new _Vector2.Vector3,position,b),(0,_utils.vectorFromBufferAttribute)(new _Vector2.Vector3,position,c));var intersection=Mesh.checkIntersection(object,object.material,raycaster,ray,vA,vB,vC,intersectionPoint);if(intersection){if(uv){var uvA=(0,_utils.vectorFromBufferAttribute)(new _Vector.Vector2,uv,a);var uvB=(0,_utils.vectorFromBufferAttribute)(new _Vector.Vector2,uv,b);var uvC=(0,_utils.vectorFromBufferAttribute)(new _Vector.Vector2,uv,c);intersection.uv=Mesh.uvIntersection(intersectionPoint,triangle,uvA,uvB,uvC)}intersection.face=new _Face.Face3(a,b,c,triangle.normal());intersection.faceIndex=a}return intersection}}]);return Mesh}(_Object3D2.Object3D);exports.Mesh=Mesh;
/***/},
/***/"./es/objects/Points.js":
/*!******************************!*\
  !*** ./es/objects/Points.js ***!
  \******************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Points=void 0;var _BufferGeometry=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _PointsMaterial=__webpack_require__(/*! ../materials/PointsMaterial */"./es/materials/PointsMaterial.js");var _Matrix=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Ray=__webpack_require__(/*! ../math/Ray */"./es/math/Ray.js");var _Sphere=__webpack_require__(/*! ../math/Sphere */"./es/math/Sphere.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Points=
/* */
function(_Object3D){_inherits(Points,_Object3D);function Points(){var _this;var geometry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _BufferGeometry.BufferGeometry;var material=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _PointsMaterial.PointsMaterial({color:Math.random()*16777215});_classCallCheck(this,Points);_this=_possibleConstructorReturn(this,(Points.__proto__||Object.getPrototypeOf(Points)).call(this));_this.type="Points";_this.geometry=geometry;_this.material=material;return _this}_createClass(Points,[{key:"raycast",value:function raycast(raycaster,intersects){var _this2=this;var geometry=this.geometry;var matrixWorld=this.matrixWorld;var threshold=raycaster.params.Points.threshold;// Checking boundingSphere distance to ray
if(geometry.boundingSphere===null)geometry.computeBoundingSphere();var sphere=(new _Sphere.Sphere).copy(geometry.boundingSphere);sphere.applyMatrix4(matrixWorld);sphere.radius+=threshold;if(raycaster.ray.intersectsSphere(sphere)===false)return;var inverseMatrix=(new _Matrix.Matrix4).getInverse(matrixWorld);var ray=(new _Ray.Ray).copy(raycaster.ray).applyMatrix4(inverseMatrix);var testPoint=function testPoint(point,index2){var localThreshold=threshold/((_this2.scale.x+_this2.scale.y+_this2.scale.z)/3);var localThresholdSquare=localThreshold*localThreshold;var rayPointDistanceSquare=ray.distanceSquaredToPoint(point);if(rayPointDistanceSquare<localThresholdSquare){var intersectPoint=ray.closestPointToPoint(point);intersectPoint.applyMatrix4(matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectPoint);if(distance<raycaster.near||distance>raycaster.far){return}intersects.push({distance:distance,distanceToRay:Math.sqrt(rayPointDistanceSquare),face:null,index:index2,object:_this2,point:intersectPoint.clone()})}};if(geometry instanceof _BufferGeometry.BufferGeometry){var position=new _Vector.Vector3;var index=geometry.index;var positions=geometry.attributes.position.array;if(index!==null){var indices=index.array;for(var i=0,il=indices.length;i<il;i++){var a=indices[i];position.fromArray(positions,a*3);testPoint(position,a)}}else{for(var _i=0,l=positions.length/3;_i<l;_i++){position.fromArray(positions,_i*3);testPoint(position,_i)}}}else if(geometry instanceof _Geometry.Geometry){var vertices=geometry.vertices;for(var _i2=0,_l=vertices.length;_i2<_l;_i2++){testPoint(vertices[_i2],_i2)}}}},{key:"clone",value:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}}]);return Points}(_Object3D2.Object3D);exports.Points=Points;
/***/},
/***/"./es/objects/Skeleton.js":
/*!********************************!*\
  !*** ./es/objects/Skeleton.js ***!
  \********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Skeleton=void 0;var _Matrix=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Bone=__webpack_require__(/*! ./Bone */"./es/objects/Bone.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var offsetMatrix=new _Matrix.Matrix4;var identityMatrix=new _Matrix.Matrix4;var Skeleton=
/* */
function(){function Skeleton(){var bones=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var boneInverses=arguments.length>1?arguments[1]:undefined;_classCallCheck(this,Skeleton);this.bones=[];this.boneInverses=[];this.bones=bones.slice(0);this.boneMatrices=new Float32Array(this.bones.length*16);if(boneInverses===undefined){this.calculateInverses()}else{if(this.bones.length===boneInverses.length){this.boneInverses=boneInverses.slice(0)}else{console.warn("THREE.Skeleton boneInverses is the wrong length.");for(var i=0,il=this.bones.length;i<il;i++){this.boneInverses.push(new _Matrix.Matrix4)}}}}_createClass(Skeleton,[{key:"calculateInverses",value:function calculateInverses(){this.boneInverses=[];for(var i=0,il=this.bones.length;i<il;i++){var inverse=new _Matrix.Matrix4;if(this.bones[i]){inverse.getInverse(this.bones[i].matrixWorld)}this.boneInverses.push(inverse)}}},{key:"pose",value:function pose(){
// recover the bind-time world matrices
for(var i=0,il=this.bones.length;i<il;i++){var bone=this.bones[i];if(bone){bone.matrixWorld.getInverse(this.boneInverses[i])}}// compute the local matrices, positions, rotations and scales
for(var _i=0,_il=this.bones.length;_i<_il;_i++){var _bone=this.bones[_i];if(_bone){if(_bone.parent&&_bone.parent instanceof _Bone.Bone){_bone.matrix.getInverse(_bone.parent.matrixWorld);_bone.matrix.multiply(_bone.matrixWorld)}else{_bone.matrix.copy(_bone.matrixWorld)}_bone.matrix.decompose(_bone.position,_bone.quaternion,_bone.scale)}}}},{key:"update",value:function update(){var bones=this.bones;var boneInverses=this.boneInverses;var boneMatrices=this.boneMatrices;var boneTexture=this.boneTexture;// flatten bone matrices to array
for(var i=0,il=bones.length;i<il;i++){
// compute the offset between the current and the original transform
var matrix=bones[i]?bones[i].matrixWorld:identityMatrix;offsetMatrix.multiplyMatrices(matrix,boneInverses[i]);offsetMatrix.toArray(boneMatrices,i*16)}if(boneTexture!==undefined){boneTexture.needsUpdate=true}}},{key:"getBoneByName",value:function getBoneByName(name){for(var i=0,il=this.bones.length;i<il;i++){var bone=this.bones[i];if(bone.name===name){return bone}}return undefined}},{key:"clone",value:function clone(){return new this.constructor(this.bones,this.boneInverses)}}]);return Skeleton}();exports.Skeleton=Skeleton;
/***/},
/***/"./es/objects/SkinnedMesh.js":
/*!***********************************!*\
  !*** ./es/objects/SkinnedMesh.js ***!
  \***********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SkinnedMesh=void 0;var _Mesh2=__webpack_require__(/*! ./Mesh */"./es/objects/Mesh.js");var _BufferGeometry=__webpack_require__(/*! ../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry=__webpack_require__(/*! ../core/Geometry */"./es/core/Geometry.js");var _Matrix=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _Bone=__webpack_require__(/*! ./Bone */"./es/objects/Bone.js");var _Skeleton=__webpack_require__(/*! ./Skeleton */"./es/objects/Skeleton.js");var _Vector=__webpack_require__(/*! ../math/Vector4 */"./es/math/Vector4.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SkinnedMesh=
/* */
function(_Mesh){_inherits(SkinnedMesh,_Mesh);
/**
   * skinIndices and skinWeights should be set to true on the Geometry
   * skinIndex and skinWeights attribute on BufferGeometry
   * @param geometry
   * @param material
   */function SkinnedMesh(geometry,material){var _this;_classCallCheck(this,SkinnedMesh);_this=_possibleConstructorReturn(this,(SkinnedMesh.__proto__||Object.getPrototypeOf(SkinnedMesh)).call(this,geometry,material));_this.type="SkinnedMesh";_this.bindMode="attached";_this.bindMatrix=new _Matrix.Matrix4;_this.bindMatrixInverse=new _Matrix.Matrix4;var bones=_this.initBones();var skeleton=new _Skeleton.Skeleton(bones);_this.bind(skeleton,_this.matrixWorld);_this.normalizeSkinWeights();return _this}_createClass(SkinnedMesh,[{key:"initBones",value:function initBones(){var bones=[];if(this.geometry&&this.geometry instanceof _Geometry.Geometry&&this.geometry.bones!==undefined){
// first, create array of 'Bone' objects from geometry data
for(var i=0,il=this.geometry.bones.length;i<il;i++){var gbone=this.geometry.bones[i];// create new 'Bone' object
var bone=new _Bone.Bone;bones.push(bone);// apply values
bone.name=gbone.name;bone.position.fromArray(gbone.pos);bone.quaternion.fromArray(gbone.rotq);if(gbone.scl!==undefined){bone.scale.fromArray(gbone.scl)}}// second, create bone hierarchy
for(var _i=0,_il=this.geometry.bones.length;_i<_il;_i++){var _gbone=this.geometry.bones[_i];if(_gbone.parent!==-1&&_gbone.parent!==null&&bones[_gbone.parent]!==undefined){
// subsequent bones in the hierarchy
bones[_gbone.parent].add(bones[_i])}else{
// topmost bone, immediate child of the skinned mesh
this.add(bones[_i])}}}// now the bones are part of the scene graph and children of the skinned mesh.
// let's update the corresponding matrices
this.updateMatrixWorld(true);return bones}},{key:"bind",value:function bind(skeleton,bindMatrix){this.skeleton=skeleton;if(bindMatrix===undefined){this.updateMatrixWorld(true);this.skeleton.calculateInverses();bindMatrix=this.matrixWorld}this.bindMatrix.copy(bindMatrix);this.bindMatrixInverse.getInverse(bindMatrix)}},{key:"pose",value:function pose(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function normalizeSkinWeights(){if(this.geometry&&this.geometry instanceof _Geometry.Geometry){for(var i=0;i<this.geometry.skinWeights.length;i++){var sw=this.geometry.skinWeights[i];var scale=1/sw.manhattanLength();if(scale!==Infinity){sw.multiplyScalar(scale)}else{sw.set(1,0,0,0);// do something reasonable
}}}else if(this.geometry&&this.geometry instanceof _BufferGeometry.BufferGeometry){var vec=new _Vector.Vector4;var skinWeight=this.geometry.attributes.skinWeight;for(var _i2=0;_i2<skinWeight.count;_i2++){vec.x=skinWeight.getProperty(_i2,"x");vec.y=skinWeight.getProperty(_i2,"y");vec.z=skinWeight.getProperty(_i2,"z");vec.w=skinWeight.getProperty(_i2,"w");var _scale=1/vec.manhattanLength();if(_scale!==Infinity){vec.multiplyScalar(_scale)}else{vec.set(1,0,0,0);// do something reasonable
}skinWeight.setProperty(_i2,"xyzw",vec)}}}},{key:"updateMatrixWorld",value:function updateMatrixWorld(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_get(SkinnedMesh.prototype.__proto__||Object.getPrototypeOf(SkinnedMesh.prototype),"updateMatrixWorld",this).call(this,force);if(this.bindMode==="attached"){this.bindMatrixInverse.getInverse(this.matrixWorld)}else if(this.bindMode==="detached"){this.bindMatrixInverse.getInverse(this.bindMatrix)}else{console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}return this}},{key:"clone",value:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}}]);return SkinnedMesh}(_Mesh2.Mesh);exports.SkinnedMesh=SkinnedMesh;
/***/},
/***/"./es/objects/Sprite.js":
/*!******************************!*\
  !*** ./es/objects/Sprite.js ***!
  \******************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Sprite=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");var _Materials=__webpack_require__(/*! ../materials/Materials */"./es/materials/Materials.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Sprite=
/* */
function(_Object3D){_inherits(Sprite,_Object3D);function Sprite(){var _this;var material=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _Materials.SpriteMaterial;_classCallCheck(this,Sprite);_this=_possibleConstructorReturn(this,(Sprite.__proto__||Object.getPrototypeOf(Sprite)).call(this));_this.type="Sprite";_this.material=material;return _this}_createClass(Sprite,[{key:"raycast",value:function raycast(raycaster,intersects){var worldPosition=(new _Vector.Vector3).setFromMatrixPosition(this.matrixWorld);var intersectPoint=raycaster.ray.closestPointToPoint(worldPosition);var worldScale=(new _Vector.Vector3).setFromMatrixScale(this.matrixWorld);var guessSizeSq=worldScale.x*worldScale.y/4;if(worldPosition.distanceToSquared(intersectPoint)>guessSizeSq){return}var distance=raycaster.ray.origin.distanceTo(intersectPoint);if(distance<raycaster.near||distance>raycaster.far){return}intersects.push({distance:distance,face:null,point:intersectPoint.clone(),object:this})}},{key:"clone",value:function clone(){return new this.constructor(this.material).copy(this)}}]);return Sprite}(_Object3D2.Object3D);exports.Sprite=Sprite;
/***/},
/***/"./es/renderers/WebGLRenderTarget.js":
/*!*******************************************!*\
  !*** ./es/renderers/WebGLRenderTarget.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLRenderTarget=void 0;var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Vector=__webpack_require__(/*! ../math/Vector4 */"./es/math/Vector4.js");var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Texture=__webpack_require__(/*! ../textures/Texture */"./es/textures/Texture.js");var _EventDispatcher2=__webpack_require__(/*! ../core/EventDispatcher */"./es/core/EventDispatcher.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var WebGLRenderTarget=
/* */
function(_EventDispatcher){_inherits(WebGLRenderTarget,_EventDispatcher);function WebGLRenderTarget(width,height){var _this;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_classCallCheck(this,WebGLRenderTarget);_this=_possibleConstructorReturn(this,(WebGLRenderTarget.__proto__||Object.getPrototypeOf(WebGLRenderTarget)).call(this));_this.uuid=_Math.MathUtil.generateUUID();_this.scissorTest=false;_this.width=width;_this.height=height;_this.scissor=new _Vector.Vector4(0,0,width,height);_this.viewport=new _Vector.Vector4(0,0,width,height);if(options.minFilter===undefined){options.minFilter=_constants.LinearFilter}_this.texture=new _Texture.Texture(undefined,undefined,options.wrapS,options.wrapT,options.magFilter,options.minFilter,options.format,options.type,options.anisotropy,options.encoding);_this.depthBuffer=options.depthBuffer!==undefined?options.depthBuffer:true;_this.stencilBuffer=options.stencilBuffer!==undefined?options.stencilBuffer:true;_this.depthTexture=options.depthTexture!==undefined?options.depthTexture:null;return _this}_createClass(WebGLRenderTarget,[{key:"setSize",value:function setSize(width,height){if(this.width!==width||this.height!==height){this.width=width;this.height=height;this.dispose()}this.viewport.set(0,0,width,height);this.scissor.set(0,0,width,height)}},{key:"copy",value:function copy(source){this.width=source.width;this.height=source.height;this.viewport.copy(source.viewport);this.texture=source.texture.clone();this.depthBuffer=source.depthBuffer;this.stencilBuffer=source.stencilBuffer;this.depthTexture=source.depthTexture;return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"dispose",value:function dispose(){this.dispatchEvent({type:"dispose"})}}]);return WebGLRenderTarget}(_EventDispatcher2.EventDispatcher);exports.WebGLRenderTarget=WebGLRenderTarget;
/***/},
/***/"./es/renderers/WebGLRenderTargetCube.js":
/*!***********************************************!*\
  !*** ./es/renderers/WebGLRenderTargetCube.js ***!
  \***********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLRenderTargetCube=void 0;var _WebGLRenderTarget2=__webpack_require__(/*! ./WebGLRenderTarget */"./es/renderers/WebGLRenderTarget.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var WebGLRenderTargetCube=
/* */
function(_WebGLRenderTarget){_inherits(WebGLRenderTargetCube,_WebGLRenderTarget);function WebGLRenderTargetCube(width,height){var _this;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_classCallCheck(this,WebGLRenderTargetCube);_this=_possibleConstructorReturn(this,(WebGLRenderTargetCube.__proto__||Object.getPrototypeOf(WebGLRenderTargetCube)).call(this,width,height,options));// PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5
_this.activeCubeFace=0;_this.activeMipMapLevel=0;return _this}return WebGLRenderTargetCube}(_WebGLRenderTarget2.WebGLRenderTarget);exports.WebGLRenderTargetCube=WebGLRenderTargetCube;
/***/},
/***/"./es/renderers/WebGLRenderer.js":
/*!***************************************!*\
  !*** ./es/renderers/WebGLRenderer.js ***!
  \***************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLRenderer=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Camera=__webpack_require__(/*! ../cameras/Camera */"./es/cameras/Camera.js");var _ArrayCamera=__webpack_require__(/*! ../cameras/ArrayCamera */"./es/cameras/ArrayCamera.js");var _InstancedBufferGeometry=__webpack_require__(/*! ../core/InstancedBufferGeometry */"./es/core/InstancedBufferGeometry.js");var _InstancedInterleavedBufferAttribute=__webpack_require__(/*! ../core/InstancedInterleavedBufferAttribute */"./es/core/InstancedInterleavedBufferAttribute.js");var _InstancedBufferAttribute=__webpack_require__(/*! ../core/InstancedBufferAttribute */"./es/core/InstancedBufferAttribute.js");var _Light=__webpack_require__(/*! ../lights/Light */"./es/lights/Light.js");var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Vector=__webpack_require__(/*! ../math/Vector3 */"./es/math/Vector3.js");var _Vector2=__webpack_require__(/*! ../math/Vector4 */"./es/math/Vector4.js");var _Frustum=__webpack_require__(/*! ../math/Frustum */"./es/math/Frustum.js");var _Matrix=__webpack_require__(/*! ../math/Matrix4 */"./es/math/Matrix4.js");var _WebGLUniforms=__webpack_require__(/*! ./webgl/WebGLUniforms */"./es/renderers/webgl/WebGLUniforms.js");var _Materials=__webpack_require__(/*! ../materials/Materials */"./es/materials/Materials.js");var _Mesh=__webpack_require__(/*! ../objects/Mesh */"./es/objects/Mesh.js");var _Line=__webpack_require__(/*! ../objects/Line */"./es/objects/Line.js");var _Sprite=__webpack_require__(/*! ../objects/Sprite */"./es/objects/Sprite.js");var _LineSegments=__webpack_require__(/*! ../objects/LineSegments */"./es/objects/LineSegments.js");var _LineLoop=__webpack_require__(/*! ../objects/LineLoop */"./es/objects/LineLoop.js");var _Points=__webpack_require__(/*! ../objects/Points */"./es/objects/Points.js");var _SkinnedMesh=__webpack_require__(/*! ../objects/SkinnedMesh */"./es/objects/SkinnedMesh.js");var _Fog=__webpack_require__(/*! ../scenes/Fog */"./es/scenes/Fog.js");var _FogExp=__webpack_require__(/*! ../scenes/FogExp2 */"./es/scenes/FogExp2.js");var _DataTexture=__webpack_require__(/*! ../textures/DataTexture */"./es/textures/DataTexture.js");var _CubeTexture=__webpack_require__(/*! ../textures/CubeTexture */"./es/textures/CubeTexture.js");var _ShaderLib=__webpack_require__(/*! ./shaders/ShaderLib */"./es/renderers/shaders/ShaderLib.js");var _UniformsUtils=__webpack_require__(/*! ./shaders/UniformsUtils */"./es/renderers/shaders/UniformsUtils.js");var _WebGLShadowMap=__webpack_require__(/*! ./webgl/WebGLShadowMap */"./es/renderers/webgl/WebGLShadowMap.js");var _WebGLState=__webpack_require__(/*! ./webgl/WebGLState */"./es/renderers/webgl/WebGLState.js");var _WebGLUtils=__webpack_require__(/*! ./webgl/WebGLUtils */"./es/renderers/webgl/WebGLUtils.js");var _WebGLClipping=__webpack_require__(/*! ./webgl/WebGLClipping */"./es/renderers/webgl/WebGLClipping.js");var _WebGLExtensions=__webpack_require__(/*! ./webgl/WebGLExtensions */"./es/renderers/webgl/WebGLExtensions.js");var _WebGLCapabilities=__webpack_require__(/*! ./webgl/WebGLCapabilities */"./es/renderers/webgl/WebGLCapabilities.js");var _WebGLProperties=__webpack_require__(/*! ./webgl/WebGLProperties */"./es/renderers/webgl/WebGLProperties.js");var _WebGLTextures=__webpack_require__(/*! ./webgl/WebGLTextures */"./es/renderers/webgl/WebGLTextures.js");var _WebGLAttributes=__webpack_require__(/*! ./webgl/WebGLAttributes */"./es/renderers/webgl/WebGLAttributes.js");var _WebGLGeometries=__webpack_require__(/*! ./webgl/WebGLGeometries */"./es/renderers/webgl/WebGLGeometries.js");var _WebGLObjects=__webpack_require__(/*! ./webgl/WebGLObjects */"./es/renderers/webgl/WebGLObjects.js");var _WebGLMorphtargets=__webpack_require__(/*! ./webgl/WebGLMorphtargets */"./es/renderers/webgl/WebGLMorphtargets.js");var _WebGLPrograms=__webpack_require__(/*! ./webgl/WebGLPrograms */"./es/renderers/webgl/WebGLPrograms.js");var _WebGLLights=__webpack_require__(/*! ./webgl/WebGLLights */"./es/renderers/webgl/WebGLLights.js");var _WebGLRenderLists=__webpack_require__(/*! ./webgl/WebGLRenderLists */"./es/renderers/webgl/WebGLRenderLists.js");var _WebGLBufferRenderer=__webpack_require__(/*! ./webgl/WebGLBufferRenderer */"./es/renderers/webgl/WebGLBufferRenderer.js");var _WebGLIndexedBufferRenderer=__webpack_require__(/*! ./webgl/WebGLIndexedBufferRenderer */"./es/renderers/webgl/WebGLIndexedBufferRenderer.js");var _WebGLSpriteRenderer=__webpack_require__(/*! ./webgl/WebGLSpriteRenderer */"./es/renderers/webgl/WebGLSpriteRenderer.js");var _WebGLBackground=__webpack_require__(/*! ./webgl/WebGLBackground */"./es/renderers/webgl/WebGLBackground.js");var _WebGLRenderTarget=__webpack_require__(/*! ./WebGLRenderTarget */"./es/renderers/WebGLRenderTarget.js");var _WebGLRenderTargetCube=__webpack_require__(/*! ./WebGLRenderTargetCube */"./es/renderers/WebGLRenderTargetCube.js");var _ImmediateRenderObject=__webpack_require__(/*! ../extras/objects/ImmediateRenderObject */"./es/extras/objects/ImmediateRenderObject.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLRenderer=
/* */
function(){function WebGLRenderer(){var _this=this;var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,WebGLRenderer);this.lightsArray=[];this.shadowsArray=[];this.spritesArray=[];// clearing
this.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;// scene graph
this.sortObjects=true;// user-defined clipping
this.clippingPlanes=[];// physically based shading
this.gammaInput=false;// for backwards compatibility
this.gammaFactor=2;this.gammaOutput=false;// physical lights
this.physicallyCorrectLights=false;// tone mapping
this.toneMapping=_constants.LinearToneMapping;this.toneMappingExposure=1;this.toneMappingWhitePoint=1;// morphs
this.maxMorphNormals=4;this.maxMorphTargets=8;// internal properties
this.isContextLost=false;// internal state cache
this.currentRenderTarget=null;this.currentFramebuffer=null;this.currentMaterialId=-1;this.currentGeometryProgram="";this.currentCamera=null;this.currentArrayCamera=null;this.currentViewport=new _Vector2.Vector4;this.currentScissor=new _Vector2.Vector4;this.currentScissorTest=null;//
this.usedTextureUnits=0;this.pixelRatio=1;this.scissorTest=false;// frustum
this.frustum=new _Frustum.Frustum;// clipping
this.clipping=new _WebGLClipping.WebGLClipping;this.clippingEnabled=false;this.localClippingEnabled=false;// camera matrices cache
this.projScreenMatrix=new _Matrix.Matrix4;this.tempVector3=new _Vector.Vector3;// info
this.infoMemory={geometries:0,textures:0};this.infoRender={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:this.infoRender,memory:this.infoMemory,programs:null,autoReset:true,reset:function reset(){_this.infoRender.frame++;_this.infoRender.calls=0;_this.infoRender.vertices=0;_this.infoRender.faces=0;_this.infoRender.points=0}};this.onContextLost=function(event){event.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");_this.isContextLost=true};this.onContextRestore=function(){console.log("THREE.WebGLRenderer: Context Restored.");_this.isContextLost=false;_this.initGLContext()};this.isAnimating=false;this.onAnimationFrame=null;this.loop=function(time){if(_this.onAnimationFrame!==null)_this.onAnimationFrame(time);window.requestAnimationFrame(_this.loop)};this.onMaterialDispose=function(event){var material=event.target;material.removeEventListener("dispose",_this.onMaterialDispose);_this.deallocateMaterial(material)};this.setTexture2DWarned=false;this.setTextureCubeWarned=false;this.parameters=parameters;console.log("THREE.WebGLRenderer",_constants.REVISION);this.domElement=parameters.canvas!==undefined?parameters.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.context=parameters.context!==undefined?parameters.context:null,this.alpha=parameters.alpha!==undefined?parameters.alpha:false,this.depth=parameters.depth!==undefined?parameters.depth:true,this.stencil=parameters.stencil!==undefined?parameters.stencil:true,this.antialias=parameters.antialias!==undefined?parameters.antialias:false,this.premultipliedAlpha=parameters.premultipliedAlpha!==undefined?parameters.premultipliedAlpha:true,this.preserveDrawingBuffer=parameters.preserveDrawingBuffer!==undefined?parameters.preserveDrawingBuffer:false,this.powerPreference=parameters.powerPreference!==undefined?parameters.powerPreference:"default";this.width=this.domElement.width;this.height=this.domElement.height;this.viewport=new _Vector2.Vector4(0,0,this.width,this.height);this.scissor=new _Vector2.Vector4(0,0,this.width,this.height);try{var contextAttributes={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer,powerPreference:this.powerPreference};// event listeners must be registered before WebGL context is created, see #12753
this.domElement.addEventListener("webglcontextlost",this.onContextLost,false);this.domElement.addEventListener("webglcontextrestored",this.onContextRestore,false);this.context=this.context||this.domElement.getContext("webgl",contextAttributes)||this.domElement.getContext("experimental-webgl",contextAttributes);if(this.context===null){if(this.domElement.getContext("webgl")!==null){throw new Error("Error creating WebGL context with your selected attributes.")}else{throw new Error("Error creating WebGL context.")}}// Some experimental-webgl implementations do not have getShaderPrecisionFormat
if(this.domElement.getShaderPrecisionFormat===undefined){this.domElement.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}}}catch(error){console.error("THREE.WebGLRenderer: "+error.message)}this.initGLContext();this.shadowMap=new _WebGLShadowMap.WebGLShadowMap(this,this.objects,this.capabilities.maxTextureSize)}_createClass(WebGLRenderer,[{key:"getTargetPixelRatio",value:function getTargetPixelRatio(){return this.currentRenderTarget===null?this.pixelRatio:1}},{key:"getContext",value:function getContext(){return this.context}},{key:"getContextAttributes",value:function getContextAttributes(){return this.context.getContextAttributes()}},{key:"forceContextLoss",value:function forceContextLoss(){var extension=this.extensions.get("WEBGL_lose_context");if(extension)extension.loseContext()}},{key:"forceContextRestore",value:function forceContextRestore(){var extension=this.extensions.get("WEBGL_lose_context");if(extension)extension.restoreContext()}},{key:"getPixelRatio",value:function getPixelRatio(){return this.pixelRatio}},{key:"setPixelRatio",value:function setPixelRatio(value){if(value===undefined)return;this.pixelRatio=value;this.setSize(this.width,this.height,false)}},{key:"getSize",value:function getSize(){return{width:this.width,height:this.height}}},{key:"setSize",value:function setSize(width,height,updateStyle){this.width=width;this.height=height;this.domElement.width=width*this.pixelRatio;this.domElement.height=height*this.pixelRatio;if(updateStyle!==false){this.domElement.style.width=width+"px";this.domElement.style.height=height+"px"}this.setViewport(0,0,width,height)}},{key:"getDrawingBufferSize",value:function getDrawingBufferSize(){return{width:this.width*this.pixelRatio,height:this.height*this.pixelRatio}}},{key:"setDrawingBufferSize",value:function setDrawingBufferSize(width,height,pixelRatio){this.width=width;this.height=height;this.pixelRatio=pixelRatio;this.domElement.width=width*pixelRatio;this.domElement.height=height*pixelRatio;this.setViewport(0,0,width,height)}},{key:"getCurrentViewport",value:function getCurrentViewport(){return this.currentViewport}},{key:"setViewport",value:function setViewport(x,y,width,height){this.viewport.set(x,this.height-y-height,width,height);this.state.viewport(this.currentViewport.copy(this.viewport).multiplyScalar(this.pixelRatio))}},{key:"setScissor",value:function setScissor(x,y,width,height){this.scissor.set(x,this.height-y-height,width,height);this.state.scissor(this.currentScissor.copy(this.scissor).multiplyScalar(this.pixelRatio))}},{key:"setScissorTest",value:function setScissorTest(value){this.state.setScissorTest(this.scissorTest=value)}},{key:"getClearColor",value:function getClearColor(){return this.background.getClearColor()}},{key:"setClearColor",value:function setClearColor(color,alpha){this.background.setClearColor(color,alpha)}},{key:"getClearAlpha",value:function getClearAlpha(){return this.background.getClearAlpha()}},{key:"setClearAlpha",value:function setClearAlpha(alpha){this.background.setClearAlpha(alpha)}},{key:"clear",value:function clear(color,depth,stencil){var gl=this.context;var bits=0;if(color===undefined||color)bits|=gl.COLOR_BUFFER_BIT;if(depth===undefined||depth)bits|=gl.DEPTH_BUFFER_BIT;if(stencil===undefined||stencil)bits|=gl.STENCIL_BUFFER_BIT;gl.clear(bits)}},{key:"clearColor",value:function clearColor(){this.clear(true,false,false)}},{key:"clearDepth",value:function clearDepth(){this.clear(false,true,false)}},{key:"clearStencil",value:function clearStencil(){this.clear(false,false,true)}},{key:"clearTarget",value:function clearTarget(renderTarget,color,depth,stencil){this.setRenderTarget(renderTarget);this.clear(color,depth,stencil)}},{key:"dispose",value:function dispose(){this.domElement.removeEventListener("webglcontextlost",this.onContextLost,false);this.domElement.removeEventListener("webglcontextrestored",this.onContextRestore,false);this.renderLists.dispose();this.properties.dispose();this.objects.dispose()}},{key:"initGLContext",value:function initGLContext(){var gl=this.context;var extensions=new _WebGLExtensions.WebGLExtensions(gl);extensions.get("WEBGL_depth_texture");extensions.get("OES_texture_float");extensions.get("OES_texture_float_linear");extensions.get("OES_texture_half_float");extensions.get("OES_texture_half_float_linear");extensions.get("OES_standard_derivatives");extensions.get("OES_element_index_uint");extensions.get("ANGLE_instanced_arrays");var utils=new _WebGLUtils.WebGLUtils(gl,extensions);var capabilities=new _WebGLCapabilities.WebGLCapabilities(gl,extensions,this.parameters);var state=new _WebGLState.WebGLState(gl,extensions,utils);state.scissor(this.currentScissor.copy(this.scissor).multiplyScalar(this.pixelRatio));state.viewport(this.currentViewport.copy(this.viewport).multiplyScalar(this.pixelRatio));var properties=new _WebGLProperties.WebGLProperties;var textures=new _WebGLTextures.WebGLTextures(gl,extensions,state,properties,capabilities,utils,this.infoMemory,this.infoRender);var attributes=new _WebGLAttributes.WebGLAttributes(gl);var geometries=new _WebGLGeometries.WebGLGeometries(gl,attributes,this.infoMemory);var objects=new _WebGLObjects.WebGLObjects(geometries,this.infoRender);var morphtargets=new _WebGLMorphtargets.WebGLMorphtargets(gl);var programCache=new _WebGLPrograms.WebGLPrograms(this,extensions,capabilities);var lights=new _WebGLLights.WebGLLights;var renderLists=new _WebGLRenderLists.WebGLRenderLists;var background=new _WebGLBackground.WebGLBackground(this,state,geometries,this.premultipliedAlpha);var bufferRenderer=new _WebGLBufferRenderer.WebGLBufferRenderer(gl,extensions,this.infoRender);var indexedBufferRenderer=new _WebGLIndexedBufferRenderer.WebGLIndexedBufferRenderer(gl,extensions,this.infoRender);var spriteRenderer=new _WebGLSpriteRenderer.WebGLSpriteRenderer(this,state,textures,capabilities);this.info.programs=programCache.programs;this.extensions=extensions;this.utils=utils;this.capabilities=capabilities;this.state=state;this.properties=properties;this.textures=textures;this.attributes=attributes;this.geometries=geometries;this.objects=objects;this.morphtargets=morphtargets;this.programCache=programCache;this.lights=lights;this.renderLists=renderLists;this.background=background;this.bufferRenderer=bufferRenderer;this.indexedBufferRenderer=indexedBufferRenderer;this.spriteRenderer=spriteRenderer}},{key:"compile",value:function compile(scene,camera){var _this2=this;this.lightsArray.length=0;this.shadowsArray.length=0;scene.traverse(function(object){if(object instanceof _Light.Light){_this2.lightsArray.push(object);if(object.castShadow){_this2.shadowsArray.push(object)}}});this.lights.setup(this.lightsArray,this.shadowsArray,camera);scene.traverse(function(obj){var object=obj;if(object.material){if(Array.isArray(object.material)){for(var i=0;i<object.material.length;i++){_this2.initMaterial(object.material[i],scene.fog,object)}}else{_this2.initMaterial(object.material,scene.fog,object)}}})}},{key:"start",value:function start(){if(this.isAnimating)return;window.requestAnimationFrame(this.loop);this.isAnimating=true}},{key:"animate",value:function animate(callback){this.onAnimationFrame=callback;this.start()}},{key:"render",value:function render(scene,camera,renderTarget,forceClear){if(!(camera&&camera instanceof _Camera.Camera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(this.isContextLost)return;// reset caching for this frame
this.currentGeometryProgram="";this.currentMaterialId=-1;this.currentCamera=null;// update scene graph
if(scene.autoUpdate===true)scene.updateMatrixWorld();// update camera matrices and frustum
if(camera.parent===null)camera.updateMatrixWorld();scene.onBeforeRender(this,scene,camera,renderTarget);this.projScreenMatrix.multiplyMatrices(camera.projectionMatrix,camera.matrixWorldInverse);this.frustum.setFromMatrix(this.projScreenMatrix);this.lightsArray.length=0;this.shadowsArray.length=0;this.spritesArray.length=0;this.clippingEnabled=this.clipping.init(this.clippingPlanes,this.localClippingEnabled,camera);this.currentRenderList=this.renderLists.get(scene,camera);this.currentRenderList.init();this.projectObject(scene,camera,this.sortObjects);if(this.sortObjects===true){this.currentRenderList.sort()}//
if(this.clippingEnabled)this.clipping.beginShadows();this.shadowMap.render(this.shadowsArray,scene,camera);this.lights.setup(this.lightsArray,this.shadowsArray,camera);if(this.clippingEnabled)this.clipping.endShadows();//
if(this.info.autoReset)this.info.reset();if(renderTarget===undefined){renderTarget=null}this.setRenderTarget(renderTarget);//
this.background.render(this.currentRenderList,scene,camera,forceClear);// render scene
var opaqueObjects=this.currentRenderList.opaque;var transparentObjects=this.currentRenderList.transparent;if(scene.overrideMaterial){var overrideMaterial=scene.overrideMaterial;if(opaqueObjects.length)this.renderObjects(opaqueObjects,scene,camera,overrideMaterial);if(transparentObjects.length)this.renderObjects(transparentObjects,scene,camera,overrideMaterial)}else{
// opaque pass (front-to-back order)
if(opaqueObjects.length)this.renderObjects(opaqueObjects,scene,camera);// transparent pass (back-to-front order)
if(transparentObjects.length)this.renderObjects(transparentObjects,scene,camera)}// custom renderers
this.spriteRenderer.render(this.spritesArray,scene,camera);// Generate mipmap if we're using any kind of mipmap filtering
if(renderTarget){this.textures.updateRenderTargetMipmap(renderTarget)}// Ensure depth buffer writing is enabled so it can be cleared on next render
var state=this.state;state.buffers.depth.setTest(true);state.buffers.depth.setMask(true);state.buffers.color.setMask(true);state.setPolygonOffset(false);//scene.onAfterRender(this, scene, camera, renderTarget );
// _gl.finish();
}},{key:"projectObject",value:function projectObject(object,camera){var sortObjects=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(object.visible===false)return;var visible=object.layers.test(camera.layers);if(visible){if(object instanceof _Light.Light){this.lightsArray.push(object);if(object.castShadow){this.shadowsArray.push(object)}}else if(object instanceof _Sprite.Sprite){if(!object.frustumCulled||this.frustum.intersectsSprite(object)){this.spritesArray.push(object)}}else if(object instanceof _ImmediateRenderObject.ImmediateRenderObject){if(sortObjects){this.tempVector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(this.projScreenMatrix)}this.currentRenderList.push(object,null,object.material,this.tempVector3.z,null)}else if(object instanceof _Mesh.Mesh||object instanceof _Line.Line||object instanceof _Points.Points){if(object instanceof _SkinnedMesh.SkinnedMesh){object.skeleton.update()}if(!object.frustumCulled||this.frustum.intersectsObject(object)){if(sortObjects){this.tempVector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(this.projScreenMatrix)}var geometry=this.objects.update(object);var material=object.material;if(Array.isArray(material)){var groups=geometry.groups;for(var i=0,l=groups.length;i<l;i++){var group=groups[i];var groupMaterial=material[group.materialIndex];if(groupMaterial&&groupMaterial.visible){this.currentRenderList.push(object,geometry,groupMaterial,this.tempVector3.z,group)}}}else if(material.visible){this.currentRenderList.push(object,geometry,material,this.tempVector3.z,null)}}}}var children=object.children;for(var _i=0,_l=children.length;_i<_l;_i++){this.projectObject(children[_i],camera,sortObjects)}}},{key:"renderObjects",value:function renderObjects(renderList,scene,camera,overrideMaterial){for(var i=0,l=renderList.length;i<l;i++){var renderItem=renderList[i];var object=renderItem.object;var geometry=renderItem.geometry;var material=overrideMaterial===undefined?renderItem.material:overrideMaterial;var group=renderItem.group;if(camera instanceof _ArrayCamera.ArrayCamera){this.currentArrayCamera=camera;var cameras=camera.cameras;for(var j=0,jl=cameras.length;j<jl;j++){var camera2=cameras[j];if(object.layers.test(camera2.layers)){var bounds=camera2.bounds;var x=bounds.x*this.width;var y=bounds.y*this.height;var width=bounds.z*this.width;var height=bounds.w*this.height;this.state.viewport(this.currentViewport.set(x,y,width,height).multiplyScalar(this.pixelRatio));this.renderObject(object,scene,camera2,geometry,material,group)}}}else{this.currentArrayCamera=null;this.renderObject(object,scene,camera,geometry,material,group)}}}},{key:"renderObject",value:function renderObject(object,scene,camera,geometry,material,group){object.onBeforeRender(this,scene,camera,geometry,material,group);object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,object.matrixWorld);object.normalMatrix.getNormalMatrix(object.modelViewMatrix);if(object instanceof _ImmediateRenderObject.ImmediateRenderObject){
//What???
var frontFaceCW=object instanceof _Mesh.Mesh&&object.matrixWorld.determinant()<0;this.state.setMaterial(material,frontFaceCW);var program=this.setProgram(camera,scene.fog,material,object);this.currentGeometryProgram="";this.renderObjectImmediate(object,program,material)}else{this.renderBufferDirect(camera,scene.fog,geometry,material,object,group)}//object.onAfterRender(this, scene, camera, geometry, material, group );
}// Buffer rendering
// renderObjectImmediate 目前看来很有问题
},{key:"renderObjectImmediate",value:function renderObjectImmediate(object,program,material){var _this3=this;object.render(function(object){_this3.renderBufferImmediate(object,program,material)})}},{key:"renderBufferImmediate",value:function renderBufferImmediate(object,program,material){var state=this.state;var gl=this.context;state.initAttributes();var buffers=this.properties.get(object);if(object.hasPositions&&!buffers.position)buffers.position=gl.createBuffer();if(object.hasNormals&&!buffers.normal)buffers.normal=gl.createBuffer();if(object.hasUvs&&!buffers.uv)buffers.uv=gl.createBuffer();if(object.hasColors&&!buffers.color)buffers.color=gl.createBuffer();var programAttributes=program.getAttributes();if(object.hasPositions){gl.bindBuffer(gl.ARRAY_BUFFER,buffers.position);gl.bufferData(gl.ARRAY_BUFFER,object.positionArray,gl.DYNAMIC_DRAW);state.enableAttribute(programAttributes.position);gl.vertexAttribPointer(programAttributes.position,3,gl.FLOAT,false,0,0)}if(object.hasNormals){gl.bindBuffer(gl.ARRAY_BUFFER,buffers.normal);if(!(material instanceof _Materials.MeshPhongMaterial)&&!(material instanceof _Materials.MeshStandardMaterial)&&!(material instanceof _Materials.MeshNormalMaterial)&&material.flatShading===true){for(var i=0,l=object.count*3;i<l;i+=9){var array=object.normalArray;var nx=(array[i+0]+array[i+3]+array[i+6])/3;var ny=(array[i+1]+array[i+4]+array[i+7])/3;var nz=(array[i+2]+array[i+5]+array[i+8])/3;array[i+0]=nx;array[i+1]=ny;array[i+2]=nz;array[i+3]=nx;array[i+4]=ny;array[i+5]=nz;array[i+6]=nx;array[i+7]=ny;array[i+8]=nz}}gl.bufferData(gl.ARRAY_BUFFER,object.normalArray,gl.DYNAMIC_DRAW);state.enableAttribute(programAttributes.normal);gl.vertexAttribPointer(programAttributes.normal,3,gl.FLOAT,false,0,0)}if(object.hasUvs&&material.map){gl.bindBuffer(gl.ARRAY_BUFFER,buffers.uv);gl.bufferData(gl.ARRAY_BUFFER,object.uvArray,gl.DYNAMIC_DRAW);state.enableAttribute(programAttributes.uv);gl.vertexAttribPointer(programAttributes.uv,2,gl.FLOAT,false,0,0)}if(object.hasColors&&material.vertexColors!==_constants.NoColors){gl.bindBuffer(gl.ARRAY_BUFFER,buffers.color);gl.bufferData(gl.ARRAY_BUFFER,object.colorArray,gl.DYNAMIC_DRAW);state.enableAttribute(programAttributes.color);gl.vertexAttribPointer(programAttributes.color,3,gl.FLOAT,false,0,0)}state.disableUnusedAttributes();gl.drawArrays(gl.TRIANGLES,0,object.count);object.count=0}},{key:"renderBufferDirect",value:function renderBufferDirect(camera,fog,geometry,material,object,group){var gl=this.context;var frontFaceCW=object instanceof _Mesh.Mesh&&object.matrixWorld.determinant()<0;this.state.setMaterial(material,frontFaceCW);var program=this.setProgram(camera,fog,material,object);var geometryProgram=geometry.id+"_"+program.id+"_"+(material.wireframe===true);var updateBuffers=false;if(geometryProgram!==this.currentGeometryProgram){this.currentGeometryProgram=geometryProgram;updateBuffers=true}if(object.morphTargetInfluences){this.morphtargets.update(object,geometry,material,program);updateBuffers=true}//
var index=geometry.index;var position=geometry.attributes.position;var rangeFactor=1;if(material.wireframe===true){index=this.geometries.getWireframeAttribute(geometry);rangeFactor=2}var attribute;var renderer=this.bufferRenderer;if(index!==null){attribute=this.attributes.get(index);renderer=this.indexedBufferRenderer;renderer.setIndex(attribute)}if(updateBuffers){this.setupVertexAttributes(material,program,geometry);if(index!==null){gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,attribute.buffer)}}//
var dataCount=0;if(index!==null){dataCount=index.count}else if(position!==undefined){dataCount=position.count}var rangeStart=geometry.drawRange.start*rangeFactor;var rangeCount=geometry.drawRange.count*rangeFactor;var groupStart=group!==null?group.start*rangeFactor:0;var groupCount=group!==null?group.count*rangeFactor:Infinity;var drawStart=Math.max(rangeStart,groupStart);var drawEnd=Math.min(dataCount,rangeStart+rangeCount,groupStart+groupCount)-1;var drawCount=Math.max(0,drawEnd-drawStart+1);if(drawCount===0)return;//
if(object instanceof _Mesh.Mesh){if(material.wireframe===true){this.state.setLineWidth(material.wireframeLinewidth*this.getTargetPixelRatio());renderer.setMode(gl.LINES)}else{switch(object.drawMode){case _constants.TrianglesDrawMode:renderer.setMode(gl.TRIANGLES);break;case _constants.TriangleStripDrawMode:renderer.setMode(gl.TRIANGLE_STRIP);break;case _constants.TriangleFanDrawMode:renderer.setMode(gl.TRIANGLE_FAN);break}}}else if(object instanceof _Line.Line){var lineWidth=material.linewidth;if(lineWidth===undefined)lineWidth=1;// Not using Line*Material
this.state.setLineWidth(lineWidth*this.getTargetPixelRatio());if(object instanceof _LineSegments.LineSegments){renderer.setMode(gl.LINES)}else if(object instanceof _LineLoop.LineLoop){renderer.setMode(gl.LINE_LOOP)}else{renderer.setMode(gl.LINE_STRIP)}}else if(object instanceof _Points.Points){renderer.setMode(gl.POINTS)}if(geometry&&geometry instanceof _InstancedBufferGeometry.InstancedBufferGeometry){if(geometry.maxInstancedCount>0){renderer.renderInstances(geometry,drawStart,drawCount)}}else{renderer.render(drawStart,drawCount)}}},{key:"setProgram",value:function setProgram(camera,fog,material,object){var gl=this.context;this.usedTextureUnits=0;var materialProperties=this.properties.get(material);if(this.clippingEnabled){if(this.localClippingEnabled||camera!==this.currentCamera){var useCache=camera===this.currentCamera&&material.id===this.currentMaterialId;// we might want to call this function with some ClippingGroup
// object instead of the material, once it becomes feasible
// (#8465, #8379)
this.clipping.setState(material.clippingPlanes,material.clipIntersection,material.clipShadows,camera,materialProperties,useCache)}}if(material.needsUpdate===false){if(materialProperties.program===undefined){material.needsUpdate=true}else if(material.fog&&materialProperties.fog!==fog){material.needsUpdate=true}else if(material.lights&&materialProperties.lightsHash!==this.lights.state.hash){material.needsUpdate=true}else if(materialProperties.numClippingPlanes!==undefined&&(materialProperties.numClippingPlanes!==this.clipping.numPlanes||materialProperties.numIntersection!==this.clipping.numIntersection)){material.needsUpdate=true}}if(material.needsUpdate){this.initMaterial(material,fog,object);material.needsUpdate=false}var refreshProgram=false;var refreshMaterial=false;var refreshLights=false;var program=materialProperties.program,p_uniforms=program.getUniforms(),m_uniforms=materialProperties.shader.uniforms;if(this.state.useProgram(program.program)){refreshProgram=true;refreshMaterial=true;refreshLights=true}if(material.id!==this.currentMaterialId){this.currentMaterialId=material.id;refreshMaterial=true}if(refreshProgram||camera!==this.currentCamera){p_uniforms.setValue("projectionMatrix",camera.projectionMatrix);if(this.capabilities.logarithmicDepthBuffer){p_uniforms.setValue("logDepthBufFC",2/(Math.log(camera.far+1)/Math.LN2))}// Avoid unneeded uniform updates per ArrayCamera's sub-camera
if(this.currentCamera!==(this.currentArrayCamera||camera)){this.currentCamera=this.currentArrayCamera||camera;// lighting uniforms depend on the camera so enforce an update
// now, in case this material supports lights - or later, when
// the next material that does gets activated:
refreshMaterial=true;// set to true on material change
refreshLights=true;// remains set until update done
}// load material specific uniforms
// (shader material also gets them for the sake of genericity)
if(material instanceof _Materials.ShaderMaterial||material instanceof _Materials.MeshPhongMaterial||material instanceof _Materials.MeshStandardMaterial||material.envMap){var uCamPos=p_uniforms.map.cameraPosition;if(uCamPos!==undefined){uCamPos.setValue((new _Vector.Vector3).setFromMatrixPosition(camera.matrixWorld))}}if(material instanceof _Materials.MeshPhongMaterial||material instanceof _Materials.MeshLambertMaterial||material instanceof _Materials.MeshBasicMaterial||material instanceof _Materials.MeshStandardMaterial||material instanceof _Materials.ShaderMaterial||material.skinning){p_uniforms.setValue("viewMatrix",camera.matrixWorldInverse)}}// skinning uniforms must be set even if material didn't change
// auto-setting of texture unit for bone texture must go before other textures
// not sure why, but otherwise weird things happen
if(material.skinning){p_uniforms.setOptional(object,"bindMatrix");p_uniforms.setOptional(object,"bindMatrixInverse");var skeleton=object.skeleton;if(skeleton){var bones=skeleton.bones;if(this.capabilities.floatVertexTextures){if(skeleton.boneTexture===undefined){
// layout (1 matrix = 4 pixels)
//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)
//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)
//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)
//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)
//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)
var size=Math.sqrt(bones.length*4);// 4 pixels needed for 1 matrix
size=_Math.MathUtil.ceilPowerOfTwo(size);size=Math.max(size,4);var boneMatrices=new Float32Array(size*size*4);// 4 floats per RGBA pixel
boneMatrices.set(skeleton.boneMatrices);// copy current values
var boneTexture=new _DataTexture.DataTexture(boneMatrices,size,size,_constants.RGBAFormat,_constants.FloatType);skeleton.boneMatrices=boneMatrices;skeleton.boneTexture=boneTexture;skeleton.boneTextureSize=size}p_uniforms.setValue("boneTexture",skeleton.boneTexture);p_uniforms.setValue("boneTextureSize",skeleton.boneTextureSize)}else{p_uniforms.setOptional(skeleton,"boneMatrices")}}}if(refreshMaterial){p_uniforms.setValue("toneMappingExposure",this.toneMappingExposure);p_uniforms.setValue("toneMappingWhitePoint",this.toneMappingWhitePoint);if(material.lights){
// the current material requires lighting info
// note: all lighting uniforms are always set correctly
// they simply reference the renderer's state for their
// values
//
// use the current material's .needsUpdate flags to set
// the GL state when required
this.markUniformsLightsNeedsUpdate(m_uniforms,refreshLights)}// refresh uniforms common to several materials
if(fog&&material.fog){this.refreshUniformsFog(m_uniforms,fog)}if(material instanceof _Materials.MeshBasicMaterial){this.refreshUniformsCommon(m_uniforms,material)}else if(material instanceof _Materials.MeshLambertMaterial){this.refreshUniformsCommon(m_uniforms,material);this.refreshUniformsLambert(m_uniforms,material)}else if(material instanceof _Materials.MeshPhongMaterial){this.refreshUniformsCommon(m_uniforms,material);if(material instanceof _Materials.MeshToonMaterial){this.refreshUniformsToon(m_uniforms,material)}else{this.refreshUniformsPhong(m_uniforms,material)}}else if(material instanceof _Materials.MeshStandardMaterial){this.refreshUniformsCommon(m_uniforms,material);if(material instanceof _Materials.MeshPhysicalMaterial){this.refreshUniformsPhysical(m_uniforms,material)}else{this.refreshUniformsStandard(m_uniforms,material)}}else if(material instanceof _Materials.MeshDepthMaterial){this.refreshUniformsCommon(m_uniforms,material);this.refreshUniformsDepth(m_uniforms,material)}else if(material instanceof _Materials.MeshDistanceMaterial){this.refreshUniformsCommon(m_uniforms,material);this.refreshUniformsDistance(m_uniforms,material)}else if(material instanceof _Materials.MeshNormalMaterial){this.refreshUniformsCommon(m_uniforms,material);this.refreshUniformsNormal(m_uniforms,material)}else if(material instanceof _Materials.LineBasicMaterial){this.refreshUniformsLine(m_uniforms,material);if(material instanceof _Materials.LineDashedMaterial){this.refreshUniformsDash(m_uniforms,material)}}else if(material instanceof _Materials.PointsMaterial){this.refreshUniformsPoints(m_uniforms,material)}else if(material instanceof _Materials.ShadowMaterial){m_uniforms.color.value=material.color;m_uniforms.opacity.value=material.opacity}// RectAreaLight Texture
// TODO (mrdoob): Find a nicer implementation
/**
         * LTC_1? LTC_2?
         */
// if (m_uniforms.ltc_1 !== undefined) m_uniforms.ltc_1.value = UniformsLib.LTC_1;
// if (m_uniforms.ltc_2 !== undefined) m_uniforms.ltc_2.value = UniformsLib.LTC_2;
_WebGLUniforms.WebGLUniformsWrapper.upload(materialProperties.uniformsList,m_uniforms)}// common matrices
p_uniforms.setValue("modelViewMatrix",object.modelViewMatrix);p_uniforms.setValue("normalMatrix",object.normalMatrix);p_uniforms.setValue("modelMatrix",object.matrixWorld);return program}},{key:"setupVertexAttributes",value:function setupVertexAttributes(material,program,geometry){var startIndex=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var state=this.state;var gl=this.context;if(geometry&&geometry instanceof _InstancedBufferGeometry.InstancedBufferGeometry){if(this.extensions.get("ANGLE_instanced_arrays")===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}state.initAttributes();var geometryAttributes=geometry.attributes;var programAttributes=program.getAttributes();// ShaderMaterial
var materialDefaultAttributeValues=material.defaultAttributeValues;for(var name in programAttributes){var programAttribute=programAttributes[name];if(programAttribute>=0){var geometryAttribute=geometryAttributes[name];if(geometryAttribute!==undefined){var normalized=geometryAttribute.normalized;var size=geometryAttribute.itemSize;var attribute=this.attributes.get(geometryAttribute);// TODO Attribute may not be available on context restore
if(attribute===undefined)continue;var buffer=attribute.buffer;var type=attribute.type;var bytesPerElement=attribute.bytesPerElement;if(geometryAttribute instanceof _InstancedInterleavedBufferAttribute.InstancedInterleavedBufferAttribute){var stride=geometryAttribute.stride;var offset=geometryAttribute.offset;if(geometryAttribute){state.enableAttributeAndDivisor(programAttribute,geometryAttribute.meshPerAttribute);if(geometry.maxInstancedCount===undefined){geometry.maxInstancedCount=geometryAttribute.meshPerAttribute*geometryAttribute.count}}else{state.enableAttribute(programAttribute)}gl.bindBuffer(gl.ARRAY_BUFFER,buffer);gl.vertexAttribPointer(programAttribute,size,type,normalized,stride*bytesPerElement,(startIndex*stride+offset)*bytesPerElement)}else{if(geometryAttribute instanceof _InstancedBufferAttribute.InstancedBufferAttribute){state.enableAttributeAndDivisor(programAttribute,geometryAttribute.meshPerAttribute);if(geometry.maxInstancedCount===undefined){geometry.maxInstancedCount=geometryAttribute.meshPerAttribute*geometryAttribute.count}}else{state.enableAttribute(programAttribute)}gl.bindBuffer(gl.ARRAY_BUFFER,buffer);gl.vertexAttribPointer(programAttribute,size,type,normalized,0,startIndex*size*bytesPerElement)}}else if(materialDefaultAttributeValues!==undefined){var value=materialDefaultAttributeValues[name];if(value!==undefined){switch(value.length){case 2:gl.vertexAttrib2fv(programAttribute,value);break;case 3:gl.vertexAttrib3fv(programAttribute,value);break;case 4:gl.vertexAttrib4fv(programAttribute,value);break;default:gl.vertexAttrib1fv(programAttribute,value)}}}}}state.disableUnusedAttributes()}},{key:"initMaterial",value:function initMaterial(material,fog,object){var lights=this.lights;var clipping=this.clipping;var materialProperties=this.properties.get(material);var parameters=this.programCache.getParameters(material,this.lights.state,this.shadowsArray,fog,this.clipping.numPlanes,this.clipping.numIntersection,object);var code=this.programCache.getProgramCode(material,parameters);var program=materialProperties.program;var programChange=true;if(program===undefined){
// new material
material.addEventListener("dispose",this.onMaterialDispose)}else if(program.code!==code){
// changed glsl or parameters
this.releaseMaterialProgramReference(material)}else if(parameters.shaderID!==undefined){
// same glsl and uniform list
return}else{
// only rebuild uniform list
programChange=false}if(programChange){if(parameters.shaderID){var shader=_ShaderLib.ShaderLib[parameters.shaderID];materialProperties.shader={name:material.type,uniforms:_UniformsUtils.UniformsUtils.clone(shader.uniforms),vertexShader:shader.vertexShader,fragmentShader:shader.fragmentShader}}else{materialProperties.shader={name:material.type,uniforms:material.uniforms,vertexShader:material.vertexShader,fragmentShader:material.fragmentShader}}material.onBeforeCompile(materialProperties.shader);program=this.programCache.acquireProgram(material,materialProperties.shader,parameters,code);materialProperties.program=program;material.program=program}var programAttributes=program.getAttributes();if(material.morphTargets){material.numSupportedMorphTargets=0;for(var i=0;i<this.maxMorphTargets;i++){if(programAttributes["morphTarget"+i]>=0){material.numSupportedMorphTargets++}}}if(material.morphNormals){material.numSupportedMorphNormals=0;for(var _i2=0;_i2<this.maxMorphNormals;_i2++){if(programAttributes["morphNormal"+_i2]>=0){material.numSupportedMorphNormals++}}}var uniforms=materialProperties.shader.uniforms;if(!(material instanceof _Materials.ShaderMaterial)&&!(material instanceof _Materials.RawShaderMaterial)||material.clipping===true){materialProperties.numClippingPlanes=clipping.numPlanes;materialProperties.numIntersection=clipping.numIntersection;uniforms.clippingPlanes=clipping.uniform}materialProperties.fog=fog;// store the light setup it was created for
materialProperties.lightsHash=lights.state.hash;if(material.lights){
// wire up the material to this renderer's lighting state
uniforms.ambientLightColor.value=lights.state.ambient;uniforms.directionalLights.value=lights.state.directional;uniforms.spotLights.value=lights.state.spot;uniforms.rectAreaLights.value=lights.state.rectArea;uniforms.pointLights.value=lights.state.point;uniforms.hemisphereLights.value=lights.state.hemi;uniforms.directionalShadowMap.value=lights.state.directionalShadowMap;uniforms.directionalShadowMatrix.value=lights.state.directionalShadowMatrix;uniforms.spotShadowMap.value=lights.state.spotShadowMap;uniforms.spotShadowMatrix.value=lights.state.spotShadowMatrix;uniforms.pointShadowMap.value=lights.state.pointShadowMap;uniforms.pointShadowMatrix.value=lights.state.pointShadowMatrix;// TODO (abelnation): add area lights shadow info to uniforms
}var progUniforms=materialProperties.program.getUniforms();var uniformsList=_WebGLUniforms.WebGLUniformsWrapper.seqWithValue(progUniforms.seq,uniforms);materialProperties.uniformsList=uniformsList}},{key:"deallocateMaterial",value:function deallocateMaterial(material){this.releaseMaterialProgramReference(material);this.properties.remove(material)}},{key:"releaseMaterialProgramReference",value:function releaseMaterialProgramReference(material){var programInfo=this.properties.get(material).program;material.program=undefined;if(programInfo!==undefined){this.programCache.releaseProgram(programInfo)}}},{key:"setFaceCulling",value:function setFaceCulling(cullFace,frontFaceDirection){this.state.setCullFace(cullFace);this.state.setFlipSided(frontFaceDirection===_constants.FrontFaceDirectionCW)}},{key:"allocTextureUnit",value:function allocTextureUnit(){var textureUnit=this.usedTextureUnits;if(textureUnit>=this.capabilities.maxTextures){console.warn("THREE.WebGLRenderer: Trying to use "+textureUnit+" texture units while this GPU supports only "+this.capabilities.maxTextures)}this.usedTextureUnits+=1;return textureUnit}},{key:"setTexture2D",value:function setTexture2D(texture,unit){if(texture&&texture instanceof _WebGLRenderTarget.WebGLRenderTarget){if(!this.setTexture2DWarned){console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.");this.setTexture2DWarned=true}texture=texture.texture}this.textures.setTexture2D(texture,unit)}},{key:"setTextureCube",value:function setTextureCube(cubeTexture,slot){var texture=cubeTexture;// backwards compatibility: peel texture.texture
if(cubeTexture&&cubeTexture instanceof _WebGLRenderTargetCube.WebGLRenderTargetCube){if(!this.setTextureCubeWarned){console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.");this.setTextureCubeWarned=true}texture=cubeTexture.texture}// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture
// TODO: unify these code paths
if(texture&&texture instanceof _CubeTexture.CubeTexture||Array.isArray(texture.image)&&texture.image.length===6){
// CompressedTexture can have Array in image :/
// this function alone should take care of cube textures
this.textures.setTextureCube(texture,slot)}else{
// assumed: texture property of THREE.WebGLRenderTargetCube
this.textures.setTextureCubeDynamic(texture,slot)}}},{key:"getRenderTarget",value:function getRenderTarget(){return this.currentRenderTarget}},{key:"setRenderTarget",value:function setRenderTarget(renderTarget){var properties=this.properties;this.currentRenderTarget=renderTarget;if(renderTarget&&properties.get(renderTarget).__webglFramebuffer===undefined){this.textures.setupRenderTarget(renderTarget)}var framebuffer=null;var isCube=false;if(renderTarget){var __webglFramebuffer=properties.get(renderTarget).__webglFramebuffer;if(renderTarget instanceof _WebGLRenderTargetCube.WebGLRenderTargetCube){framebuffer=__webglFramebuffer[renderTarget.activeCubeFace];isCube=true}else{framebuffer=__webglFramebuffer}this.currentViewport.copy(renderTarget.viewport);this.currentScissor.copy(renderTarget.scissor);this.currentScissorTest=renderTarget.scissorTest}else{this.currentViewport.copy(this.viewport).multiplyScalar(this.pixelRatio);this.currentScissor.copy(this.scissor).multiplyScalar(this.pixelRatio);this.currentScissorTest=this.scissorTest}var gl=this.context;var state=this.state;if(this.currentFramebuffer!==framebuffer){gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffer);this.currentFramebuffer=framebuffer}state.viewport(this.currentViewport);state.scissor(this.currentScissor);state.setScissorTest(this.currentScissorTest);if(isCube){var textureProperties=properties.get(renderTarget.texture);gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_CUBE_MAP_POSITIVE_X+renderTarget.activeCubeFace,textureProperties.__webglTexture,renderTarget.activeMipMapLevel)}}},{key:"readRenderTargetPixels",value:function readRenderTargetPixels(renderTarget,x,y,width,height,buffer){if(!(renderTarget&&renderTarget instanceof _WebGLRenderTarget.WebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var gl=this.context;var utils=this.utils;var extensions=this.extensions;var framebuffer=this.properties.get(renderTarget).__webglFramebuffer;if(framebuffer){var restore=false;if(framebuffer!==this.currentFramebuffer){gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffer);restore=true}try{var texture=renderTarget.texture;var textureFormat=texture.format;var textureType=texture.type;if(textureFormat!==_constants.RGBAFormat&&utils.convert(textureFormat)!==gl.getParameter(gl.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(textureType!==_constants.UnsignedByteType&&utils.convert(textureType)!==gl.getParameter(gl.IMPLEMENTATION_COLOR_READ_TYPE)&&// IE11, Edge and Chrome Mac < 52 (#9513)
!(textureType===_constants.FloatType&&(extensions.get("OES_texture_float")||extensions.get("WEBGL_color_buffer_float")))&&// Chrome Mac >= 52 and Firefox
!(textureType===_constants.HalfFloatType&&extensions.get("EXT_color_buffer_half_float"))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}if(gl.checkFramebufferStatus(gl.FRAMEBUFFER)===gl.FRAMEBUFFER_COMPLETE){
// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)
if(x>=0&&x<=renderTarget.width-width&&y>=0&&y<=renderTarget.height-height){gl.readPixels(x,y,width,height,utils.convert(textureFormat),utils.convert(textureType),buffer)}}else{console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}}finally{if(restore){gl.bindFramebuffer(gl.FRAMEBUFFER,this.currentFramebuffer)}}}}},{key:"copyFramebufferToTexture",value:function copyFramebufferToTexture(position,texture,level){var gl=this.context;var width=texture.image.width;var height=texture.image.height;var internalFormat=this.utils.convert(texture.format);this.setTexture2D(texture,0);gl.copyTexImage2D(gl.TEXTURE_2D,level||0,internalFormat,position.x,position.y,width,height,0)}// Uniforms (refresh uniforms objects)
},{key:"refreshUniformsCommon",value:function refreshUniformsCommon(uniforms,material){uniforms.opacity.value=material.opacity;if(material.color){uniforms.diffuse.value=material.color}if(material.emissive){uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity)}if(material.map){uniforms.map.value=material.map}if(material.alphaMap){uniforms.alphaMap.value=material.alphaMap}if(material.specularMap){uniforms.specularMap.value=material.specularMap}if(material.envMap){uniforms.envMap.value=material.envMap;// don't flip CubeTexture envMaps, flip everything else:
//  WebGLRenderTargetCube will be flipped for backwards compatibility
//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture
// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future
uniforms.flipEnvMap.value=!(material.envMap&&material.envMap instanceof _CubeTexture.CubeTexture)?1:-1;uniforms.reflectivity.value=material.reflectivity;uniforms.refractionRatio.value=material.refractionRatio}if(material.lightMap){uniforms.lightMap.value=material.lightMap;uniforms.lightMapIntensity.value=material.lightMapIntensity}if(material.aoMap){uniforms.aoMap.value=material.aoMap;uniforms.aoMapIntensity.value=material.aoMapIntensity}// uv repeat and offset setting priorities
// 1. color map
// 2. specular map
// 3. normal map
// 4. bump map
// 5. alpha map
// 6. emissive map
var uvScaleMap;if(material.map){uvScaleMap=material.map}else if(material.specularMap){uvScaleMap=material.specularMap}else if(material.displacementMap){uvScaleMap=material.displacementMap}else if(material.normalMap){uvScaleMap=material.normalMap}else if(material.bumpMap){uvScaleMap=material.bumpMap}else if(material.roughnessMap){uvScaleMap=material.roughnessMap}else if(material.metalnessMap){uvScaleMap=material.metalnessMap}else if(material.alphaMap){uvScaleMap=material.alphaMap}else if(material.emissiveMap){uvScaleMap=material.emissiveMap}if(uvScaleMap!==undefined){
// backwards compatibility
if(uvScaleMap instanceof _WebGLRenderTarget.WebGLRenderTarget){uvScaleMap=uvScaleMap.texture}if(uvScaleMap.matrixAutoUpdate===true){var offset=uvScaleMap.offset;var repeat=uvScaleMap.repeat;var rotation=uvScaleMap.rotation;var center=uvScaleMap.center;uvScaleMap.matrix.setUvTransform(offset.x,offset.y,repeat.x,repeat.y,rotation,center.x,center.y)}uniforms.uvTransform.value.copy(uvScaleMap.matrix)}}},{key:"refreshUniformsLine",value:function refreshUniformsLine(uniforms,material){uniforms.diffuse.value=material.color;uniforms.opacity.value=material.opacity}},{key:"refreshUniformsDash",value:function refreshUniformsDash(uniforms,material){uniforms.dashSize.value=material.dashSize;uniforms.totalSize.value=material.dashSize+material.gapSize;uniforms.scale.value=material.scale}},{key:"refreshUniformsPoints",value:function refreshUniformsPoints(uniforms,material){uniforms.diffuse.value=material.color;uniforms.opacity.value=material.opacity;uniforms.size.value=material.size*this.pixelRatio;uniforms.scale.value=this.height*.5;uniforms.map.value=material.map;if(material.map!==null){if(material.map.matrixAutoUpdate===true){var offset=material.map.offset;var repeat=material.map.repeat;var rotation=material.map.rotation;var center=material.map.center;material.map.matrix.setUvTransform(offset.x,offset.y,repeat.x,repeat.y,rotation,center.x,center.y)}uniforms.uvTransform.value.copy(material.map.matrix)}}},{key:"refreshUniformsFog",value:function refreshUniformsFog(uniforms,fog){uniforms.fogColor.value=fog.color;if(fog instanceof _Fog.Fog){uniforms.fogNear.value=fog.near;uniforms.fogFar.value=fog.far}else if(fog instanceof _FogExp.FogExp2){uniforms.fogDensity.value=fog.density}}},{key:"refreshUniformsLambert",value:function refreshUniformsLambert(uniforms,material){if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap}}},{key:"refreshUniformsPhong",value:function refreshUniformsPhong(uniforms,material){uniforms.specular.value=material.specular;uniforms.shininess.value=Math.max(material.shininess,1e-4);// to prevent pow( 0.0, 0.0 )
if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale)}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias}}},{key:"refreshUniformsToon",value:function refreshUniformsToon(uniforms,material){this.refreshUniformsPhong(uniforms,material);if(material.gradientMap){uniforms.gradientMap.value=material.gradientMap}}},{key:"refreshUniformsStandard",value:function refreshUniformsStandard(uniforms,material){uniforms.roughness.value=material.roughness;uniforms.metalness.value=material.metalness;if(material.roughnessMap){uniforms.roughnessMap.value=material.roughnessMap}if(material.metalnessMap){uniforms.metalnessMap.value=material.metalnessMap}if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale)}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias}if(material.envMap){
//uniforms.envMap.value = material.envMap; // part of uniforms common
uniforms.envMapIntensity.value=material.envMapIntensity}}},{key:"refreshUniformsPhysical",value:function refreshUniformsPhysical(uniforms,material){uniforms.clearCoat.value=material.clearCoat;uniforms.clearCoatRoughness.value=material.clearCoatRoughness;this.refreshUniformsStandard(uniforms,material)}},{key:"refreshUniformsDepth",value:function refreshUniformsDepth(uniforms,material){if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias}}},{key:"refreshUniformsDistance",value:function refreshUniformsDistance(uniforms,material){if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias}uniforms.referencePosition.value.copy(material.referencePosition);uniforms.nearDistance.value=material.nearDistance;uniforms.farDistance.value=material.farDistance}},{key:"refreshUniformsNormal",value:function refreshUniformsNormal(uniforms,material){if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale)}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias}}// If uniforms are marked as clean, they don't need to be loaded to the GPU.
},{key:"markUniformsLightsNeedsUpdate",value:function markUniformsLightsNeedsUpdate(uniforms,value){uniforms.ambientLightColor.needsUpdate=value;uniforms.directionalLights.needsUpdate=value;uniforms.pointLights.needsUpdate=value;uniforms.spotLights.needsUpdate=value;uniforms.rectAreaLights.needsUpdate=value;uniforms.hemisphereLights.needsUpdate=value}}]);return WebGLRenderer}();exports.WebGLRenderer=WebGLRenderer;
/***/},
/***/"./es/renderers/shaders/ShaderChunk.js":
/*!*********************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShaderChunk=void 0;var _alphamap_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/alphamap_fragment.glsl */"./es/renderers/shaders/ShaderChunk/alphamap_fragment.glsl"));var _alphamap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/alphamap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/alphamap_pars_fragment.glsl"));var _alphatest_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/alphatest_fragment.glsl */"./es/renderers/shaders/ShaderChunk/alphatest_fragment.glsl"));var _aomap_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/aomap_fragment.glsl */"./es/renderers/shaders/ShaderChunk/aomap_fragment.glsl"));var _aomap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/aomap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/aomap_pars_fragment.glsl"));var _begin_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/begin_vertex.glsl */"./es/renderers/shaders/ShaderChunk/begin_vertex.glsl"));var _beginnormal_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/beginnormal_vertex.glsl */"./es/renderers/shaders/ShaderChunk/beginnormal_vertex.glsl"));var _bsdfs=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/bsdfs.glsl */"./es/renderers/shaders/ShaderChunk/bsdfs.glsl"));var _bumpmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/bumpmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/bumpmap_pars_fragment.glsl"));var _clipping_planes_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/clipping_planes_fragment.glsl */"./es/renderers/shaders/ShaderChunk/clipping_planes_fragment.glsl"));var _clipping_planes_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/clipping_planes_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/clipping_planes_pars_fragment.glsl"));var _clipping_planes_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/clipping_planes_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/clipping_planes_pars_vertex.glsl"));var _clipping_planes_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/clipping_planes_vertex.glsl */"./es/renderers/shaders/ShaderChunk/clipping_planes_vertex.glsl"));var _color_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/color_fragment.glsl */"./es/renderers/shaders/ShaderChunk/color_fragment.glsl"));var _color_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/color_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/color_pars_fragment.glsl"));var _color_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/color_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/color_pars_vertex.glsl"));var _color_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/color_vertex.glsl */"./es/renderers/shaders/ShaderChunk/color_vertex.glsl"));var _common=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/common.glsl */"./es/renderers/shaders/ShaderChunk/common.glsl"));var _cube_uv_reflection_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/cube_uv_reflection_fragment.glsl */"./es/renderers/shaders/ShaderChunk/cube_uv_reflection_fragment.glsl"));var _defaultnormal_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/defaultnormal_vertex.glsl */"./es/renderers/shaders/ShaderChunk/defaultnormal_vertex.glsl"));var _displacementmap_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/displacementmap_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/displacementmap_pars_vertex.glsl"));var _displacementmap_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/displacementmap_vertex.glsl */"./es/renderers/shaders/ShaderChunk/displacementmap_vertex.glsl"));var _emissivemap_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/emissivemap_fragment.glsl */"./es/renderers/shaders/ShaderChunk/emissivemap_fragment.glsl"));var _emissivemap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/emissivemap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/emissivemap_pars_fragment.glsl"));var _encodings_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/encodings_fragment.glsl */"./es/renderers/shaders/ShaderChunk/encodings_fragment.glsl"));var _encodings_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/encodings_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/encodings_pars_fragment.glsl"));var _envmap_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/envmap_fragment.glsl */"./es/renderers/shaders/ShaderChunk/envmap_fragment.glsl"));var _envmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/envmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/envmap_pars_fragment.glsl"));var _envmap_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/envmap_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/envmap_pars_vertex.glsl"));var _envmap_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/envmap_vertex.glsl */"./es/renderers/shaders/ShaderChunk/envmap_vertex.glsl"));var _fog_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/fog_vertex.glsl */"./es/renderers/shaders/ShaderChunk/fog_vertex.glsl"));var _fog_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/fog_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/fog_pars_vertex.glsl"));var _fog_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/fog_fragment.glsl */"./es/renderers/shaders/ShaderChunk/fog_fragment.glsl"));var _fog_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/fog_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/fog_pars_fragment.glsl"));var _gradientmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/gradientmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/gradientmap_pars_fragment.glsl"));var _lightmap_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lightmap_fragment.glsl */"./es/renderers/shaders/ShaderChunk/lightmap_fragment.glsl"));var _lightmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lightmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/lightmap_pars_fragment.glsl"));var _lights_lambert_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lights_lambert_vertex.glsl */"./es/renderers/shaders/ShaderChunk/lights_lambert_vertex.glsl"));var _lights_pars=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lights_pars.glsl */"./es/renderers/shaders/ShaderChunk/lights_pars.glsl"));var _lights_phong_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lights_phong_fragment.glsl */"./es/renderers/shaders/ShaderChunk/lights_phong_fragment.glsl"));var _lights_phong_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lights_phong_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/lights_phong_pars_fragment.glsl"));var _lights_physical_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lights_physical_fragment.glsl */"./es/renderers/shaders/ShaderChunk/lights_physical_fragment.glsl"));var _lights_physical_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lights_physical_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/lights_physical_pars_fragment.glsl"));var _lights_template=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/lights_template.glsl */"./es/renderers/shaders/ShaderChunk/lights_template.glsl"));var _logdepthbuf_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/logdepthbuf_fragment.glsl */"./es/renderers/shaders/ShaderChunk/logdepthbuf_fragment.glsl"));var _logdepthbuf_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/logdepthbuf_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/logdepthbuf_pars_fragment.glsl"));var _logdepthbuf_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/logdepthbuf_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/logdepthbuf_pars_vertex.glsl"));var _logdepthbuf_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/logdepthbuf_vertex.glsl */"./es/renderers/shaders/ShaderChunk/logdepthbuf_vertex.glsl"));var _map_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/map_fragment.glsl */"./es/renderers/shaders/ShaderChunk/map_fragment.glsl"));var _map_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/map_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/map_pars_fragment.glsl"));var _map_particle_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/map_particle_fragment.glsl */"./es/renderers/shaders/ShaderChunk/map_particle_fragment.glsl"));var _map_particle_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/map_particle_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/map_particle_pars_fragment.glsl"));var _metalnessmap_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/metalnessmap_fragment.glsl */"./es/renderers/shaders/ShaderChunk/metalnessmap_fragment.glsl"));var _metalnessmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/metalnessmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/metalnessmap_pars_fragment.glsl"));var _morphnormal_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/morphnormal_vertex.glsl */"./es/renderers/shaders/ShaderChunk/morphnormal_vertex.glsl"));var _morphtarget_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/morphtarget_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/morphtarget_pars_vertex.glsl"));var _morphtarget_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/morphtarget_vertex.glsl */"./es/renderers/shaders/ShaderChunk/morphtarget_vertex.glsl"));var _normal_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/normal_fragment.glsl */"./es/renderers/shaders/ShaderChunk/normal_fragment.glsl"));var _normalmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/normalmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/normalmap_pars_fragment.glsl"));var _packing=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/packing.glsl */"./es/renderers/shaders/ShaderChunk/packing.glsl"));var _premultiplied_alpha_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/premultiplied_alpha_fragment.glsl */"./es/renderers/shaders/ShaderChunk/premultiplied_alpha_fragment.glsl"));var _project_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/project_vertex.glsl */"./es/renderers/shaders/ShaderChunk/project_vertex.glsl"));var _dithering_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/dithering_fragment.glsl */"./es/renderers/shaders/ShaderChunk/dithering_fragment.glsl"));var _dithering_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/dithering_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/dithering_pars_fragment.glsl"));var _roughnessmap_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/roughnessmap_fragment.glsl */"./es/renderers/shaders/ShaderChunk/roughnessmap_fragment.glsl"));var _roughnessmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/roughnessmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/roughnessmap_pars_fragment.glsl"));var _shadowmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/shadowmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/shadowmap_pars_fragment.glsl"));var _shadowmap_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/shadowmap_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/shadowmap_pars_vertex.glsl"));var _shadowmap_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/shadowmap_vertex.glsl */"./es/renderers/shaders/ShaderChunk/shadowmap_vertex.glsl"));var _shadowmask_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/shadowmask_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/shadowmask_pars_fragment.glsl"));var _skinbase_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/skinbase_vertex.glsl */"./es/renderers/shaders/ShaderChunk/skinbase_vertex.glsl"));var _skinning_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/skinning_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/skinning_pars_vertex.glsl"));var _skinning_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/skinning_vertex.glsl */"./es/renderers/shaders/ShaderChunk/skinning_vertex.glsl"));var _skinnormal_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/skinnormal_vertex.glsl */"./es/renderers/shaders/ShaderChunk/skinnormal_vertex.glsl"));var _specularmap_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/specularmap_fragment.glsl */"./es/renderers/shaders/ShaderChunk/specularmap_fragment.glsl"));var _specularmap_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/specularmap_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/specularmap_pars_fragment.glsl"));var _tonemapping_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/tonemapping_fragment.glsl */"./es/renderers/shaders/ShaderChunk/tonemapping_fragment.glsl"));var _tonemapping_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/tonemapping_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/tonemapping_pars_fragment.glsl"));var _uv_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/uv_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/uv_pars_fragment.glsl"));var _uv_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/uv_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/uv_pars_vertex.glsl"));var _uv_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/uv_vertex.glsl */"./es/renderers/shaders/ShaderChunk/uv_vertex.glsl"));var _uv2_pars_fragment=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/uv2_pars_fragment.glsl */"./es/renderers/shaders/ShaderChunk/uv2_pars_fragment.glsl"));var _uv2_pars_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/uv2_pars_vertex.glsl */"./es/renderers/shaders/ShaderChunk/uv2_pars_vertex.glsl"));var _uv2_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/uv2_vertex.glsl */"./es/renderers/shaders/ShaderChunk/uv2_vertex.glsl"));var _worldpos_vertex=_interopRequireDefault(__webpack_require__(/*! ./ShaderChunk/worldpos_vertex.glsl */"./es/renderers/shaders/ShaderChunk/worldpos_vertex.glsl"));var _cube_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/cube_frag.glsl */"./es/renderers/shaders/ShaderLib/cube_frag.glsl"));var _cube_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/cube_vert.glsl */"./es/renderers/shaders/ShaderLib/cube_vert.glsl"));var _depth_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/depth_frag.glsl */"./es/renderers/shaders/ShaderLib/depth_frag.glsl"));var _depth_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/depth_vert.glsl */"./es/renderers/shaders/ShaderLib/depth_vert.glsl"));var _distanceRGBA_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/distanceRGBA_frag.glsl */"./es/renderers/shaders/ShaderLib/distanceRGBA_frag.glsl"));var _distanceRGBA_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/distanceRGBA_vert.glsl */"./es/renderers/shaders/ShaderLib/distanceRGBA_vert.glsl"));var _equirect_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/equirect_frag.glsl */"./es/renderers/shaders/ShaderLib/equirect_frag.glsl"));var _equirect_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/equirect_vert.glsl */"./es/renderers/shaders/ShaderLib/equirect_vert.glsl"));var _linedashed_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/linedashed_frag.glsl */"./es/renderers/shaders/ShaderLib/linedashed_frag.glsl"));var _linedashed_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/linedashed_vert.glsl */"./es/renderers/shaders/ShaderLib/linedashed_vert.glsl"));var _meshbasic_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/meshbasic_frag.glsl */"./es/renderers/shaders/ShaderLib/meshbasic_frag.glsl"));var _meshbasic_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/meshbasic_vert.glsl */"./es/renderers/shaders/ShaderLib/meshbasic_vert.glsl"));var _meshlambert_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/meshlambert_frag.glsl */"./es/renderers/shaders/ShaderLib/meshlambert_frag.glsl"));var _meshlambert_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/meshlambert_vert.glsl */"./es/renderers/shaders/ShaderLib/meshlambert_vert.glsl"));var _meshphong_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/meshphong_frag.glsl */"./es/renderers/shaders/ShaderLib/meshphong_frag.glsl"));var _meshphong_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/meshphong_vert.glsl */"./es/renderers/shaders/ShaderLib/meshphong_vert.glsl"));var _meshphysical_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/meshphysical_frag.glsl */"./es/renderers/shaders/ShaderLib/meshphysical_frag.glsl"));var _meshphysical_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/meshphysical_vert.glsl */"./es/renderers/shaders/ShaderLib/meshphysical_vert.glsl"));var _normal_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/normal_frag.glsl */"./es/renderers/shaders/ShaderLib/normal_frag.glsl"));var _normal_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/normal_vert.glsl */"./es/renderers/shaders/ShaderLib/normal_vert.glsl"));var _points_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/points_frag.glsl */"./es/renderers/shaders/ShaderLib/points_frag.glsl"));var _points_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/points_vert.glsl */"./es/renderers/shaders/ShaderLib/points_vert.glsl"));var _shadow_frag=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/shadow_frag.glsl */"./es/renderers/shaders/ShaderLib/shadow_frag.glsl"));var _shadow_vert=_interopRequireDefault(__webpack_require__(/*! ./ShaderLib/shadow_vert.glsl */"./es/renderers/shaders/ShaderLib/shadow_vert.glsl"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ShaderChunk={alphamap_fragment:_alphamap_fragment.default,alphamap_pars_fragment:_alphamap_pars_fragment.default,alphatest_fragment:_alphatest_fragment.default,aomap_fragment:_aomap_fragment.default,aomap_pars_fragment:_aomap_pars_fragment.default,begin_vertex:_begin_vertex.default,beginnormal_vertex:_beginnormal_vertex.default,bsdfs:_bsdfs.default,bumpmap_pars_fragment:_bumpmap_pars_fragment.default,clipping_planes_fragment:_clipping_planes_fragment.default,clipping_planes_pars_fragment:_clipping_planes_pars_fragment.default,clipping_planes_pars_vertex:_clipping_planes_pars_vertex.default,clipping_planes_vertex:_clipping_planes_vertex.default,color_fragment:_color_fragment.default,color_pars_fragment:_color_pars_fragment.default,color_pars_vertex:_color_pars_vertex.default,color_vertex:_color_vertex.default,common:_common.default,cube_uv_reflection_fragment:_cube_uv_reflection_fragment.default,defaultnormal_vertex:_defaultnormal_vertex.default,displacementmap_pars_vertex:_displacementmap_pars_vertex.default,displacementmap_vertex:_displacementmap_vertex.default,emissivemap_fragment:_emissivemap_fragment.default,emissivemap_pars_fragment:_emissivemap_pars_fragment.default,encodings_fragment:_encodings_fragment.default,encodings_pars_fragment:_encodings_pars_fragment.default,envmap_fragment:_envmap_fragment.default,envmap_pars_fragment:_envmap_pars_fragment.default,envmap_pars_vertex:_envmap_pars_vertex.default,envmap_vertex:_envmap_vertex.default,fog_vertex:_fog_vertex.default,fog_pars_vertex:_fog_pars_vertex.default,fog_fragment:_fog_fragment.default,fog_pars_fragment:_fog_pars_fragment.default,gradientmap_pars_fragment:_gradientmap_pars_fragment.default,lightmap_fragment:_lightmap_fragment.default,lightmap_pars_fragment:_lightmap_pars_fragment.default,lights_lambert_vertex:_lights_lambert_vertex.default,lights_pars:_lights_pars.default,lights_phong_fragment:_lights_phong_fragment.default,lights_phong_pars_fragment:_lights_phong_pars_fragment.default,lights_physical_fragment:_lights_physical_fragment.default,lights_physical_pars_fragment:_lights_physical_pars_fragment.default,lights_template:_lights_template.default,logdepthbuf_fragment:_logdepthbuf_fragment.default,logdepthbuf_pars_fragment:_logdepthbuf_pars_fragment.default,logdepthbuf_pars_vertex:_logdepthbuf_pars_vertex.default,logdepthbuf_vertex:_logdepthbuf_vertex.default,map_fragment:_map_fragment.default,map_pars_fragment:_map_pars_fragment.default,map_particle_fragment:_map_particle_fragment.default,map_particle_pars_fragment:_map_particle_pars_fragment.default,metalnessmap_fragment:_metalnessmap_fragment.default,metalnessmap_pars_fragment:_metalnessmap_pars_fragment.default,morphnormal_vertex:_morphnormal_vertex.default,morphtarget_pars_vertex:_morphtarget_pars_vertex.default,morphtarget_vertex:_morphtarget_vertex.default,normal_fragment:_normal_fragment.default,normalmap_pars_fragment:_normalmap_pars_fragment.default,packing:_packing.default,premultiplied_alpha_fragment:_premultiplied_alpha_fragment.default,project_vertex:_project_vertex.default,dithering_fragment:_dithering_fragment.default,dithering_pars_fragment:_dithering_pars_fragment.default,roughnessmap_fragment:_roughnessmap_fragment.default,roughnessmap_pars_fragment:_roughnessmap_pars_fragment.default,shadowmap_pars_fragment:_shadowmap_pars_fragment.default,shadowmap_pars_vertex:_shadowmap_pars_vertex.default,shadowmap_vertex:_shadowmap_vertex.default,shadowmask_pars_fragment:_shadowmask_pars_fragment.default,skinbase_vertex:_skinbase_vertex.default,skinning_pars_vertex:_skinning_pars_vertex.default,skinning_vertex:_skinning_vertex.default,skinnormal_vertex:_skinnormal_vertex.default,specularmap_fragment:_specularmap_fragment.default,specularmap_pars_fragment:_specularmap_pars_fragment.default,tonemapping_fragment:_tonemapping_fragment.default,tonemapping_pars_fragment:_tonemapping_pars_fragment.default,uv_pars_fragment:_uv_pars_fragment.default,uv_pars_vertex:_uv_pars_vertex.default,uv_vertex:_uv_vertex.default,uv2_pars_fragment:_uv2_pars_fragment.default,uv2_pars_vertex:_uv2_pars_vertex.default,uv2_vertex:_uv2_vertex.default,worldpos_vertex:_worldpos_vertex.default,cube_frag:_cube_frag.default,cube_vert:_cube_vert.default,depth_frag:_depth_frag.default,depth_vert:_depth_vert.default,distanceRGBA_frag:_distanceRGBA_frag.default,distanceRGBA_vert:_distanceRGBA_vert.default,equirect_frag:_equirect_frag.default,equirect_vert:_equirect_vert.default,linedashed_frag:_linedashed_frag.default,linedashed_vert:_linedashed_vert.default,meshbasic_frag:_meshbasic_frag.default,meshbasic_vert:_meshbasic_vert.default,meshlambert_frag:_meshlambert_frag.default,meshlambert_vert:_meshlambert_vert.default,meshphong_frag:_meshphong_frag.default,meshphong_vert:_meshphong_vert.default,meshphysical_frag:_meshphysical_frag.default,meshphysical_vert:_meshphysical_vert.default,normal_frag:_normal_frag.default,normal_vert:_normal_vert.default,points_frag:_points_frag.default,points_vert:_points_vert.default,shadow_frag:_shadow_frag.default,shadow_vert:_shadow_vert.default};exports.ShaderChunk=ShaderChunk;
/***/},
/***/"./es/renderers/shaders/ShaderChunk/alphamap_fragment.glsl":
/*!*****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/alphamap_fragment.glsl ***!
  \*****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/alphamap_pars_fragment.glsl":
/*!**********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/alphamap_pars_fragment.glsl ***!
  \**********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/alphatest_fragment.glsl":
/*!******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/alphatest_fragment.glsl ***!
  \******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/aomap_fragment.glsl":
/*!**************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/aomap_fragment.glsl ***!
  \**************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/aomap_pars_fragment.glsl":
/*!*******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/aomap_pars_fragment.glsl ***!
  \*******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/begin_vertex.glsl":
/*!************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/begin_vertex.glsl ***!
  \************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="\nvec3 transformed = vec3( position );\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/beginnormal_vertex.glsl":
/*!******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/beginnormal_vertex.glsl ***!
  \******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="\nvec3 objectNormal = vec3( normal );\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/bsdfs.glsl":
/*!*****************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/bsdfs.glsl ***!
  \*****************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/bumpmap_pars_fragment.glsl":
/*!*********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/bumpmap_pars_fragment.glsl ***!
  \*********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/clipping_planes_fragment.glsl":
/*!************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/clipping_planes_fragment.glsl ***!
  \************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/clipping_planes_pars_fragment.glsl":
/*!*****************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/clipping_planes_pars_fragment.glsl ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/clipping_planes_pars_vertex.glsl":
/*!***************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/clipping_planes_pars_vertex.glsl ***!
  \***************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/clipping_planes_vertex.glsl":
/*!**********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/clipping_planes_vertex.glsl ***!
  \**********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/color_fragment.glsl":
/*!**************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/color_fragment.glsl ***!
  \**************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/color_pars_fragment.glsl":
/*!*******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/color_pars_fragment.glsl ***!
  \*******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/color_pars_vertex.glsl":
/*!*****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/color_pars_vertex.glsl ***!
  \*****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/color_vertex.glsl":
/*!************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/color_vertex.glsl ***!
  \************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/common.glsl":
/*!******************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/common.glsl ***!
  \******************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/cube_uv_reflection_fragment.glsl":
/*!***************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/cube_uv_reflection_fragment.glsl ***!
  \***************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/defaultnormal_vertex.glsl":
/*!********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/defaultnormal_vertex.glsl ***!
  \********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/displacementmap_pars_vertex.glsl":
/*!***************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/displacementmap_pars_vertex.glsl ***!
  \***************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/displacementmap_vertex.glsl":
/*!**********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/displacementmap_vertex.glsl ***!
  \**********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/dithering_fragment.glsl":
/*!******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/dithering_fragment.glsl ***!
  \******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/dithering_pars_fragment.glsl":
/*!***********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/dithering_pars_fragment.glsl ***!
  \***********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/emissivemap_fragment.glsl":
/*!********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/emissivemap_fragment.glsl ***!
  \********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/emissivemap_pars_fragment.glsl":
/*!*************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/emissivemap_pars_fragment.glsl ***!
  \*************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/encodings_fragment.glsl":
/*!******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/encodings_fragment.glsl ***!
  \******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/encodings_pars_fragment.glsl":
/*!***********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/encodings_pars_fragment.glsl ***!
  \***********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/envmap_fragment.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/envmap_fragment.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/envmap_pars_fragment.glsl":
/*!********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/envmap_pars_fragment.glsl ***!
  \********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/envmap_pars_vertex.glsl":
/*!******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/envmap_pars_vertex.glsl ***!
  \******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/envmap_vertex.glsl":
/*!*************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/envmap_vertex.glsl ***!
  \*************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/fog_fragment.glsl":
/*!************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/fog_fragment.glsl ***!
  \************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/fog_pars_fragment.glsl":
/*!*****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/fog_pars_fragment.glsl ***!
  \*****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/fog_pars_vertex.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/fog_pars_vertex.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/fog_vertex.glsl":
/*!**********************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/fog_vertex.glsl ***!
  \**********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/gradientmap_pars_fragment.glsl":
/*!*************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/gradientmap_pars_fragment.glsl ***!
  \*************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lightmap_fragment.glsl":
/*!*****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lightmap_fragment.glsl ***!
  \*****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lightmap_pars_fragment.glsl":
/*!**********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lightmap_pars_fragment.glsl ***!
  \**********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lights_lambert_vertex.glsl":
/*!*********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lights_lambert_vertex.glsl ***!
  \*********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lights_pars.glsl":
/*!***********************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lights_pars.glsl ***!
  \***********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lights_phong_fragment.glsl":
/*!*********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lights_phong_fragment.glsl ***!
  \*********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lights_phong_pars_fragment.glsl":
/*!**************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lights_phong_pars_fragment.glsl ***!
  \**************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lights_physical_fragment.glsl":
/*!************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lights_physical_fragment.glsl ***!
  \************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lights_physical_pars_fragment.glsl":
/*!*****************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lights_physical_pars_fragment.glsl ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/lights_template.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/lights_template.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/logdepthbuf_fragment.glsl":
/*!********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/logdepthbuf_fragment.glsl ***!
  \********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/logdepthbuf_pars_fragment.glsl":
/*!*************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/logdepthbuf_pars_fragment.glsl ***!
  \*************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/logdepthbuf_pars_vertex.glsl":
/*!***********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/logdepthbuf_pars_vertex.glsl ***!
  \***********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/logdepthbuf_vertex.glsl":
/*!******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/logdepthbuf_vertex.glsl ***!
  \******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/map_fragment.glsl":
/*!************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/map_fragment.glsl ***!
  \************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/map_pars_fragment.glsl":
/*!*****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/map_pars_fragment.glsl ***!
  \*****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/map_particle_fragment.glsl":
/*!*********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/map_particle_fragment.glsl ***!
  \*********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/map_particle_pars_fragment.glsl":
/*!**************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/map_particle_pars_fragment.glsl ***!
  \**************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/metalnessmap_fragment.glsl":
/*!*********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/metalnessmap_fragment.glsl ***!
  \*********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/metalnessmap_pars_fragment.glsl":
/*!**************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/metalnessmap_pars_fragment.glsl ***!
  \**************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/morphnormal_vertex.glsl":
/*!******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/morphnormal_vertex.glsl ***!
  \******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/morphtarget_pars_vertex.glsl":
/*!***********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/morphtarget_pars_vertex.glsl ***!
  \***********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/morphtarget_vertex.glsl":
/*!******************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/morphtarget_vertex.glsl ***!
  \******************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/normal_fragment.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/normal_fragment.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/normalmap_pars_fragment.glsl":
/*!***********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/normalmap_pars_fragment.glsl ***!
  \***********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/packing.glsl":
/*!*******************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/packing.glsl ***!
  \*******************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/premultiplied_alpha_fragment.glsl":
/*!****************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/premultiplied_alpha_fragment.glsl ***!
  \****************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/project_vertex.glsl":
/*!**************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/project_vertex.glsl ***!
  \**************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/roughnessmap_fragment.glsl":
/*!*********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/roughnessmap_fragment.glsl ***!
  \*********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/roughnessmap_pars_fragment.glsl":
/*!**************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/roughnessmap_pars_fragment.glsl ***!
  \**************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/shadowmap_pars_fragment.glsl":
/*!***********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/shadowmap_pars_fragment.glsl ***!
  \***********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/shadowmap_pars_vertex.glsl":
/*!*********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/shadowmap_pars_vertex.glsl ***!
  \*********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/shadowmap_vertex.glsl":
/*!****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/shadowmap_vertex.glsl ***!
  \****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/shadowmask_pars_fragment.glsl":
/*!************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/shadowmask_pars_fragment.glsl ***!
  \************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/skinbase_vertex.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/skinbase_vertex.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/skinning_pars_vertex.glsl":
/*!********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/skinning_pars_vertex.glsl ***!
  \********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/skinning_vertex.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/skinning_vertex.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/skinnormal_vertex.glsl":
/*!*****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/skinnormal_vertex.glsl ***!
  \*****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/specularmap_fragment.glsl":
/*!********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/specularmap_fragment.glsl ***!
  \********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/specularmap_pars_fragment.glsl":
/*!*************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/specularmap_pars_fragment.glsl ***!
  \*************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/tonemapping_fragment.glsl":
/*!********************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/tonemapping_fragment.glsl ***!
  \********************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/tonemapping_pars_fragment.glsl":
/*!*************************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/tonemapping_pars_fragment.glsl ***!
  \*************************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/uv2_pars_fragment.glsl":
/*!*****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/uv2_pars_fragment.glsl ***!
  \*****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/uv2_pars_vertex.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/uv2_pars_vertex.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/uv2_vertex.glsl":
/*!**********************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/uv2_vertex.glsl ***!
  \**********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/uv_pars_fragment.glsl":
/*!****************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/uv_pars_fragment.glsl ***!
  \****************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/uv_pars_vertex.glsl":
/*!**************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/uv_pars_vertex.glsl ***!
  \**************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/uv_vertex.glsl":
/*!*********************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/uv_vertex.glsl ***!
  \*********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif";
/***/},
/***/"./es/renderers/shaders/ShaderChunk/worldpos_vertex.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderChunk/worldpos_vertex.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib.js":
/*!*******************************************!*\
  !*** ./es/renderers/shaders/ShaderLib.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShaderLib=void 0;var _Color=__webpack_require__(/*! ../../math/Color */"./es/math/Color.js");var _Vector=__webpack_require__(/*! ../../math/Vector3 */"./es/math/Vector3.js");var _ShaderChunk=__webpack_require__(/*! ./ShaderChunk */"./es/renderers/shaders/ShaderChunk.js");var _UniformsLib=__webpack_require__(/*! ./UniformsLib */"./es/renderers/shaders/UniformsLib.js");var _UniformsUtils=__webpack_require__(/*! ./UniformsUtils */"./es/renderers/shaders/UniformsUtils.js");var ShaderLib={basic:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.common,_UniformsLib.UniformsLib.specularmap,_UniformsLib.UniformsLib.envmap,_UniformsLib.UniformsLib.aomap,_UniformsLib.UniformsLib.lightmap,_UniformsLib.UniformsLib.fog]),vertexShader:_ShaderChunk.ShaderChunk.meshbasic_vert,fragmentShader:_ShaderChunk.ShaderChunk.meshbasic_frag},lambert:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.common,_UniformsLib.UniformsLib.specularmap,_UniformsLib.UniformsLib.envmap,_UniformsLib.UniformsLib.aomap,_UniformsLib.UniformsLib.lightmap,_UniformsLib.UniformsLib.emissivemap,_UniformsLib.UniformsLib.fog,_UniformsLib.UniformsLib.lights,{emissive:{value:(new _Color.Color).setHex(0)}}]),vertexShader:_ShaderChunk.ShaderChunk.meshlambert_vert,fragmentShader:_ShaderChunk.ShaderChunk.meshlambert_frag},phong:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.common,_UniformsLib.UniformsLib.specularmap,_UniformsLib.UniformsLib.envmap,_UniformsLib.UniformsLib.aomap,_UniformsLib.UniformsLib.lightmap,_UniformsLib.UniformsLib.emissivemap,_UniformsLib.UniformsLib.bumpmap,_UniformsLib.UniformsLib.normalmap,_UniformsLib.UniformsLib.displacementmap,_UniformsLib.UniformsLib.gradientmap,_UniformsLib.UniformsLib.fog,_UniformsLib.UniformsLib.lights,{emissive:{value:(new _Color.Color).setHex(0)},specular:{value:(new _Color.Color).setHex(1118481)},shininess:{value:30}}]),vertexShader:_ShaderChunk.ShaderChunk.meshphong_vert,fragmentShader:_ShaderChunk.ShaderChunk.meshphong_frag},standard:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.common,_UniformsLib.UniformsLib.envmap,_UniformsLib.UniformsLib.aomap,_UniformsLib.UniformsLib.lightmap,_UniformsLib.UniformsLib.emissivemap,_UniformsLib.UniformsLib.bumpmap,_UniformsLib.UniformsLib.normalmap,_UniformsLib.UniformsLib.displacementmap,_UniformsLib.UniformsLib.roughnessmap,_UniformsLib.UniformsLib.metalnessmap,_UniformsLib.UniformsLib.fog,_UniformsLib.UniformsLib.lights,{emissive:{value:(new _Color.Color).setHex(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:_ShaderChunk.ShaderChunk.meshphysical_vert,fragmentShader:_ShaderChunk.ShaderChunk.meshphysical_frag},points:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.points,_UniformsLib.UniformsLib.fog]),vertexShader:_ShaderChunk.ShaderChunk.points_vert,fragmentShader:_ShaderChunk.ShaderChunk.points_frag},dashed:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.common,_UniformsLib.UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_ShaderChunk.ShaderChunk.linedashed_vert,fragmentShader:_ShaderChunk.ShaderChunk.linedashed_frag},depth:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.common,_UniformsLib.UniformsLib.displacementmap]),vertexShader:_ShaderChunk.ShaderChunk.depth_vert,fragmentShader:_ShaderChunk.ShaderChunk.depth_frag},normal:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.common,_UniformsLib.UniformsLib.bumpmap,_UniformsLib.UniformsLib.normalmap,_UniformsLib.UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:_ShaderChunk.ShaderChunk.normal_vert,fragmentShader:_ShaderChunk.ShaderChunk.normal_frag},
/* -------------------------------------------------------------------------
   //	Cube map shader
   ------------------------------------------------------------------------- */
cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_ShaderChunk.ShaderChunk.cube_vert,fragmentShader:_ShaderChunk.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_ShaderChunk.ShaderChunk.equirect_vert,fragmentShader:_ShaderChunk.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.common,_UniformsLib.UniformsLib.displacementmap,{referencePosition:{value:new _Vector.Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_ShaderChunk.ShaderChunk.distanceRGBA_vert,fragmentShader:_ShaderChunk.ShaderChunk.distanceRGBA_frag},shadow:{uniforms:_UniformsUtils.UniformsUtils.merge([_UniformsLib.UniformsLib.lights,_UniformsLib.UniformsLib.fog,{color:{value:(new _Color.Color).setHex(0)},opacity:{value:1}}]),vertexShader:_ShaderChunk.ShaderChunk.shadow_vert,fragmentShader:_ShaderChunk.ShaderChunk.shadow_frag}};exports.ShaderLib=ShaderLib;ShaderLib.physical={uniforms:_UniformsUtils.UniformsUtils.merge([ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:_ShaderChunk.ShaderChunk.meshphysical_vert,fragmentShader:_ShaderChunk.ShaderChunk.meshphysical_frag};
/***/},
/***/"./es/renderers/shaders/ShaderLib/cube_frag.glsl":
/*!*******************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/cube_frag.glsl ***!
  \*******************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/cube_vert.glsl":
/*!*******************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/cube_vert.glsl ***!
  \*******************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/depth_frag.glsl":
/*!********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/depth_frag.glsl ***!
  \********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/depth_vert.glsl":
/*!********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/depth_vert.glsl ***!
  \********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/distanceRGBA_frag.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/distanceRGBA_frag.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/distanceRGBA_vert.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/distanceRGBA_vert.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/equirect_frag.glsl":
/*!***********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/equirect_frag.glsl ***!
  \***********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/equirect_vert.glsl":
/*!***********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/equirect_vert.glsl ***!
  \***********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/linedashed_frag.glsl":
/*!*************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/linedashed_frag.glsl ***!
  \*************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/linedashed_vert.glsl":
/*!*************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/linedashed_vert.glsl ***!
  \*************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/meshbasic_frag.glsl":
/*!************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/meshbasic_frag.glsl ***!
  \************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/meshbasic_vert.glsl":
/*!************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/meshbasic_vert.glsl ***!
  \************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/meshlambert_frag.glsl":
/*!**************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/meshlambert_frag.glsl ***!
  \**************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/meshlambert_vert.glsl":
/*!**************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/meshlambert_vert.glsl ***!
  \**************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/meshphong_frag.glsl":
/*!************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/meshphong_frag.glsl ***!
  \************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/meshphong_vert.glsl":
/*!************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/meshphong_vert.glsl ***!
  \************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/meshphysical_frag.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/meshphysical_frag.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/meshphysical_vert.glsl":
/*!***************************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/meshphysical_vert.glsl ***!
  \***************************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/normal_frag.glsl":
/*!*********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/normal_frag.glsl ***!
  \*********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/normal_vert.glsl":
/*!*********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/normal_vert.glsl ***!
  \*********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/points_frag.glsl":
/*!*********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/points_frag.glsl ***!
  \*********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/points_vert.glsl":
/*!*********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/points_vert.glsl ***!
  \*********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/shadow_frag.glsl":
/*!*********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/shadow_frag.glsl ***!
  \*********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n";
/***/},
/***/"./es/renderers/shaders/ShaderLib/shadow_vert.glsl":
/*!*********************************************************!*\
  !*** ./es/renderers/shaders/ShaderLib/shadow_vert.glsl ***!
  \*********************************************************/
/*! exports provided: default */
/***/function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
/* harmony default export */__webpack_exports__["default"]="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
/***/},
/***/"./es/renderers/shaders/UniformsLib.js":
/*!*********************************************!*\
  !*** ./es/renderers/shaders/UniformsLib.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UniformsLib=void 0;var _Color=__webpack_require__(/*! ../../math/Color */"./es/math/Color.js");var _Vector=__webpack_require__(/*! ../../math/Vector2 */"./es/math/Vector2.js");var _Matrix=__webpack_require__(/*! ../../math/Matrix3 */"./es/math/Matrix3.js");
/**
 * Uniforms library for shared webgl shaders
 */var UniformsLib={common:{diffuse:{value:(new _Color.Color).setHex(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new _Matrix.Matrix3},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new _Vector.Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:(new _Color.Color).setHex(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},
// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src
rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:(new _Color.Color).setHex(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new _Matrix.Matrix3}}};exports.UniformsLib=UniformsLib;
/***/},
/***/"./es/renderers/shaders/UniformsUtils.js":
/*!***********************************************!*\
  !*** ./es/renderers/shaders/UniformsUtils.js ***!
  \***********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UniformsUtils=void 0;var _Color=__webpack_require__(/*! ../../math/Color */"./es/math/Color.js");var _Matrix=__webpack_require__(/*! ../../math/Matrix3 */"./es/math/Matrix3.js");var _Matrix2=__webpack_require__(/*! ../../math/Matrix4 */"./es/math/Matrix4.js");var _Vector=__webpack_require__(/*! ../../math/Vector2 */"./es/math/Vector2.js");var _Vector2=__webpack_require__(/*! ../../math/Vector3 */"./es/math/Vector3.js");var _Vector3=__webpack_require__(/*! ../../math/Vector4 */"./es/math/Vector4.js");var _Texture=__webpack_require__(/*! ../../textures/Texture */"./es/textures/Texture.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var UniformsUtils=
/* */
function(){function UniformsUtils(){_classCallCheck(this,UniformsUtils)}_createClass(UniformsUtils,null,[{key:"merge",value:function merge(uniforms){var merged={};for(var u=0;u<uniforms.length;u++){var tmp=this.clone(uniforms[u]);for(var p in tmp){if(tmp.hasOwnProperty(p)){merged[p]=tmp[p]}}}return merged}},{key:"clone",value:function clone(uniformsSrc){var uniformsDst={};for(var u in uniformsSrc){if(!uniformsSrc.hasOwnProperty(u))continue;uniformsDst[u]={};for(var p in uniformsSrc[u]){if(!uniformsSrc[u].hasOwnProperty(p))continue;var parameterSrc=uniformsSrc[u][p];if(parameterSrc&&(parameterSrc instanceof _Color.Color||parameterSrc instanceof _Matrix.Matrix3||parameterSrc instanceof _Matrix2.Matrix4||parameterSrc instanceof _Vector.Vector2||parameterSrc instanceof _Vector2.Vector3||parameterSrc instanceof _Vector3.Vector4||parameterSrc instanceof _Texture.Texture)){uniformsDst[u][p]=parameterSrc.clone()}else if(Array.isArray(parameterSrc)){uniformsDst[u][p]=parameterSrc.slice()}else{uniformsDst[u][p]=parameterSrc}}}return uniformsDst}}]);return UniformsUtils}();exports.UniformsUtils=UniformsUtils;
/***/},
/***/"./es/renderers/webgl/WebGLAttributes.js":
/*!***********************************************!*\
  !*** ./es/renderers/webgl/WebGLAttributes.js ***!
  \***********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLAttributes=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLAttributes=
/* */
function(){function WebGLAttributes(context){_classCallCheck(this,WebGLAttributes);this.buffers={};this.context=context}_createClass(WebGLAttributes,[{key:"createBuffer",value:function createBuffer(attribute,bufferType){var gl=this.context;var array=attribute.array;var usage=attribute.dynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW;var buffer=gl.createBuffer();gl.bindBuffer(bufferType,buffer);gl.bufferData(bufferType,array,usage);// attribute.onUploadCallback();
var type=gl.FLOAT;if(array instanceof Float32Array){type=gl.FLOAT}else if(array instanceof Float64Array){console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.")}else if(array instanceof Uint16Array){type=gl.UNSIGNED_SHORT}else if(array instanceof Int16Array){type=gl.SHORT}else if(array instanceof Uint32Array){type=gl.UNSIGNED_INT}else if(array instanceof Int32Array){type=gl.INT}else if(array instanceof Int8Array){type=gl.BYTE}else if(array instanceof Uint8Array){type=gl.UNSIGNED_BYTE}return{buffer:buffer,type:type,bytesPerElement:array.BYTES_PER_ELEMENT,version:attribute.version}}},{key:"updateBuffer",value:function updateBuffer(buffer,attribute,bufferType){var gl=this.context;var array=attribute.array;var updateRange=attribute.updateRange;gl.bindBuffer(bufferType,buffer);if(attribute.dynamic===false){gl.bufferData(bufferType,array,gl.STATIC_DRAW)}else if(updateRange.count===-1){
// Not using update ranges
gl.bufferSubData(bufferType,0,array)}else if(updateRange.count===0){console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.")}else{gl.bufferSubData(bufferType,updateRange.offset*array.BYTES_PER_ELEMENT,array.subarray(updateRange.offset,updateRange.offset+updateRange.count));updateRange.count=-1;// reset range
}return this}},{key:"get",value:function get(attribute){return this.buffers[attribute.uuid]}},{key:"remove",value:function remove(attribute){var data=this.buffers[attribute.uuid];if(data){var gl=this.context;gl.deleteBuffer(data.buffer);delete this.buffers[attribute.uuid]}return this}},{key:"update",value:function update(attribute,bufferType){var data=this.buffers[attribute.uuid];if(data===undefined){this.buffers[attribute.uuid]=this.createBuffer(attribute,bufferType)}else if(data.version<attribute.version){this.updateBuffer(data.buffer,attribute,bufferType);data.version=attribute.version}return this}}]);return WebGLAttributes}();exports.WebGLAttributes=WebGLAttributes;
/***/},
/***/"./es/renderers/webgl/WebGLBackground.js":
/*!***********************************************!*\
  !*** ./es/renderers/webgl/WebGLBackground.js ***!
  \***********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLBackground=void 0;var _constants=__webpack_require__(/*! ../../constants */"./es/constants.js");var _Color=__webpack_require__(/*! ../../math/Color */"./es/math/Color.js");var _Texture=__webpack_require__(/*! ../../textures/Texture */"./es/textures/Texture.js");var _CubeTexture=__webpack_require__(/*! ../../textures/CubeTexture */"./es/textures/CubeTexture.js");var _Mesh=__webpack_require__(/*! ../../objects/Mesh */"./es/objects/Mesh.js");var _Geometries=__webpack_require__(/*! ../../geometries/Geometries */"./es/geometries/Geometries.js");var _Materials=__webpack_require__(/*! ../../materials/Materials */"./es/materials/Materials.js");var _ShaderLib=__webpack_require__(/*! ../shaders/ShaderLib */"./es/renderers/shaders/ShaderLib.js");var _OrthographicCamera=__webpack_require__(/*! ../../cameras/OrthographicCamera */"./es/cameras/OrthographicCamera.js");var _PlaneGeometry=__webpack_require__(/*! ../../geometries/PlaneGeometry */"./es/geometries/PlaneGeometry.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLBackground=
/* */
function(){function WebGLBackground(renderer,state,geometries,premultipliedAlpha){_classCallCheck(this,WebGLBackground);this.clearColor=(new _Color.Color).setHex(0);this.clearAlpha=0;this.renderer=renderer;this.state=state;this.geometries=geometries;this.premultipliedAlpha=premultipliedAlpha}_createClass(WebGLBackground,[{key:"getClearColor",value:function getClearColor(){return this.clearColor}},{key:"setClearColor",value:function setClearColor(color,alpha){this.clearColor.copy(color);this.clearAlpha=alpha!==undefined?alpha:1;this.setClear(this.clearColor,this.clearAlpha)}},{key:"getClearAlpha",value:function getClearAlpha(){return this.clearAlpha}},{key:"setClearAlpha",value:function setClearAlpha(alpha){this.clearAlpha=alpha;this.setClear(this.clearColor,this.clearAlpha)}},{key:"setClear",value:function setClear(color,alpha){this.state.buffers.color.setClear(color.r,color.g,color.b,alpha,this.premultipliedAlpha)}},{key:"render",value:function render(renderList,scene,camera,forceClear){var background=scene.background;var renderer=this.renderer;if(background===null){this.setClear(this.clearColor,this.clearAlpha)}else if(background&&background instanceof _Color.Color){this.setClear(background,1);forceClear=true}if(this.renderer.autoClear||forceClear){renderer.clear(this.renderer.autoClearColor,renderer.autoClearDepth,renderer.autoClearStencil)}if(background&&background instanceof _CubeTexture.CubeTexture){if(this.boxMesh===undefined){this.boxMesh=new _Mesh.Mesh(new _Geometries.BoxBufferGeometry(1,1,1),new _Materials.ShaderMaterial({uniforms:_ShaderLib.ShaderLib.cube.uniforms,vertexShader:_ShaderLib.ShaderLib.cube.vertexShader,fragmentShader:_ShaderLib.ShaderLib.cube.fragmentShader,side:_constants.BackSide,depthTest:true,depthWrite:false,fog:false}));this.boxMesh.geometry.removeAttribute("normal");this.boxMesh.geometry.removeAttribute("uv");this.boxMesh.onBeforeRender=function(renderer,scene,camera){this.matrixWorld.copyPosition(camera.matrixWorld)};this.geometries.update(this.boxMesh.geometry)}this.boxMesh.material.uniforms.tCube.value=background;renderList.push(this.boxMesh,this.boxMesh.geometry,this.boxMesh.material,0,null)}else if(background&&background instanceof _Texture.Texture){if(this.planeCamera===undefined){this.planeCamera=new _OrthographicCamera.OrthographicCamera(-1,1,1,-1,0,1);this.planeMesh=new _Mesh.Mesh(new _PlaneGeometry.PlaneBufferGeometry(2,2),new _Materials.MeshBasicMaterial({depthTest:false,depthWrite:false,fog:false}));this.geometries.update(this.planeMesh.geometry)}this.planeMesh.material.map=background;// TODO Push this to renderList
renderer.renderBufferDirect(this.planeCamera,null,this.planeMesh.geometry,this.planeMesh.material,this.planeMesh,null)}}}]);return WebGLBackground}();exports.WebGLBackground=WebGLBackground;
/***/},
/***/"./es/renderers/webgl/WebGLBufferRenderer.js":
/*!***************************************************!*\
  !*** ./es/renderers/webgl/WebGLBufferRenderer.js ***!
  \***************************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLBufferRenderer=void 0;var _InterleavedBufferAttribute=__webpack_require__(/*! ../../core/InterleavedBufferAttribute */"./es/core/InterleavedBufferAttribute.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLBufferRenderer=
/* */
function(){function WebGLBufferRenderer(context,extensions,infoRender){_classCallCheck(this,WebGLBufferRenderer);this.mode=0;this.context=context;this.extensions=extensions;this.infoRender=infoRender}_createClass(WebGLBufferRenderer,[{key:"setMode",value:function setMode(value){this.mode=value;return this}},{key:"render",value:function render(start,count){var gl=this.context;gl.drawArrays(this.mode,start,count);this.infoRender.calls++;this.infoRender.vertices+=count;if(this.mode===gl.TRIANGLES){this.infoRender.faces+=count/3}else if(this.mode===gl.POINTS){this.infoRender.points+=count}return this}},{key:"renderInstances",value:function renderInstances(geometry,start,count){var gl=this.context;var extension=this.extensions.get("ANGLE_instanced_arrays");if(extension===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return this}var position=geometry.attributes.position;if(position instanceof _InterleavedBufferAttribute.InterleavedBufferAttribute){count=position.count;extension.drawArraysInstancedANGLE(this.mode,0,count,geometry.maxInstancedCount)}else{extension.drawArraysInstancedANGLE(this.mode,start,count,geometry.maxInstancedCount)}this.infoRender.calls++;this.infoRender.vertices+=count*geometry.maxInstancedCount;if(this.mode===gl.TRIANGLES){this.infoRender.faces+=geometry.maxInstancedCount*count/3}else if(this.mode===gl.POINTS){this.infoRender.points+=geometry.maxInstancedCount*count}return this}}]);return WebGLBufferRenderer}();exports.WebGLBufferRenderer=WebGLBufferRenderer;
/***/},
/***/"./es/renderers/webgl/WebGLCapabilities.js":
/*!*************************************************!*\
  !*** ./es/renderers/webgl/WebGLCapabilities.js ***!
  \*************************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLCapabilities=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLCapabilities=
/* */
function(){function WebGLCapabilities(context,extensions,parameters){_classCallCheck(this,WebGLCapabilities);this.logarithmicDepthBuffer=false;this.maxTextures=0;this.maxVertexTextures=0;this.maxTextureSize=0;this.maxCubemapSize=0;this.maxAttributes=0;this.maxVertexUniforms=0;this.maxVaryings=0;this.maxFragmentUniforms=0;this.vertexTextures=false;this.floatFragmentTextures=false;this.floatVertexTextures=false;this.maxAnisotropy=0;this.context=context;this.extensions=extensions;this.precision=parameters.precision!==undefined?parameters.precision:"highp";this.maxPrecision=this.getMaxPrecision(this.precision);if(this.maxPrecision!==this.precision){console.warn("THREE.WebGLRenderer: ".concat(this.precision," not supported, using ").concat(this.maxPrecision," instead."));this.precision=this.maxPrecision}this.logarithmicDepthBuffer=parameters.logarithmicDepthBuffer===true;this.maxTextures=context.getParameter(context.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=context.getParameter(context.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=context.getParameter(context.MAX_TEXTURE_SIZE);this.maxCubemapSize=context.getParameter(context.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=context.getParameter(context.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=context.getParameter(context.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=context.getParameter(context.MAX_VARYING_VECTORS);this.maxFragmentUniforms=context.getParameter(context.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=this.maxVertexTextures>0;this.floatFragmentTextures=!!this.extensions.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;this.maxAnisotropy=this.getMaxAnisotropy()}_createClass(WebGLCapabilities,[{key:"getMaxPrecision",value:function getMaxPrecision(precision){var context=this.context;if(precision==="highp"){if(context.getShaderPrecisionFormat(context.VERTEX_SHADER,context.HIGH_FLOAT).precision>0&&context.getShaderPrecisionFormat(context.FRAGMENT_SHADER,context.HIGH_FLOAT).precision>0){return"highp"}precision="mediump"}if(precision==="mediump"){if(context.getShaderPrecisionFormat(context.VERTEX_SHADER,context.MEDIUM_FLOAT).precision>0&&context.getShaderPrecisionFormat(context.FRAGMENT_SHADER,context.MEDIUM_FLOAT).precision>0){return"mediump"}}return"lowp"}},{key:"getMaxAnisotropy",value:function getMaxAnisotropy(){var extension=this.extensions.get("EXT_texture_filter_anisotropic");if(extension!==null){return this.context.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else{return 0}}}]);return WebGLCapabilities}();exports.WebGLCapabilities=WebGLCapabilities;
/***/},
/***/"./es/renderers/webgl/WebGLClipping.js":
/*!*********************************************!*\
  !*** ./es/renderers/webgl/WebGLClipping.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLClipping=void 0;var _Plane=__webpack_require__(/*! ../../math/Plane */"./es/math/Plane.js");var _Matrix=__webpack_require__(/*! ../../math/Matrix3 */"./es/math/Matrix3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLClipping=
/* */
function(){function WebGLClipping(){_classCallCheck(this,WebGLClipping);this.globalState=null;this.numGlobalPlanes=0;this.localClippingEnabled=false;this.renderingShadows=false;this.uniform={value:null,needsUpdate:false};this.numPlanes=0;this.numIntersection=0}_createClass(WebGLClipping,[{key:"projectPlanes",value:function projectPlanes(planes,camera,dstOffset){var skipTransform=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var nPlanes=planes!==null?planes.length:0;var dstArray=null;if(nPlanes!==0){dstArray=this.uniform.value;if(skipTransform!==true||dstArray===null){var flatSize=dstOffset+nPlanes*4;var viewMatrix=camera.matrixWorldInverse;var viewNormalMatrix=(new _Matrix.Matrix3).getNormalMatrix(viewMatrix);if(dstArray===null||dstArray.length<flatSize){dstArray=new Float32Array(flatSize)}for(var i=0,i4=dstOffset;i!==nPlanes;++i,i4+=4){var plane=(new _Plane.Plane).copy(planes[i]).applyMatrix4(viewMatrix,viewNormalMatrix);plane.normal.toArray(dstArray,i4);dstArray[i4+3]=plane.constant}}this.uniform.value=dstArray;this.uniform.needsUpdate=true}this.numPlanes=nPlanes;return dstArray}},{key:"init",value:function init(planes,enableLocalClipping,camera){var enabled=planes.length!==0||enableLocalClipping||// enable state of previous frame - the clipping code has to
// run another frame in order to reset the state:
this.numGlobalPlanes!==0||this.localClippingEnabled;this.localClippingEnabled=enableLocalClipping;this.globalState=this.projectPlanes(planes,camera,0);this.numGlobalPlanes=planes.length;return enabled}},{key:"beginShadows",value:function beginShadows(){this.renderingShadows=true;this.projectPlanes(null)}},{key:"endShadows",value:function endShadows(){this.renderingShadows=false;this.resetGlobalState()}},{key:"resetGlobalState",value:function resetGlobalState(){if(this.uniform.value!==this.globalState){this.uniform.value=this.globalState;this.uniform.needsUpdate=this.numGlobalPlanes>0}this.numPlanes=this.numGlobalPlanes;this.numIntersection=0}},{key:"setState",value:function setState(planes,clipIntersection,clipShadows,camera,cache,fromCache){if(!this.localClippingEnabled||planes===null||planes.length===0||this.renderingShadows&&!clipShadows){
// there's no local clipping
if(this.renderingShadows){
// there's no global clipping
this.projectPlanes(null)}else{this.resetGlobalState()}}else{var nGlobal=this.renderingShadows?0:this.numGlobalPlanes,lGlobal=nGlobal*4;var dstArray=cache.clippingState||null;this.uniform.value=dstArray;// ensure unique state
dstArray=this.projectPlanes(planes,camera,lGlobal,fromCache);for(var i=0;i!==lGlobal;++i){dstArray[i]=this.globalState[i]}cache.clippingState=dstArray;this.numIntersection=clipIntersection?this.numPlanes:0;this.numPlanes+=nGlobal}}}]);return WebGLClipping}();exports.WebGLClipping=WebGLClipping;
/***/},
/***/"./es/renderers/webgl/WebGLExtensions.js":
/*!***********************************************!*\
  !*** ./es/renderers/webgl/WebGLExtensions.js ***!
  \***********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLExtensions=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLExtensions=
/* */
function(){function WebGLExtensions(context){_classCallCheck(this,WebGLExtensions);this.extensions={};this.context=context}_createClass(WebGLExtensions,[{key:"get",value:function get(name){var gl=this.context;if(this.extensions.hasOwnProperty(name)){return this.extensions[name]}var extension;switch(name){case"WEBGL_depth_texture":extension=gl.getExtension("WEBGL_depth_texture")||gl.getExtension("MOZ_WEBGL_depth_texture")||gl.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":extension=gl.getExtension("EXT_texture_filter_anisotropic")||gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":extension=gl.getExtension("WEBGL_compressed_texture_s3tc")||gl.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":extension=gl.getExtension("WEBGL_compressed_texture_pvrtc")||gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":extension=gl.getExtension("WEBGL_compressed_texture_etc1");break;default:extension=gl.getExtension(name)}if(extension===null){console.warn("THREE.WebGLRenderer: ".concat(name," extension not supported."))}this.extensions[name]=extension;return extension}}]);return WebGLExtensions}();exports.WebGLExtensions=WebGLExtensions;
/***/},
/***/"./es/renderers/webgl/WebGLGeometries.js":
/*!***********************************************!*\
  !*** ./es/renderers/webgl/WebGLGeometries.js ***!
  \***********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLGeometries=void 0;var _BufferAttribute=__webpack_require__(/*! ../../core/BufferAttribute */"./es/core/BufferAttribute.js");var _BufferGeometry=__webpack_require__(/*! ../../core/BufferGeometry */"./es/core/BufferGeometry.js");var _Geometry=__webpack_require__(/*! ../../core/Geometry */"./es/core/Geometry.js");var _utils=__webpack_require__(/*! ../../utils */"./es/utils.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLGeometries=
/* */
function(){function WebGLGeometries(context,attributes,infoMemory){_classCallCheck(this,WebGLGeometries);this.geometries={};this.wireframeAttributes={};this.context=context;this.attributes=attributes;this.infoMemory=infoMemory}_createClass(WebGLGeometries,[{key:"onGeometryDispose",value:function onGeometryDispose(event){var geometry=event.target;var bufferGeometry=this.geometries[geometry.id];if(bufferGeometry.index!==null){this.attributes.remove(bufferGeometry.index)}for(var name in bufferGeometry.attributes){if(!bufferGeometry.attributes.hasOwnProperty(name)){continue}this.attributes.remove(bufferGeometry.attributes[name])}geometry.removeEventListener("dispose",this.onGeometryDispose);delete this.geometries[geometry.id];// TODO Remove duplicate code
var attribute=this.wireframeAttributes[geometry.id];if(attribute){this.attributes.remove(attribute);delete this.wireframeAttributes[geometry.id]}attribute=this.wireframeAttributes[bufferGeometry.id];if(attribute){this.attributes.remove(attribute);delete this.wireframeAttributes[bufferGeometry.id]}this.infoMemory.geometries--}},{key:"get",value:function get(object,geometry){var bufferGeometry=this.geometries[geometry.id];if(bufferGeometry)return bufferGeometry;geometry.addEventListener("dispose",this.onGeometryDispose);if(geometry instanceof _BufferGeometry.BufferGeometry){bufferGeometry=geometry}else if(geometry instanceof _Geometry.Geometry){if(geometry.bufferGeometry===undefined){geometry.bufferGeometry=(new _BufferGeometry.BufferGeometry).setFromObject(object)}bufferGeometry=geometry.bufferGeometry}this.geometries[geometry.id]=bufferGeometry;this.infoMemory.geometries++;return bufferGeometry}},{key:"update",value:function update(geometry){var index=geometry.index;var geometryAttributes=geometry.attributes;if(index!==null){this.attributes.update(index,this.context.ELEMENT_ARRAY_BUFFER)}for(var name in geometryAttributes){if(!geometryAttributes.hasOwnProperty(name)){continue}this.attributes.update(geometryAttributes[name],this.context.ARRAY_BUFFER)}// morph targets
var morphAttributes=geometry.morphAttributes;for(var _name in morphAttributes){if(!morphAttributes.hasOwnProperty(_name)){continue}var array=morphAttributes[_name];for(var i=0,l=array.length;i<l;i++){this.attributes.update(array[i],this.context.ARRAY_BUFFER)}}return this}},{key:"getWireframeAttribute",value:function getWireframeAttribute(geometry){var attribute=this.wireframeAttributes[geometry.id];if(attribute)return attribute;var indices=[];if(geometry.index!==null){var array=geometry.index.array;for(var i=0,l=array.length;i<l;i+=3){var a=array[i];var b=array[i+1];var c=array[i+2];indices.push(a,b,b,c,c,a)}}else{var _array=geometry.attributes.position.array;for(var _i=0,_l=_array.length/3-1;_i<_l;_i+=3){var _a=_i;var _b=_i+1;var _c=_i+2;indices.push(_a,_b,_b,_c,_c,_a)}}attribute=new((0,_utils.arrayMax)(indices)>65535?_BufferAttribute.Uint32BufferAttribute:_BufferAttribute.Uint16BufferAttribute)(indices,1);this.attributes.update(attribute,this.context.ELEMENT_ARRAY_BUFFER);this.wireframeAttributes[geometry.id]=attribute;return attribute}}]);return WebGLGeometries}();exports.WebGLGeometries=WebGLGeometries;
/***/},
/***/"./es/renderers/webgl/WebGLIndexedBufferRenderer.js":
/*!**********************************************************!*\
  !*** ./es/renderers/webgl/WebGLIndexedBufferRenderer.js ***!
  \**********************************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLIndexedBufferRenderer=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLIndexedBufferRenderer=
/* */
function(){function WebGLIndexedBufferRenderer(context,extensions,infoRender){_classCallCheck(this,WebGLIndexedBufferRenderer);this.mode=0;this.type=0;this.bytesPerElement=0;this.context=context;this.extensions=extensions;this.infoRender=infoRender}_createClass(WebGLIndexedBufferRenderer,[{key:"setMode",value:function setMode(value){this.mode=value;return this}},{key:"setIndex",value:function setIndex(value){this.type=value.type;this.bytesPerElement=value.bytesPerElement;return this}},{key:"render",value:function render(start,count){var gl=this.context;gl.drawElements(this.mode,count,this.type,start*this.bytesPerElement);this.infoRender.calls++;this.infoRender.vertices+=count;if(this.mode===gl.TRIANGLES){this.infoRender.faces+=count/3}else if(this.mode===gl.POINTS){this.infoRender.points+=count}return this}},{key:"renderInstances",value:function renderInstances(geometry,start,count){var gl=this.context;var extension=this.extensions.get("ANGLE_instanced_arrays");if(extension===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return this}extension.drawElementsInstancedANGLE(this.mode,count,this.type,start*this.bytesPerElement,geometry.maxInstancedCount);this.infoRender.calls++;this.infoRender.vertices+=count*geometry.maxInstancedCount;if(this.mode===gl.TRIANGLES){this.infoRender.faces+=geometry.maxInstancedCount*count/3}else if(this.mode===gl.POINTS){this.infoRender.points+=geometry.maxInstancedCount*count}return this}}]);return WebGLIndexedBufferRenderer}();exports.WebGLIndexedBufferRenderer=WebGLIndexedBufferRenderer;
/***/},
/***/"./es/renderers/webgl/WebGLLights.js":
/*!*******************************************!*\
  !*** ./es/renderers/webgl/WebGLLights.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLLights=void 0;var _AmbientLight=__webpack_require__(/*! ../../lights/AmbientLight */"./es/lights/AmbientLight.js");var _DirectionalLight=__webpack_require__(/*! ../../lights/DirectionalLight */"./es/lights/DirectionalLight.js");var _HemisphereLight=__webpack_require__(/*! ../../lights/HemisphereLight */"./es/lights/HemisphereLight.js");var _PointLight=__webpack_require__(/*! ../../lights/PointLight */"./es/lights/PointLight.js");var _RectAreaLight=__webpack_require__(/*! ../../lights/RectAreaLight */"./es/lights/RectAreaLight.js");var _SpotLight=__webpack_require__(/*! ../../lights/SpotLight */"./es/lights/SpotLight.js");var _Color=__webpack_require__(/*! ../../math/Color */"./es/math/Color.js");var _Matrix=__webpack_require__(/*! ../../math/Matrix4 */"./es/math/Matrix4.js");var _Vector=__webpack_require__(/*! ../../math/Vector2 */"./es/math/Vector2.js");var _Vector2=__webpack_require__(/*! ../../math/Vector3 */"./es/math/Vector3.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var LightUniformsCache=
/* */
function(){function LightUniformsCache(){_classCallCheck(this,LightUniformsCache);this.lights={}}_createClass(LightUniformsCache,[{key:"get",value:function get(light){if(this.lights[light.id]!==undefined){return this.lights[light.id]}var uniforms;switch(light.type){case"DirectionalLight":uniforms={direction:new _Vector2.Vector3,color:new _Color.Color,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new _Vector.Vector2};break;case"SpotLight":uniforms={position:new _Vector2.Vector3,direction:new _Vector2.Vector3,color:new _Color.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new _Vector.Vector2};break;case"PointLight":uniforms={position:new _Vector2.Vector3,color:new _Color.Color,distance:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new _Vector.Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":uniforms={direction:new _Vector2.Vector3,skyColor:new _Color.Color,groundColor:new _Color.Color};break;case"RectAreaLight":uniforms={color:new _Color.Color,position:new _Vector2.Vector3,halfWidth:new _Vector2.Vector3,halfHeight:new _Vector2.Vector3};break}this.lights[light.id]=uniforms;return uniforms}}]);return LightUniformsCache}();var WebGLLights=
/* */
function(){function WebGLLights(){_classCallCheck(this,WebGLLights);this.cache=new LightUniformsCache;this.state={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]}}_createClass(WebGLLights,[{key:"setup",value:function setup(lights,shadows,camera){var vector3=new _Vector2.Vector3;var matrix4=new _Matrix.Matrix4;var matrix42=new _Matrix.Matrix4;var r=0,g=0,b=0;var state=this.state;var cache=this.cache;var directionalLength=0;var pointLength=0;var spotLength=0;var rectAreaLength=0;var hemisphereLength=0;var viewMatrix=camera.matrixWorldInverse;for(var i=0,l=lights.length;i<l;i++){var light=lights[i];var color=light.color;var intensity=light.intensity;var distance=light.distance;var shadowMap=light.shadow&&light.shadow.map?light.shadow.map.texture:null;if(light instanceof _AmbientLight.AmbientLight){r+=color.r*intensity;g+=color.g*intensity;b+=color.b*intensity}else if(light instanceof _DirectionalLight.DirectionalLight){var uniforms=cache.get(light);uniforms.color.copy(light.color).multiplyScalar(light.intensity);uniforms.direction.setFromMatrixPosition(light.matrixWorld);vector3.setFromMatrixPosition(light.target.matrixWorld);uniforms.direction.sub(vector3);uniforms.direction.transformDirection(viewMatrix);uniforms.shadow=light.castShadow;if(light.castShadow){var shadow=light.shadow;uniforms.shadowBias=shadow.bias;uniforms.shadowRadius=shadow.radius;uniforms.shadowMapSize=shadow.mapSize}state.directionalShadowMap[directionalLength]=shadowMap;state.directionalShadowMatrix[directionalLength]=light.shadow.matrix;state.directional[directionalLength]=uniforms;directionalLength++}else if(light instanceof _SpotLight.SpotLight){var _uniforms=cache.get(light);_uniforms.position.setFromMatrixPosition(light.matrixWorld);_uniforms.position.applyMatrix4(viewMatrix);_uniforms.color.copy(color).multiplyScalar(intensity);_uniforms.distance=distance;_uniforms.direction.setFromMatrixPosition(light.matrixWorld);vector3.setFromMatrixPosition(light.target.matrixWorld);_uniforms.direction.sub(vector3);_uniforms.direction.transformDirection(viewMatrix);_uniforms.coneCos=Math.cos(light.angle);_uniforms.penumbraCos=Math.cos(light.angle*(1-light.penumbra));_uniforms.decay=light.distance===0?0:light.decay;_uniforms.shadow=light.castShadow;if(light.castShadow){var _shadow=light.shadow;_uniforms.shadowBias=_shadow.bias;_uniforms.shadowRadius=_shadow.radius;_uniforms.shadowMapSize=_shadow.mapSize}state.spotShadowMap[spotLength]=shadowMap;state.spotShadowMatrix[spotLength]=light.shadow.matrix;state.spot[spotLength]=_uniforms;spotLength++}else if(light instanceof _RectAreaLight.RectAreaLight){var _uniforms2=cache.get(light);// (a) intensity is the total visible light emitted
// uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );
// (b) intensity is the brightness of the light
_uniforms2.color.copy(color).multiplyScalar(intensity);_uniforms2.position.setFromMatrixPosition(light.matrixWorld);_uniforms2.position.applyMatrix4(viewMatrix);// extract local rotation of light to derive width/height half vectors
matrix42.identity();matrix4.copy(light.matrixWorld);matrix4.premultiply(viewMatrix);matrix42.extractRotation(matrix4);_uniforms2.halfWidth.set(light.width*.5,0,0);_uniforms2.halfHeight.set(0,light.height*.5,0);_uniforms2.halfWidth.applyMatrix4(matrix42);_uniforms2.halfHeight.applyMatrix4(matrix42);// TODO (abelnation): RectAreaLight distance?
// uniforms.distance = distance;
state.rectArea[rectAreaLength]=_uniforms2;rectAreaLength++}else if(light instanceof _PointLight.PointLight){var _uniforms3=cache.get(light);_uniforms3.position.setFromMatrixPosition(light.matrixWorld);_uniforms3.position.applyMatrix4(viewMatrix);_uniforms3.color.copy(light.color).multiplyScalar(light.intensity);_uniforms3.distance=light.distance;_uniforms3.decay=light.distance===0?0:light.decay;_uniforms3.shadow=light.castShadow;if(light.castShadow){var _shadow2=light.shadow;_uniforms3.shadowBias=_shadow2.bias;_uniforms3.shadowRadius=_shadow2.radius;_uniforms3.shadowMapSize=_shadow2.mapSize;_uniforms3.shadowCameraNear=_shadow2.camera.near;_uniforms3.shadowCameraFar=_shadow2.camera.far}state.pointShadowMap[pointLength]=shadowMap;state.pointShadowMatrix[pointLength]=light.shadow.matrix;state.point[pointLength]=_uniforms3;pointLength++}else if(light instanceof _HemisphereLight.HemisphereLight){var _uniforms4=cache.get(light);_uniforms4.direction.setFromMatrixPosition(light.matrixWorld);_uniforms4.direction.transformDirection(viewMatrix);_uniforms4.direction.normalize();_uniforms4.skyColor.copy(light.color).multiplyScalar(intensity);_uniforms4.groundColor.copy(light.groundColor).multiplyScalar(intensity);state.hemi[hemisphereLength]=_uniforms4;hemisphereLength++}}state.ambient[0]=r;state.ambient[1]=g;state.ambient[2]=b;state.directional.length=directionalLength;state.spot.length=spotLength;state.rectArea.length=rectAreaLength;state.point.length=pointLength;state.hemi.length=hemisphereLength;state.hash=[directionalLength,pointLength,spotLength,rectAreaLength,hemisphereLength,shadows.length].join(",");return this}}]);return WebGLLights}();exports.WebGLLights=WebGLLights;
/***/},
/***/"./es/renderers/webgl/WebGLMorphtargets.js":
/*!*************************************************!*\
  !*** ./es/renderers/webgl/WebGLMorphtargets.js ***!
  \*************************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLMorphtargets=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLMorphtargets=
/* */
function(){function WebGLMorphtargets(context){_classCallCheck(this,WebGLMorphtargets);this.influencesList={};this.morphInfluences=new Float32Array(8);this.context=context}_createClass(WebGLMorphtargets,[{key:"update",value:function update(object,geometry,material,program){
/**
       * Another not well designed
       */
var objectInfluences=object.morphTargetInfluences;var length=objectInfluences.length;var influences=this.influencesList[geometry.id];if(influences===undefined){
// initialise list
influences=[];for(var i=0;i<length;i++){influences[i]=[i,0]}this.influencesList[geometry.id]=influences}var morphTargets=material.morphTargets&&geometry.morphAttributes.position;var morphNormals=material.morphNormals&&geometry.morphAttributes.normal;// Remove current morphAttributes
for(var _i=0;_i<length;_i++){var influence=influences[_i];if(influence[1]!==0){if(morphTargets)geometry.removeAttribute("morphTarget"+_i);if(morphNormals)geometry.removeAttribute("morphNormal"+_i)}}// Collect influences
for(var _i2=0;_i2<length;_i2++){var _influence=influences[_i2];_influence[0]=_i2;_influence[1]=objectInfluences[_i2]}influences.sort(function(a,b){return Math.abs(b[1])-Math.abs(a[1])});// Add morphAttributes
for(var _i3=0;_i3<8;_i3++){var _influence2=influences[_i3];if(_influence2){var index=_influence2[0];var value=_influence2[1];if(value){if(morphTargets)geometry.addAttribute("morphTarget"+_i3,morphTargets[index]);if(morphNormals)geometry.addAttribute("morphNormal"+_i3,morphNormals[index]);this.morphInfluences[_i3]=value;continue}}this.morphInfluences[_i3]=0}program.getUniforms().setValue("morphTargetInfluences",this.morphInfluences)}}]);return WebGLMorphtargets}();exports.WebGLMorphtargets=WebGLMorphtargets;
/***/},
/***/"./es/renderers/webgl/WebGLObjects.js":
/*!********************************************!*\
  !*** ./es/renderers/webgl/WebGLObjects.js ***!
  \********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLObjects=void 0;var _Geometry=__webpack_require__(/*! ../../core/Geometry */"./es/core/Geometry.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLObjects=
/* */
function(){function WebGLObjects(geometries,infoRender){_classCallCheck(this,WebGLObjects);this.updateList={};this.geometries=geometries;this.infoRender=infoRender}_createClass(WebGLObjects,[{key:"update",value:function update(object){var frame=this.infoRender.frame;var geometry=object.geometry;var bufferGeometry=this.geometries.get(object,geometry);// Update once per frame
if(this.updateList[bufferGeometry.id]!==frame){if(geometry instanceof _Geometry.Geometry){bufferGeometry.updateFromObject(object)}this.geometries.update(bufferGeometry);this.updateList[bufferGeometry.id]=frame}return bufferGeometry}},{key:"dispose",value:function dispose(){this.updateList={}}}]);return WebGLObjects}();exports.WebGLObjects=WebGLObjects;
/***/},
/***/"./es/renderers/webgl/WebGLProgram.js":
/*!********************************************!*\
  !*** ./es/renderers/webgl/WebGLProgram.js ***!
  \********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLProgramWrapper=void 0;var _ShaderChunk=__webpack_require__(/*! ../shaders/ShaderChunk */"./es/renderers/shaders/ShaderChunk.js");var _constants=__webpack_require__(/*! ../../constants */"./es/constants.js");var _RawShaderMaterial=__webpack_require__(/*! ../../materials/RawShaderMaterial */"./es/materials/RawShaderMaterial.js");var _WebGLShader=__webpack_require__(/*! ./WebGLShader */"./es/renderers/webgl/WebGLShader.js");var _WebGLUniforms=__webpack_require__(/*! ./WebGLUniforms */"./es/renderers/webgl/WebGLUniforms.js");var _Materials=__webpack_require__(/*! ../../materials/Materials */"./es/materials/Materials.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function generateDefines(defines){var chunks=[];for(var name in defines){if(!defines.hasOwnProperty(name)||defines[name]){chunks.push("#define "+name+" "+defines[name])}}return chunks.join("\n")}function generateExtensions(extensions,parameters,rendererExtensions){extensions=extensions||{};var chunks=[extensions.derivatives||parameters.envMapCubeUV||parameters.bumpMap||parameters.normalMap||parameters.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(extensions.fragDepth||parameters.logarithmicDepthBuffer)&&rendererExtensions.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",extensions.drawBuffers&&rendererExtensions.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(extensions.shaderTextureLOD||parameters.envMap)&&rendererExtensions.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return chunks.filter(filterEmptyLine).join("\n")}function getToneMappingFunction(functionName,toneMapping){var toneMappingName;switch(toneMapping){case _constants.LinearToneMapping:toneMappingName="Linear";break;case _constants.ReinhardToneMapping:toneMappingName="Reinhard";break;case _constants.Uncharted2ToneMapping:toneMappingName="Uncharted2";break;case _constants.CineonToneMapping:toneMappingName="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+toneMapping)}return"vec3 "+functionName+"( vec3 color ) { return "+toneMappingName+"ToneMapping( color ); }"}function filterEmptyLine(str){return str!==""}function getEncodingComponents(encoding){switch(encoding){case _constants.LinearEncoding:return["Linear","( value )"];case _constants.sRGBEncoding:return["sRGB","( value )"];case _constants.RGBEEncoding:return["RGBE","( value )"];case _constants.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case _constants.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case _constants.RGBDEncoding:return["RGBD","( value, 256.0 )"];case _constants.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+encoding)}}function getTexelDecodingFunction(functionName,encoding){var components=getEncodingComponents(encoding);return"vec4 "+functionName+"( vec4 value ) { return "+components[0]+"ToLinear"+components[1]+"; }"}function getTexelEncodingFunction(functionName,encoding){var components=getEncodingComponents(encoding);return"vec4 "+functionName+"( vec4 value ) { return LinearTo"+components[0]+components[1]+"; }"}function replaceLightNums(str,parameters){return str.replace(/NUM_DIR_LIGHTS/g,parameters.numDirLights+"").replace(/NUM_SPOT_LIGHTS/g,parameters.numSpotLights+"").replace(/NUM_RECT_AREA_LIGHTS/g,parameters.numRectAreaLights+"").replace(/NUM_POINT_LIGHTS/g,parameters.numPointLights+"").replace(/NUM_HEMI_LIGHTS/g,parameters.numHemiLights+"")}function parseIncludes(str){return str.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(match,include){var replace=_ShaderChunk.ShaderChunk[include];if(replace===undefined){throw new Error("Can not resolve #include <"+include+">")}return parseIncludes(replace)})}function unrollLoops(str){var pattern=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function replace(match,start,end,snippet){var unroll="";for(var i=parseInt(start,10);i<parseInt(end,10);i++){unroll+=snippet.replace(/\[ i \]/g,"[ "+i+" ]")}return unroll}return str.replace(pattern,replace)}function fetchAttributeLocations(gl,program){var attributes={};var n=gl.getProgramParameter(program,gl.ACTIVE_ATTRIBUTES);for(var i=0;i<n;i++){var info=gl.getActiveAttrib(program,i);var name=info.name;attributes[name]=gl.getAttribLocation(program,name)}return attributes}var programIdCount=0;var WebGLProgramWrapper=
/* */
function(){function WebGLProgramWrapper(renderer,extensions,code,material,shader,parameters){_classCallCheck(this,WebGLProgramWrapper);this.usedTimes=1;this.id=programIdCount++;this.renderer=renderer;var gl=renderer.context;var defines=material.defines;var vertexShader=shader.vertexShader;var fragmentShader=shader.fragmentShader;var shadowMapTypeDefine="SHADOWMAP_TYPE_BASIC";if(parameters.shadowMapType===_constants.PCFShadowMap){shadowMapTypeDefine="SHADOWMAP_TYPE_PCF"}else if(parameters.shadowMapType===_constants.PCFSoftShadowMap){shadowMapTypeDefine="SHADOWMAP_TYPE_PCF_SOFT"}var envMapTypeDefine="ENVMAP_TYPE_CUBE";var envMapModeDefine="ENVMAP_MODE_REFLECTION";var envMapBlendingDefine="ENVMAP_BLENDING_MULTIPLY";if(parameters.envMap){switch(material.envMap.mapping){case _constants.CubeReflectionMapping:case _constants.CubeRefractionMapping:envMapTypeDefine="ENVMAP_TYPE_CUBE";break;case _constants.CubeUVReflectionMapping:case _constants.CubeUVRefractionMapping:envMapTypeDefine="ENVMAP_TYPE_CUBE_UV";break;case _constants.EquirectangularReflectionMapping:case _constants.EquirectangularRefractionMapping:envMapTypeDefine="ENVMAP_TYPE_EQUIREC";break;case _constants.SphericalReflectionMapping:envMapTypeDefine="ENVMAP_TYPE_SPHERE";break}switch(material.envMap.mapping){case _constants.CubeRefractionMapping:case _constants.EquirectangularRefractionMapping:envMapModeDefine="ENVMAP_MODE_REFRACTION";break}switch(material.combine){case _constants.MultiplyOperation:envMapBlendingDefine="ENVMAP_BLENDING_MULTIPLY";break;case _constants.MixOperation:envMapBlendingDefine="ENVMAP_BLENDING_MIX";break;case _constants.AddOperation:envMapBlendingDefine="ENVMAP_BLENDING_ADD";break}}var gammaFactorDefine=renderer.gammaFactor>0?renderer.gammaFactor:1;var customExtensions=generateExtensions(material.extensions,parameters,extensions);var customDefines=generateDefines(defines);var program=gl.createProgram();var prefixVertex,prefixFragment;if(material instanceof _RawShaderMaterial.RawShaderMaterial){prefixVertex=[customDefines].filter(filterEmptyLine).join("\n");if(prefixVertex.length>0){prefixVertex+="\n"}prefixFragment=[customExtensions,customDefines].filter(filterEmptyLine).join("\n");if(prefixFragment.length>0){prefixFragment+="\n"}}else{prefixVertex=["precision "+parameters.precision+" float;","precision "+parameters.precision+" int;","#define SHADER_NAME "+shader.name,customDefines,parameters.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+gammaFactorDefine,"#define MAX_BONES "+parameters.maxBones,parameters.useFog&&parameters.fog?"#define USE_FOG":"",parameters.useFog&&parameters.fogExp?"#define FOG_EXP2":"",parameters.map?"#define USE_MAP":"",parameters.envMap?"#define USE_ENVMAP":"",parameters.envMap?"#define "+envMapModeDefine:"",parameters.lightMap?"#define USE_LIGHTMAP":"",parameters.aoMap?"#define USE_AOMAP":"",parameters.emissiveMap?"#define USE_EMISSIVEMAP":"",parameters.bumpMap?"#define USE_BUMPMAP":"",parameters.normalMap?"#define USE_NORMALMAP":"",parameters.displacementMap&&parameters.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",parameters.specularMap?"#define USE_SPECULARMAP":"",parameters.roughnessMap?"#define USE_ROUGHNESSMAP":"",parameters.metalnessMap?"#define USE_METALNESSMAP":"",parameters.alphaMap?"#define USE_ALPHAMAP":"",parameters.vertexColors?"#define USE_COLOR":"",parameters.flatShading?"#define FLAT_SHADED":"",parameters.skinning?"#define USE_SKINNING":"",parameters.useVertexTexture?"#define BONE_TEXTURE":"",parameters.morphTargets?"#define USE_MORPHTARGETS":"",parameters.morphNormals&&parameters.flatShading===false?"#define USE_MORPHNORMALS":"",parameters.doubleSided?"#define DOUBLE_SIDED":"",parameters.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+parameters.numClippingPlanes,parameters.shadowMapEnabled?"#define USE_SHADOWMAP":"",parameters.shadowMapEnabled?"#define "+shadowMapTypeDefine:"",parameters.sizeAttenuation?"#define USE_SIZEATTENUATION":"",parameters.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",parameters.logarithmicDepthBuffer&&extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(filterEmptyLine).join("\n");prefixFragment=[customExtensions,"precision "+parameters.precision+" float;","precision "+parameters.precision+" int;","#define SHADER_NAME "+shader.name,customDefines,parameters.alphaTest?"#define ALPHATEST "+parameters.alphaTest:"","#define GAMMA_FACTOR "+gammaFactorDefine,parameters.useFog&&parameters.fog?"#define USE_FOG":"",parameters.useFog&&parameters.fogExp?"#define FOG_EXP2":"",parameters.map?"#define USE_MAP":"",parameters.envMap?"#define USE_ENVMAP":"",parameters.envMap?"#define "+envMapTypeDefine:"",parameters.envMap?"#define "+envMapModeDefine:"",parameters.envMap?"#define "+envMapBlendingDefine:"",parameters.lightMap?"#define USE_LIGHTMAP":"",parameters.aoMap?"#define USE_AOMAP":"",parameters.emissiveMap?"#define USE_EMISSIVEMAP":"",parameters.bumpMap?"#define USE_BUMPMAP":"",parameters.normalMap?"#define USE_NORMALMAP":"",parameters.specularMap?"#define USE_SPECULARMAP":"",parameters.roughnessMap?"#define USE_ROUGHNESSMAP":"",parameters.metalnessMap?"#define USE_METALNESSMAP":"",parameters.alphaMap?"#define USE_ALPHAMAP":"",parameters.vertexColors?"#define USE_COLOR":"",parameters.gradientMap?"#define USE_GRADIENTMAP":"",parameters.flatShading?"#define FLAT_SHADED":"",parameters.doubleSided?"#define DOUBLE_SIDED":"",parameters.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+parameters.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(parameters.numClippingPlanes-parameters.numClipIntersection),parameters.shadowMapEnabled?"#define USE_SHADOWMAP":"",parameters.shadowMapEnabled?"#define "+shadowMapTypeDefine:"",parameters.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",parameters.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",parameters.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",parameters.logarithmicDepthBuffer&&extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",parameters.envMap&&extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",parameters.toneMapping!==_constants.NoToneMapping?"#define TONE_MAPPING":"",parameters.toneMapping!==_constants.NoToneMapping?_ShaderChunk.ShaderChunk["tonemapping_pars_fragment"]:"",parameters.toneMapping!==_constants.NoToneMapping?getToneMappingFunction("toneMapping",parameters.toneMapping):"",parameters.dithering?"#define DITHERING":"",parameters.outputEncoding||parameters.mapEncoding||parameters.envMapEncoding||parameters.emissiveMapEncoding?_ShaderChunk.ShaderChunk["encodings_pars_fragment"]:"",// this code is required here because it is used by the various encoding/decoding function defined below
parameters.mapEncoding?getTexelDecodingFunction("mapTexelToLinear",parameters.mapEncoding):"",parameters.envMapEncoding?getTexelDecodingFunction("envMapTexelToLinear",parameters.envMapEncoding):"",parameters.emissiveMapEncoding?getTexelDecodingFunction("emissiveMapTexelToLinear",parameters.emissiveMapEncoding):"",parameters.outputEncoding?getTexelEncodingFunction("linearToOutputTexel",parameters.outputEncoding):"",parameters.depthPacking?"#define DEPTH_PACKING "+material.depthPacking:"","\n"].filter(filterEmptyLine).join("\n")}vertexShader=parseIncludes(vertexShader);vertexShader=replaceLightNums(vertexShader,parameters);fragmentShader=parseIncludes(fragmentShader);fragmentShader=replaceLightNums(fragmentShader,parameters);if(!(material instanceof _Materials.ShaderMaterial)){vertexShader=unrollLoops(vertexShader);fragmentShader=unrollLoops(fragmentShader)}var vertexGlsl=prefixVertex+vertexShader;var fragmentGlsl=prefixFragment+fragmentShader;var glVertexShader=new _WebGLShader.WebGLShaderWrapper(gl,gl.VERTEX_SHADER,vertexGlsl).shader;var glFragmentShader=new _WebGLShader.WebGLShaderWrapper(gl,gl.FRAGMENT_SHADER,fragmentGlsl).shader;gl.attachShader(program,glVertexShader);gl.attachShader(program,glFragmentShader);// Force a particular attribute to index 0.
if(material.index0AttributeName!==undefined){gl.bindAttribLocation(program,0,material.index0AttributeName)}else if(parameters.morphTargets===true){
// programs with morphTargets displace position out of attribute 0
gl.bindAttribLocation(program,0,"position")}gl.linkProgram(program);var programLog=gl.getProgramInfoLog(program).trim();var vertexLog=gl.getShaderInfoLog(glVertexShader).trim();var fragmentLog=gl.getShaderInfoLog(glFragmentShader).trim();var runnable=true;var haveDiagnostics=true;// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );
// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );
if(gl.getProgramParameter(program,gl.LINK_STATUS)===false){runnable=false;console.error("THREE.WebGLProgram: shader error: ",gl.getError(),"gl.VALIDATE_STATUS",gl.getProgramParameter(program,gl.VALIDATE_STATUS),"gl.getProgramInfoLog",programLog,vertexLog,fragmentLog)}else if(programLog!==""){console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",programLog)}else if(vertexLog===""||fragmentLog===""){haveDiagnostics=false}if(haveDiagnostics){this.diagnostics={runnable:runnable,material:material,programLog:programLog,vertexShader:{log:vertexLog,prefix:prefixVertex},fragmentShader:{log:fragmentLog,prefix:prefixFragment}}}// clean up
gl.deleteShader(glVertexShader);gl.deleteShader(glFragmentShader);this.code=code;this.program=program;this.vertexShader=glVertexShader;this.fragmentShader=glFragmentShader}_createClass(WebGLProgramWrapper,[{key:"getAttributes",value:function getAttributes(){if(this.cachedAttributes===undefined){this.cachedAttributes=fetchAttributeLocations(this.renderer.context,this.program)}return this.cachedAttributes}},{key:"getUniforms",value:function getUniforms(){if(this.cachedUniforms===undefined){this.cachedUniforms=new _WebGLUniforms.WebGLUniformsWrapper(this.renderer,this.program)}return this.cachedUniforms}// free resource
},{key:"destroy",value:function destroy(){this.renderer.context.deleteProgram(this.program);this.program=undefined}}]);return WebGLProgramWrapper}();exports.WebGLProgramWrapper=WebGLProgramWrapper;
/***/},
/***/"./es/renderers/webgl/WebGLPrograms.js":
/*!*********************************************!*\
  !*** ./es/renderers/webgl/WebGLPrograms.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLPrograms=void 0;var _constants=__webpack_require__(/*! ../../constants */"./es/constants.js");var _SkinnedMesh=__webpack_require__(/*! ../../objects/SkinnedMesh */"./es/objects/SkinnedMesh.js");var _WebGLRenderTarget=__webpack_require__(/*! ../WebGLRenderTarget */"./es/renderers/WebGLRenderTarget.js");var _FogExp=__webpack_require__(/*! ../../scenes/FogExp2 */"./es/scenes/FogExp2.js");var _Texture=__webpack_require__(/*! ../../textures/Texture */"./es/textures/Texture.js");var _WebGLProgram=__webpack_require__(/*! ./WebGLProgram */"./es/renderers/webgl/WebGLProgram.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function getTextureEncodingFromMap(map,gammaOverrideLinear){var encoding;if(!map){encoding=_constants.LinearEncoding}else if(map instanceof _Texture.Texture){encoding=map.encoding}else if(map instanceof _WebGLRenderTarget.WebGLRenderTarget){console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.");encoding=map.texture.encoding}// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.
if(encoding===_constants.LinearEncoding&&gammaOverrideLinear){encoding=_constants.GammaEncoding}return encoding}var WebGLPrograms=
/* */
function(){function WebGLPrograms(renderer,extensions,capabilities){_classCallCheck(this,WebGLPrograms);this.programs=[];this.renderer=renderer;this.extensions=extensions;this.capabilities=capabilities}_createClass(WebGLPrograms,[{key:"allocateBones",value:function allocateBones(object){var skeleton=object.skeleton;var bones=skeleton.bones;if(this.capabilities.floatVertexTextures){return 1024}else{
// default for when object is not specified
// ( for example when prebuilding shader to be used with multiple objects )
//
//  - leave some extra space for other uniforms
//  - limit here is ANGLE's 254 max uniform vectors
//    (up to 54 should be safe)
var nVertexUniforms=this.capabilities.maxVertexUniforms;var nVertexMatrices=Math.floor((nVertexUniforms-20)/4);var maxBones=Math.min(nVertexMatrices,bones.length);if(maxBones<bones.length){console.warn("THREE.WebGLRenderer: Skeleton has "+bones.length+" bones. This GPU supports "+maxBones+".");return 0}return maxBones}}},{key:"getParameters",value:function getParameters(material,lights,shadows,fog,nClipPlanes,nClipIntersection,object){var renderer=this.renderer;var capabilities=this.capabilities;var shaderID=WebGLPrograms.shaderIDs[material.type];// heuristics to create shader parameters according to lights in the scene
// (not to blow over maxLights budget)
var maxBones=object instanceof _SkinnedMesh.SkinnedMesh?this.allocateBones(object):0;var precision=capabilities.precision;if(material.precision!==null){precision=capabilities.getMaxPrecision(material.precision);if(precision!==material.precision){console.warn("THREE.WebGLProgram.getParameters:",material.precision,"not supported, using",precision,"instead.")}}var currentRenderTarget=renderer.getRenderTarget();var parameters={shaderID:shaderID,precision:precision,supportsVertexTextures:capabilities.vertexTextures,outputEncoding:getTextureEncodingFromMap(!currentRenderTarget?null:currentRenderTarget.texture,renderer.gammaOutput),map:!!material.map,mapEncoding:getTextureEncodingFromMap(material.map,renderer.gammaInput),envMap:!!material.envMap,envMapMode:material.envMap&&material.envMap.mapping,envMapEncoding:getTextureEncodingFromMap(material.envMap,renderer.gammaInput),envMapCubeUV:!!material.envMap&&(material.envMap.mapping===_constants.CubeUVReflectionMapping||material.envMap.mapping===_constants.CubeUVRefractionMapping),lightMap:!!material.lightMap,aoMap:!!material.aoMap,emissiveMap:!!material.emissiveMap,emissiveMapEncoding:getTextureEncodingFromMap(material.emissiveMap,renderer.gammaInput),bumpMap:!!material.bumpMap,normalMap:!!material.normalMap,displacementMap:!!material.displacementMap,roughnessMap:!!material.roughnessMap,metalnessMap:!!material.metalnessMap,specularMap:!!material.specularMap,alphaMap:!!material.alphaMap,gradientMap:!!material.gradientMap,combine:material.combine,vertexColors:material.vertexColors,fog:!!fog,useFog:material.fog,fogExp:fog&&fog instanceof _FogExp.FogExp2,flatShading:material.flatShading,sizeAttenuation:material.sizeAttenuation,logarithmicDepthBuffer:capabilities.logarithmicDepthBuffer,skinning:material.skinning&&maxBones>0,maxBones:maxBones,useVertexTexture:capabilities.floatVertexTextures,morphTargets:material.morphTargets,morphNormals:material.morphNormals,maxMorphTargets:renderer.maxMorphTargets,maxMorphNormals:renderer.maxMorphNormals,numDirLights:lights.directional.length,numPointLights:lights.point.length,numSpotLights:lights.spot.length,numRectAreaLights:lights.rectArea.length,numHemiLights:lights.hemi.length,numClippingPlanes:nClipPlanes,numClipIntersection:nClipIntersection,dithering:material.dithering,shadowMapEnabled:renderer.shadowMap.enabled&&object.receiveShadow&&shadows.length>0,shadowMapType:renderer.shadowMap.type,toneMapping:renderer.toneMapping,physicallyCorrectLights:renderer.physicallyCorrectLights,premultipliedAlpha:material.premultipliedAlpha,alphaTest:material.alphaTest,doubleSided:material.side===_constants.DoubleSide,flipSided:material.side===_constants.BackSide,depthPacking:material.depthPacking!==undefined?material.depthPacking:false};return parameters}},{key:"getProgramCode",value:function getProgramCode(material,parameters){var array=[];if(parameters.shaderID){array.push(parameters.shaderID)}else{array.push(material.fragmentShader);array.push(material.vertexShader)}if(material.defines!==undefined){for(var name in material.defines){if(material.defines.hasOwnProperty(name)){array.push(name);array.push(material.defines[name])}}}for(var i=0;i<WebGLPrograms.parameterNames.length;i++){array.push(parameters[WebGLPrograms.parameterNames[i]])}array.push(material.onBeforeCompile.toString());array.push(this.renderer.gammaOutput);return array.join()}},{key:"acquireProgram",value:function acquireProgram(material,shader,parameters,code){var program;// Check if code has been already compiled
for(var p=0,pl=this.programs.length;p<pl;p++){var programInfo=this.programs[p];if(programInfo.code===code){program=programInfo;++program.usedTimes;break}}if(program===undefined){program=new _WebGLProgram.WebGLProgramWrapper(this.renderer,this.extensions,code,material,shader,parameters);this.programs.push(program)}return program}},{key:"releaseProgram",value:function releaseProgram(program){if(--program.usedTimes===0){
// Remove from unordered set
var i=this.programs.indexOf(program);this.programs[i]=this.programs[this.programs.length-1];this.programs.pop();// Free WebGL resources
program.destroy()}}}]);return WebGLPrograms}();exports.WebGLPrograms=WebGLPrograms;WebGLPrograms.shaderIDs={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"};WebGLPrograms.parameterNames=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];
/***/},
/***/"./es/renderers/webgl/WebGLProperties.js":
/*!***********************************************!*\
  !*** ./es/renderers/webgl/WebGLProperties.js ***!
  \***********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLProperties=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLProperties=
/* */
function(){function WebGLProperties(){_classCallCheck(this,WebGLProperties);this.properties={}}_createClass(WebGLProperties,[{key:"get",value:function get(object){var uuid=object.uuid;var map=this.properties[uuid];if(map===undefined){map={};this.properties[uuid]=map}return map}},{key:"remove",value:function remove(object){delete this.properties[object.uuid]}},{key:"dispose",value:function dispose(){this.properties={}}}]);return WebGLProperties}();exports.WebGLProperties=WebGLProperties;
/***/},
/***/"./es/renderers/webgl/WebGLRenderLists.js":
/*!************************************************!*\
  !*** ./es/renderers/webgl/WebGLRenderLists.js ***!
  \************************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLRenderLists=exports.WebGLRenderList=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLRenderList=
/* */
function(){function WebGLRenderList(){_classCallCheck(this,WebGLRenderList);this.opaque=[];this.transparent=[];this.renderItems=[];this.renderItemsIndex=0}_createClass(WebGLRenderList,[{key:"init",value:function init(){this.renderItemsIndex=0;this.opaque.length=0;this.transparent.length=0;return this}},{key:"push",value:function push(object,geometry,material,z,group){var renderItem=this.renderItems[this.renderItemsIndex];if(renderItem===undefined){renderItem={geometry:geometry,group:group,id:object.id,material:material,object:object,program:material.program,renderOrder:object.renderOrder,z:z};this.renderItems[this.renderItemsIndex]=renderItem}else{renderItem.id=object.id;renderItem.object=object;renderItem.geometry=geometry;renderItem.material=material;renderItem.program=material.program;renderItem.renderOrder=object.renderOrder;renderItem.z=z;renderItem.group=group}(material.transparent===true?this.transparent:this.opaque).push(renderItem);this.renderItemsIndex++}},{key:"sort",value:function sort(){if(this.opaque.length>1){this.opaque.sort(function(a,b){if(a.renderOrder!==b.renderOrder){return a.renderOrder-b.renderOrder}else if(a.program&&b.program&&a.program!==b.program){return a.program.id-b.program.id}else if(a.material.id!==b.material.id){return a.material.id-b.material.id}else if(a.z!==b.z){return a.z-b.z}else{return a.id-b.id}})}if(this.transparent.length>1){this.transparent.sort(function(a,b){if(a.renderOrder!==b.renderOrder){return a.renderOrder-b.renderOrder}if(a.z!==b.z){return b.z-a.z}else{return a.id-b.id}})}}}]);return WebGLRenderList}();exports.WebGLRenderList=WebGLRenderList;var WebGLRenderLists=
/* */
function(){function WebGLRenderLists(){_classCallCheck(this,WebGLRenderLists);this.lists={}}_createClass(WebGLRenderLists,[{key:"get",value:function get(scene,camera){var hash=scene.id+","+camera.id;var list=this.lists[hash];if(list===undefined){list=new WebGLRenderList;this.lists[hash]=list}return list}},{key:"dispose",value:function dispose(){this.lists={}}}]);return WebGLRenderLists}();exports.WebGLRenderLists=WebGLRenderLists;
/***/},
/***/"./es/renderers/webgl/WebGLShader.js":
/*!*******************************************!*\
  !*** ./es/renderers/webgl/WebGLShader.js ***!
  \*******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLShaderWrapper=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function addLineNumbers(str){var lines=str.split("\n");for(var i=0;i<lines.length;i++){lines[i]=i+1+": "+lines[i]}return lines.join("\n")}var WebGLShaderWrapper=function WebGLShaderWrapper(gl,type,str){_classCallCheck(this,WebGLShaderWrapper);var shader=gl.createShader(type);gl.shaderSource(shader,str);gl.compileShader(shader);if(gl.getShaderParameter(shader,gl.COMPILE_STATUS)===false){console.error("THREE.WebGLShader: Shader couldn't compile.")}if(gl.getShaderInfoLog(shader)!==""){console.warn("THREE.WebGLShader: gl.getShaderInfoLog() ".concat(type===gl.VERTEX_SHADER?"vertex":"fragment"," ").concat(gl.getShaderInfoLog(shader)," ").concat(addLineNumbers(str)))}this.shader=shader};exports.WebGLShaderWrapper=WebGLShaderWrapper;
/***/},
/***/"./es/renderers/webgl/WebGLShadowMap.js":
/*!**********************************************!*\
  !*** ./es/renderers/webgl/WebGLShadowMap.js ***!
  \**********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLShadowMap=void 0;var _constants=__webpack_require__(/*! ../../constants */"./es/constants.js");var _Frustum=__webpack_require__(/*! ../../math/Frustum */"./es/math/Frustum.js");var _Matrix=__webpack_require__(/*! ../../math/Matrix4 */"./es/math/Matrix4.js");var _Vector=__webpack_require__(/*! ../../math/Vector2 */"./es/math/Vector2.js");var _Vector2=__webpack_require__(/*! ../../math/Vector3 */"./es/math/Vector3.js");var _Vector3=__webpack_require__(/*! ../../math/Vector4 */"./es/math/Vector4.js");var _Materials=__webpack_require__(/*! ../../materials/Materials */"./es/materials/Materials.js");var _PointLight=__webpack_require__(/*! ../../lights/PointLight */"./es/lights/PointLight.js");var _WebGLRenderTarget=__webpack_require__(/*! ../WebGLRenderTarget */"./es/renderers/WebGLRenderTarget.js");var _SpotLightShadow=__webpack_require__(/*! ../../lights/SpotLightShadow */"./es/lights/SpotLightShadow.js");var _Mesh=__webpack_require__(/*! ../../objects/Mesh */"./es/objects/Mesh.js");var _Line=__webpack_require__(/*! ../../objects/Line */"./es/objects/Line.js");var _Points=__webpack_require__(/*! ../../objects/Points */"./es/objects/Points.js");var _BufferGeometry=__webpack_require__(/*! ../../core/BufferGeometry */"./es/core/BufferGeometry.js");var _SkinnedMesh=__webpack_require__(/*! ../../objects/SkinnedMesh */"./es/objects/SkinnedMesh.js");var _Geometry=__webpack_require__(/*! ../../core/Geometry */"./es/core/Geometry.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLShadowMap=
/* */
function(){function WebGLShadowMap(renderer,objects,maxTextureSize){_classCallCheck(this,WebGLShadowMap);this.type=_constants.PCFShadowMap;this.enabled=false;this.autoUpdate=true;this.needsUpdate=false;this.frustum=new _Frustum.Frustum;this.projScreenMatrix=new _Matrix.Matrix4;this.shadowMapSize=new _Vector.Vector2;this.lookTarget=new _Vector2.Vector3;this.lightPositionWorld=new _Vector2.Vector3;this.morphingFlag=1;this.skinningFlag=2;this.numberOfMaterialVariants=(this.morphingFlag|this.skinningFlag)+1;this.depthMaterials=new Array(this.numberOfMaterialVariants);this.distanceMaterials=new Array(this.numberOfMaterialVariants);this.materialCache={};this.renderer=renderer;this.objects=objects;this.maxShadowMapSize=new _Vector.Vector2(maxTextureSize,maxTextureSize);this.shadowSide={0:_constants.BackSide,1:_constants.FrontSide,2:_constants.DoubleSide};this.cubeDirections=[new _Vector2.Vector3(1,0,0),new _Vector2.Vector3(-1,0,0),new _Vector2.Vector3(0,0,1),new _Vector2.Vector3(0,0,-1),new _Vector2.Vector3(0,1,0),new _Vector2.Vector3(0,-1,0)];this.cubeUps=[new _Vector2.Vector3(0,1,0),new _Vector2.Vector3(0,1,0),new _Vector2.Vector3(0,1,0),new _Vector2.Vector3(0,1,0),new _Vector2.Vector3(0,0,1),new _Vector2.Vector3(0,0,-1)];this.cube2DViewPorts=[new _Vector3.Vector4,new _Vector3.Vector4,new _Vector3.Vector4,new _Vector3.Vector4,new _Vector3.Vector4,new _Vector3.Vector4];// init
for(var i=0;i!==this.numberOfMaterialVariants;i++){var useMorphing=(i&this.morphingFlag)!==0;var useSkinning=(i&this.skinningFlag)!==0;var depthMaterial=new _Materials.MeshDepthMaterial({depthPacking:_constants.RGBADepthPacking,morphTargets:useMorphing,skinning:useSkinning});this.depthMaterials[i]=depthMaterial;var distanceMaterial=new _Materials.MeshDistanceMaterial({morphTargets:useMorphing,skinning:useSkinning});this.distanceMaterials[i]=distanceMaterial}}_createClass(WebGLShadowMap,[{key:"getDepthMaterial",value:function getDepthMaterial(object,material,isPointLight,lightPositionWorld,shadowCameraNear,shadowCameraFar){var result=null;var materialVariants=this.depthMaterials;var customMaterial=object.customDepthMaterial;if(isPointLight){materialVariants=this.distanceMaterials;customMaterial=object.customDistanceMaterial}if(!customMaterial){var useMorphing=false;if(material.morphTargets){var geometry=object.geometry;if(geometry&&geometry instanceof _BufferGeometry.BufferGeometry){useMorphing=geometry.morphAttributes&&geometry.morphAttributes.position&&geometry.morphAttributes.position.length>0}else if(geometry&&geometry instanceof _Geometry.Geometry){useMorphing=geometry.morphTargets&&geometry.morphTargets.length>0}}if(object instanceof _SkinnedMesh.SkinnedMesh&&material.skinning===false){console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",object)}var useSkinning=object instanceof _SkinnedMesh.SkinnedMesh&&material.skinning;var variantIndex=0;if(useMorphing)variantIndex|=this.morphingFlag;if(useSkinning)variantIndex|=this.skinningFlag;result=materialVariants[variantIndex]}else{result=customMaterial}if(this.renderer.localClippingEnabled&&material.clipShadows===true&&material.clippingPlanes.length!==0){
// in this case we need a unique material instance reflecting the
// appropriate state
var keyA=result.uuid,keyB=material.uuid;var materialsForVariant=this.materialCache[keyA];if(materialsForVariant===undefined){materialsForVariant={};this.materialCache[keyA]=materialsForVariant}var cachedMaterial=materialsForVariant[keyB];if(cachedMaterial===undefined){cachedMaterial=result.clone();materialsForVariant[keyB]=cachedMaterial}result=cachedMaterial}result.visible=material.visible;result.wireframe=material.wireframe;result.side=material.shadowSide!==null?material.shadowSide:this.shadowSide[material.side];result.clipShadows=material.clipShadows;result.clippingPlanes=material.clippingPlanes;result.clipIntersection=material.clipIntersection;result.wireframeLinewidth=material.wireframeLinewidth;result.linewidth=material.linewidth;if(isPointLight&&result instanceof _Materials.MeshDistanceMaterial){result.referencePosition.copy(lightPositionWorld);result.nearDistance=shadowCameraNear;result.farDistance=shadowCameraFar}return result}
/**
     * Ambient lights cannot cast shadows.
     * Hemisphere lights cannot cast shadows.
     * RectAreaLight does not support shadows.
     */},{key:"render",value:function render(lights,scene,camera){if(this.enabled===false)return;if(this.autoUpdate===false&&this.needsUpdate===false)return;if(lights.length===0)return;// TODO Clean up (needed in case of contextlost)
var gl=this.renderer.context;var state=this.renderer.state;// Set GL state for depth map.
state.disable(gl.BLEND);state.buffers.color.setClear(1,1,1,1);state.buffers.depth.setTest(true);state.setScissorTest(false);// render depth map
var faceCount;for(var i=0,il=lights.length;i<il;i++){var light=lights[i];var shadow=light.shadow;var isPointLight=light instanceof _PointLight.PointLight;if(shadow===undefined){console.warn("THREE.WebGLShadowMap:",light,"has no shadow.");continue}var shadowCamera=shadow.camera;this.shadowMapSize.copy(shadow.mapSize);this.shadowMapSize.min(this.maxShadowMapSize);if(isPointLight){var vpWidth=this.shadowMapSize.x;var vpHeight=this.shadowMapSize.y;// These viewports map a cube-map onto a 2D texture with the
// following orientation:
//
//  xzXZ
//   y Y
//
// X - Positive x direction
// x - Negative x direction
// Y - Positive y direction
// y - Negative y direction
// Z - Positive z direction
// z - Negative z direction
// positive X
this.cube2DViewPorts[0].set(vpWidth*2,vpHeight,vpWidth,vpHeight);// negative X
this.cube2DViewPorts[1].set(0,vpHeight,vpWidth,vpHeight);// positive Z
this.cube2DViewPorts[2].set(vpWidth*3,vpHeight,vpWidth,vpHeight);// negative Z
this.cube2DViewPorts[3].set(vpWidth,vpHeight,vpWidth,vpHeight);// positive Y
this.cube2DViewPorts[4].set(vpWidth*3,0,vpWidth,vpHeight);// negative Y
this.cube2DViewPorts[5].set(vpWidth,0,vpWidth,vpHeight);this.shadowMapSize.x*=4;this.shadowMapSize.y*=2}if(shadow.map===null){var pars={minFilter:_constants.NearestFilter,magFilter:_constants.NearestFilter,format:_constants.RGBAFormat};shadow.map=new _WebGLRenderTarget.WebGLRenderTarget(this.shadowMapSize.x,this.shadowMapSize.y,pars);shadow.map.texture.name=light.name+".shadowMap";shadowCamera.updateProjectionMatrix()}
/**
         * Only SpotLight haa a shadow of SpotLightShadow
         */if(shadow instanceof _SpotLightShadow.SpotLightShadow){shadow.update(light)}var shadowMap=shadow.map;var shadowMatrix=shadow.matrix;this.lightPositionWorld.setFromMatrixPosition(light.matrixWorld);shadowCamera.position.copy(this.lightPositionWorld);if(isPointLight){faceCount=6;// for point lights we set the shadow matrix to be a translation-only matrix
// equal to inverse of the light's position
shadowMatrix.makeTranslation(-this.lightPositionWorld.x,-this.lightPositionWorld.y,-this.lightPositionWorld.z)}else{faceCount=1;
/**
           * Not PointLight
           */this.lookTarget.setFromMatrixPosition(light.target.matrixWorld);shadowCamera.lookAt(this.lookTarget);shadowCamera.updateMatrixWorld();// compute shadow matrix
shadowMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);shadowMatrix.multiply(shadowCamera.projectionMatrix);shadowMatrix.multiply(shadowCamera.matrixWorldInverse)}this.renderer.setRenderTarget(shadowMap);this.renderer.clear();// render shadow map for each cube face (if omni-directional) or
// run a single pass if not
for(var face=0;face<faceCount;face++){if(isPointLight){this.lookTarget.copy(shadowCamera.position);this.lookTarget.add(this.cubeDirections[face]);shadowCamera.up.copy(this.cubeUps[face]);shadowCamera.lookAt(this.lookTarget);shadowCamera.updateMatrixWorld();var vpDimensions=this.cube2DViewPorts[face];state.viewport(vpDimensions)}// update camera matrices and frustum
this.projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix,shadowCamera.matrixWorldInverse);this.frustum.setFromMatrix(this.projScreenMatrix);// set object matrices & frustum culling
this.renderObject(scene,camera,shadowCamera,isPointLight)}}this.needsUpdate=false}},{key:"renderObject",value:function renderObject(object,camera,shadowCamera,isPointLight){if(object.visible===false)return;var visible=object.layers.test(camera.layers);if(visible&&(object instanceof _Mesh.Mesh||object instanceof _Line.Line||object instanceof _Points.Points)){if(object.castShadow&&(!object.frustumCulled||this.frustum.intersectsObject(object))){object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse,object.matrixWorld);var geometry=this.objects.update(object);var material=object.material;if(Array.isArray(material)){var groups=geometry.groups;for(var k=0,kl=groups.length;k<kl;k++){var group=groups[k];var groupMaterial=material[group.materialIndex];if(groupMaterial&&groupMaterial.visible){var depthMaterial=this.getDepthMaterial(object,groupMaterial,isPointLight,this.lightPositionWorld,shadowCamera.near,shadowCamera.far);this.renderer.renderBufferDirect(shadowCamera,null,geometry,depthMaterial,object,group)}}}else if(material.visible){var _depthMaterial=this.getDepthMaterial(object,material,isPointLight,this.lightPositionWorld,shadowCamera.near,shadowCamera.far);this.renderer.renderBufferDirect(shadowCamera,null,geometry,_depthMaterial,object,null)}}}var children=object.children;for(var i=0,l=children.length;i<l;i++){this.renderObject(children[i],camera,shadowCamera,isPointLight)}}}]);return WebGLShadowMap}();exports.WebGLShadowMap=WebGLShadowMap;
/***/},
/***/"./es/renderers/webgl/WebGLSpriteRenderer.js":
/*!***************************************************!*\
  !*** ./es/renderers/webgl/WebGLSpriteRenderer.js ***!
  \***************************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLSpriteRenderer=void 0;var _CanvasTexture=__webpack_require__(/*! ../../textures/CanvasTexture */"./es/textures/CanvasTexture.js");var _Three=__webpack_require__(/*! ../../Three */"./es/Three.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLSpriteRenderer=
/* */
function(){function WebGLSpriteRenderer(renderer,state,textures,capabilities){_classCallCheck(this,WebGLSpriteRenderer);this.renderer=renderer;this.state=state;this.textures=textures;this.capabilities=capabilities}_createClass(WebGLSpriteRenderer,[{key:"init",value:function init(){var gl=this.renderer.context;var program=this.program;var vertices=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]);var faces=new Uint16Array([0,1,2,0,2,3]);this.vertexBuffer=gl.createBuffer();this.elementBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffer);gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.elementBuffer);gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,faces,gl.STATIC_DRAW);this.program=this.createProgram();this.attributes={position:gl.getAttribLocation(program,"position"),uv:gl.getAttribLocation(program,"uv")};this.uniforms={uvOffset:gl.getUniformLocation(program,"uvOffset"),uvScale:gl.getUniformLocation(program,"uvScale"),rotation:gl.getUniformLocation(program,"rotation"),scale:gl.getUniformLocation(program,"scale"),color:gl.getUniformLocation(program,"color"),map:gl.getUniformLocation(program,"map"),opacity:gl.getUniformLocation(program,"opacity"),modelViewMatrix:gl.getUniformLocation(program,"modelViewMatrix"),projectionMatrix:gl.getUniformLocation(program,"projectionMatrix"),fogType:gl.getUniformLocation(program,"fogType"),fogDensity:gl.getUniformLocation(program,"fogDensity"),fogNear:gl.getUniformLocation(program,"fogNear"),fogFar:gl.getUniformLocation(program,"fogFar"),fogColor:gl.getUniformLocation(program,"fogColor"),fogDepth:gl.getUniformLocation(program,"fogDepth"),alphaTest:gl.getUniformLocation(program,"alphaTest")};var canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");canvas.width=8;canvas.height=8;var context=canvas.getContext("2d");context.fillStyle="white";context.fillRect(0,0,8,8);this.texture=new _CanvasTexture.CanvasTexture(canvas)}},{key:"createProgram",value:function createProgram(){var gl=this.renderer.context;var program=gl.createProgram();var vertexShader=gl.createShader(gl.VERTEX_SHADER);var fragmentShader=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(vertexShader,["precision "+this.capabilities.precision+" float;","#define SHADER_NAME "+"SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n"));gl.shaderSource(fragmentShader,["precision "+this.capabilities.precision+" float;","#define SHADER_NAME "+"SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n"));gl.compileShader(vertexShader);gl.compileShader(fragmentShader);gl.attachShader(program,vertexShader);gl.attachShader(program,fragmentShader);gl.linkProgram(program);return program}},{key:"render",value:function render(sprites,scene,camera){var gl=this.renderer.context;var program=gl.createProgram();var attributes=this.attributes;var uniforms=this.uniforms;var state=this.state;if(sprites.length===0)return;// setup gl
if(program===undefined){this.init()}state.useProgram(program);state.initAttributes();state.enableAttribute(attributes.position);state.enableAttribute(attributes.uv);state.disableUnusedAttributes();state.disable(gl.CULL_FACE);state.enable(gl.BLEND);gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffer);gl.vertexAttribPointer(attributes.position,2,gl.FLOAT,false,2*8,0);gl.vertexAttribPointer(attributes.uv,2,gl.FLOAT,false,2*8,8);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.elementBuffer);gl.uniformMatrix4fv(uniforms.projectionMatrix,false,camera.projectionMatrix.elements);state.activeTexture(gl.TEXTURE0);gl.uniform1i(uniforms.map,0);var oldFogType=0;var sceneFogType=0;var fog=scene.fog;if(fog){gl.uniform3f(uniforms.fogColor,fog.color.r,fog.color.g,fog.color.b);if(fog instanceof _Three.Fog){gl.uniform1f(uniforms.fogNear,fog.near);gl.uniform1f(uniforms.fogFar,fog.far);gl.uniform1i(uniforms.fogType,1);oldFogType=1;sceneFogType=1}else if(fog instanceof _Three.FogExp2){gl.uniform1f(uniforms.fogDensity,fog.density);gl.uniform1i(uniforms.fogType,2);oldFogType=2;sceneFogType=2}}else{gl.uniform1i(uniforms.fogType,0);oldFogType=0;sceneFogType=0}// update positions and sort
for(var i=0,l=sprites.length;i<l;i++){var sprite=sprites[i];sprite.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,sprite.matrixWorld);sprite.z=-sprite.modelViewMatrix.elements[14]}sprites.sort(function(a,b){if(a.renderOrder!==b.renderOrder){return a.renderOrder-b.renderOrder}else if(a.z!==b.z){return b.z-a.z}else{return b.id-a.id}});// render all sprites
var scale=[];for(var _i=0,_l=sprites.length;_i<_l;_i++){var _sprite=sprites[_i];var material=_sprite.material;if(material.visible===false)continue;//sprite.onBeforeRender(this.renderer, scene, camera, undefined, material, undefined );
gl.uniform1f(uniforms.alphaTest,material.alphaTest);gl.uniformMatrix4fv(uniforms.modelViewMatrix,false,_sprite.modelViewMatrix.elements);var spritePosition=new _Three.Vector3;var spriteRotation=new _Three.Quaternion;var spriteScale=new _Three.Vector3;_sprite.matrixWorld.decompose(spritePosition,spriteRotation,spriteScale);scale[0]=spriteScale.x;scale[1]=spriteScale.y;var fogType=0;if(scene.fog&&material.fog){fogType=sceneFogType}if(oldFogType!==fogType){gl.uniform1i(uniforms.fogType,fogType);oldFogType=fogType}if(material.map!==null){gl.uniform2f(uniforms.uvOffset,material.map.offset.x,material.map.offset.y);gl.uniform2f(uniforms.uvScale,material.map.repeat.x,material.map.repeat.y)}else{gl.uniform2f(uniforms.uvOffset,0,0);gl.uniform2f(uniforms.uvScale,1,1)}gl.uniform1f(uniforms.opacity,material.opacity);gl.uniform3f(uniforms.color,material.color.r,material.color.g,material.color.b);gl.uniform1f(uniforms.rotation,material.rotation);gl.uniform2fv(uniforms.scale,scale);state.setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst,material.blendEquationAlpha,material.blendSrcAlpha,material.blendDstAlpha,material.premultipliedAlpha);state.buffers.depth.setTest(material.depthTest);state.buffers.depth.setMask(material.depthWrite);state.buffers.color.setMask(material.colorWrite);this.textures.setTexture2D(material.map||this.texture,0);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0);//sprite.onAfterRender( this.renderer, scene, camera, undefined, material, undefined );
}// restore gl
state.enable(gl.CULL_FACE);state.reset()}}]);return WebGLSpriteRenderer}();exports.WebGLSpriteRenderer=WebGLSpriteRenderer;
/***/},
/***/"./es/renderers/webgl/WebGLState.js":
/*!******************************************!*\
  !*** ./es/renderers/webgl/WebGLState.js ***!
  \******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLState=exports.StencilBuffer=exports.DepthBuffer=exports.ColorBuffer=void 0;var _constants=__webpack_require__(/*! ../../constants */"./es/constants.js");var _Vector=__webpack_require__(/*! ../../math/Vector4 */"./es/math/Vector4.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var ColorBuffer=
/* */
function(){function ColorBuffer(context){_classCallCheck(this,ColorBuffer);this.locked=false;this.color=new _Vector.Vector4;this.currentColorMask=null;this.currentColorClear=new _Vector.Vector4(0,0,0,0);this.context=context}_createClass(ColorBuffer,[{key:"setMask",value:function setMask(colorMask){if(this.currentColorMask!==colorMask&&!this.locked){this.context.colorMask(colorMask,colorMask,colorMask,colorMask);this.currentColorMask=colorMask}return this}},{key:"setLocked",value:function setLocked(lock){this.locked=lock;return this}},{key:"setClear",value:function setClear(r,g,b,a){var premultipliedAlpha=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(premultipliedAlpha===true){r*=a;g*=a;b*=a}this.color.set(r,g,b,a);if(this.currentColorClear.equals(this.color)===false){this.context.clearColor(r,g,b,a);this.currentColorClear.copy(this.color)}return this}},{key:"reset",value:function reset(){this.locked=false;this.currentColorMask=null;
/**
       * set to invalid state
       */this.currentColorClear.set(-1,0,0,0);return this}}]);return ColorBuffer}();exports.ColorBuffer=ColorBuffer;var DepthBuffer=
/* */
function(){function DepthBuffer(context,capabilities){_classCallCheck(this,DepthBuffer);this.locked=false;this.currentDepthMask=null;this.currentDepthFunc=null;this.currentDepthClear=null;this.context=context;this.capabilities=capabilities}_createClass(DepthBuffer,[{key:"setTest",value:function setTest(){var depthTest=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(depthTest){this.enable(this.context.DEPTH_TEST)}else{this.disable(this.context.DEPTH_TEST)}return this}},{key:"setMask",value:function setMask(depthMask){if(this.currentDepthMask!==depthMask&&!this.locked){this.context.depthMask(depthMask);this.currentDepthMask=depthMask}return this}
/**
     * 开启深度测试功能后才能设置对应的比较函数
     * 启用方式gl.enable(gl.DEPTH_TEST)
     * 用于指定深度缓冲比较值）
     GL_NEVER,不通过（输入的深度值不取代参考值）
     GL_LESS,如果输入的深度值小于参考值，则通过
     GL_EQUAL,如果输入的深度值等于参考值，则通过
     GL_LEQUAL,如果输入的深度值小于或等于参考值，则通过
     GL_GREATER,如果输入的深度值大于参考值，则通过
     GL_NOTEQUAL,如果输入的深度值不等于参考值，则通过
     GL_GEQUAL,如果输入的深度值大于或等于参考值，则通过
     GL_ALWAYS,总是通过（输入的深度值取代参考值）
     * Z Buffer 值为具体的比较对象，在不使用深度测试的时候，
     * 如果我们先绘制一个距离较近的物体，再绘制距离较远的物体，则距离远的物体因为后绘制，会把距离近的物体覆盖掉，这样的效果并不是我们所希望的。
     * 而有了深度缓冲以后，绘制物体的顺序就不那么重要了，都能按照远近（Z值）正常显示，这很关键。
     * 实际上，只要存在深度缓冲区，无论是否启用深度测试，OpenGL在像素被绘制时都会尝试将深度数据写入到缓冲区内，
     * 除非调用了glDepthMask(GL_FALSE)来禁止写入。这些深度数据除了用于常规的测试外，还可以有一些有趣的用途，比如绘制阴影等等。
     *
     * 绘制半透明物体时，需注意：在绘制半透明物体时前，还需要利用glDepthMask(GL_FALSE)将深度缓冲区设置为只读形式，
     * 否则可能出现画面错误。为什么呢，因为画透明物体时，将使用混色，这时就不能继续使用深度模式，
     * 而是利用混色函数来进行混合。这一来，就可以使用混合函数绘制半透明物体了。
     *
     * @param depthFunc
     */},{key:"setFunc",value:function setFunc(depthFunc){if(this.currentDepthFunc!==depthFunc){var gl=this.context;if(depthFunc){switch(depthFunc){case _constants.NeverDepth:gl.depthFunc(gl.NEVER);break;case _constants.AlwaysDepth:gl.depthFunc(gl.ALWAYS);break;case _constants.LessDepth:gl.depthFunc(gl.LESS);break;case _constants.LessEqualDepth:gl.depthFunc(gl.LEQUAL);break;case _constants.EqualDepth:gl.depthFunc(gl.EQUAL);break;case _constants.GreaterEqualDepth:gl.depthFunc(gl.GEQUAL);break;case _constants.GreaterDepth:gl.depthFunc(gl.GREATER);break;case _constants.NotEqualDepth:gl.depthFunc(gl.NOTEQUAL);break;default:gl.depthFunc(gl.LEQUAL)}}else{gl.depthFunc(gl.LEQUAL)}this.currentDepthFunc=depthFunc}return this}},{key:"setLocked",value:function setLocked(){var lock=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.locked=lock;return this}},{key:"setClear",value:function setClear(depth){if(this.currentDepthClear!==depth){this.context.clearDepth(depth);this.currentDepthClear=depth}return this}},{key:"reset",value:function reset(){this.locked=false;this.currentDepthMask=null;this.currentDepthFunc=null;this.currentDepthClear=null;return this}},{key:"enable",value:function enable(id){if(this.capabilities[id]!==true){this.context.enable(id);this.capabilities[id]=true}return this}},{key:"disable",value:function disable(id){if(this.capabilities[id]!==false){this.context.disable(id);this.capabilities[id]=false}return this}}]);return DepthBuffer}();exports.DepthBuffer=DepthBuffer;var StencilBuffer=
/* */
function(){function StencilBuffer(context,capabilities){_classCallCheck(this,StencilBuffer);this.locked=false;this.currentStencilMask=null;this.currentStencilFunc=null;this.currentStencilRef=null;this.currentStencilFuncMask=null;this.currentStencilFail=null;this.currentStencilZFail=null;this.currentStencilZPass=null;this.currentStencilClear=null;this.context=context;this.capabilities=capabilities}_createClass(StencilBuffer,[{key:"setTest",value:function setTest(stencilTest){if(stencilTest){this.enable(this.context.STENCIL_TEST)}else{this.disable(this.context.STENCIL_TEST)}return this}},{key:"setMask",value:function setMask(stencilMask){if(this.currentStencilMask!==stencilMask&&!this.locked){this.context.stencilMask(stencilMask);this.currentStencilMask=stencilMask}return this}},{key:"setFunc",value:function setFunc(stencilFunc,stencilRef,stencilMask){if(this.currentStencilFunc!==stencilFunc||this.currentStencilRef!==stencilRef||this.currentStencilFuncMask!==stencilMask){this.context.stencilFunc(stencilFunc,stencilRef,stencilMask);this.currentStencilFunc=stencilFunc;this.currentStencilRef=stencilRef;this.currentStencilFuncMask=stencilMask}return this}},{key:"setOp",value:function setOp(stencilFail,stencilZFail,stencilZPass){if(this.currentStencilFail!==stencilFail||this.currentStencilZFail!==stencilZFail||this.currentStencilZPass!==stencilZPass){this.context.stencilOp(stencilFail,stencilZFail,stencilZPass);this.currentStencilFail=stencilFail;this.currentStencilZFail=stencilZFail;this.currentStencilZPass=stencilZPass}return this}},{key:"setLocked",value:function setLocked(lock){this.locked=lock;return this}},{key:"setClear",value:function setClear(stencil){if(this.currentStencilClear!==stencil){this.context.clearStencil(stencil);this.currentStencilClear=stencil}return this}},{key:"reset",value:function reset(){this.locked=false;this.currentStencilMask=null;this.currentStencilFunc=null;this.currentStencilRef=null;this.currentStencilFuncMask=null;this.currentStencilFail=null;this.currentStencilZFail=null;this.currentStencilZPass=null;this.currentStencilClear=null;return this}},{key:"enable",value:function enable(id){if(this.capabilities[id]!==true){this.context.enable(id);this.capabilities[id]=true}return this}},{key:"disable",value:function disable(id){if(this.capabilities[id]!==false){this.context.disable(id);this.capabilities[id]=false}return this}}]);return StencilBuffer}();exports.StencilBuffer=StencilBuffer;var WebGLState=
/* */
function(){function WebGLState(context,extensions,utils){_classCallCheck(this,WebGLState);this.capabilities={};this.buffers={color:null,depth:null,stencil:null};this.lineWidthAvailable=false;this.currentScissor=new _Vector.Vector4;this.currentViewport=new _Vector.Vector4;this.emptyTextures={};this.currentFlipSided=null;this.currentCullFace=null;this.currentBlending=null;this.currentPremultipledAlpha=false;this.currentBlendEquation=null;this.currentBlendEquationAlpha=null;this.currentBlendSrc=null;this.currentBlendDst=null;this.currentBlendSrcAlpha=null;this.currentBlendDstAlpha=null;this.compressedTextureFormats=null;this.currentProgram=null;this.currentLineWidth=null;this.currentPolygonOffsetFactor=null;this.currentPolygonOffsetUnits=null;this.currentTextureSlot=null;this.currentBoundTextures={};this.context=context;this.extensions=extensions;this.utils=utils;this.buffers.color=new ColorBuffer(context);this.buffers.depth=new DepthBuffer(context,this.capabilities);this.buffers.stencil=new StencilBuffer(context,this.capabilities);this.maxVertexAttributes=context.getParameter(context.MAX_VERTEX_ATTRIBS);this.newAttributes=new Uint8Array(this.maxVertexAttributes);this.enabledAttributes=new Uint8Array(this.maxVertexAttributes);this.attributeDivisors=new Uint8Array(this.maxVertexAttributes);this.maxTextures=context.getParameter(context.MAX_COMBINED_TEXTURE_IMAGE_UNITS);this.version=parseFloat(/^WebGL\ ([0-9])/.exec(context.getParameter(context.VERSION))[1]);this.lineWidthAvailable=this.version>=1;this.emptyTextures[context.TEXTURE_2D]=this.createTexture(context.TEXTURE_2D,context.TEXTURE_2D,1);this.emptyTextures[context.TEXTURE_CUBE_MAP]=this.createTexture(context.TEXTURE_CUBE_MAP,context.TEXTURE_CUBE_MAP_POSITIVE_X,6);
/**
     * initialize
     */this.buffers.color.setClear(0,0,0,1);this.buffers.depth.setClear(1);this.buffers.stencil.setClear(0);this.enable(context.DEPTH_TEST);this.buffers.depth.setFunc(_constants.LessEqualDepth);this.setFlipSided(false);this.setCullFace(_constants.CullFaceBack);this.enable(context.CULL_FACE);this.enable(context.BLEND);this.setBlending(_constants.NormalBlending)}_createClass(WebGLState,[{key:"enable",value:function enable(id){if(this.capabilities[id]!==true){this.context.enable(id);this.capabilities[id]=true}return this}},{key:"disable",value:function disable(id){if(this.capabilities[id]!==false){this.context.disable(id);this.capabilities[id]=false}return this}
/**
     * 设置多边形的正反面（片元着色器？），这个和多边形的顶点连接顺序有关，CW为顺时针包围部分为正面，而CCW表示逆时针围绕部分为正面。
     * @param flipSided
     */},{key:"setFlipSided",value:function setFlipSided(){var flipSided=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var gl=this.context;if(this.currentFlipSided!==flipSided){if(flipSided){gl.frontFace(gl.CW)}else{gl.frontFace(gl.CCW)}this.currentFlipSided=flipSided}return this}
/**
     * FRONT、BACK两个参数分别表示禁用多边形正面或者背面上的光照、阴影和颜色计算及操作，消除不必要的渲染计算。
     * 例如某对象无论如何位置变化，我们都只能看到构成其组成的多边形的某一面时，可使用该函数。
     *
     * @param cullFace
     */},{key:"setCullFace",value:function setCullFace(cullFace){var gl=this.context;if(cullFace!==_constants.CullFaceNone){this.enable(gl.CULL_FACE);if(cullFace!==this.currentCullFace){if(cullFace===_constants.CullFaceBack){gl.cullFace(gl.BACK)}else if(cullFace===_constants.CullFaceFront){gl.cullFace(gl.FRONT)}else{gl.cullFace(gl.FRONT_AND_BACK)}}}else{this.disable(gl.CULL_FACE)}this.currentCullFace=cullFace;return this}
/**
     * 采用标准混合方式时, 将帧缓存中的颜色和输入片元的颜色合并起来, 得到新的帧缓存颜色.
     * 上面的函数用来指定其他数学运算,以计算帧缓存颜色和片元颜色的差, 它们中的最大值或最小值.
     * 指定如何混合帧缓存中的颜色和片元颜色.
     * Cs(Sr, Sg, Sb, Sa)和Cd(Dr,Dg,Db,Da)表示源颜色和目标颜色,
     * S(Source)和D(Destination)表示函数glBlendFunc()或glBlendFuncSeparate()指定的源混合因子和目标混合因子.
     *
     * GL_FUNC_ADD                      CsS + CdD
     * GL_FUNC_SUBTRACT                 CsS - CdD
     * GL_FUNC_REVERSE_SUBTRACT        CdD - CsS
     * GL_MIN                           min(CsS, CdD)
     * GL_MAX                           max(CsS, CdD)
     *
     * 将该四元组的各个分量截取到[0,1].
     *
     * 选择源混合因子和目标混合因子的方式:
     * 第一种方式是调用函数glBlendFunc(),并指定两个混合因子, 其中第一个参数为源RGBA的混合因子, 第二个参数为目标RGBA的混合因子.
     * void glBlendFunc(GLenum srcfactor, GLenum destfactor);
     *
     * 第二种方法是调用glBlendFuncSeparate()并指定4个混合因子, 这样可以用不同的方式来混合RGB和alpha值.
     * void glBlendFuncSeparate(GLenum srcRGB, GLenum destRGB, GLenum srcalpha, GLenum destalpha);
     *
     * 常量:                        RGB混合因子                        alpha混合因子
     * GL_ZERO:                    (0, 0, 0)                        0
     * GL_ONE:                    (1, 1, 1)                        1
     * GL_DST_COLOR:            (Rd, Gd, Bd)
     * GL_SRC_COLOR:            (Rs, Gs, Bs)                    A
     * GL_ONE_MINUS_DST_COLOR:    (1, 1, 1) - (Rd, Gd, Bd)
     * GL_ONE_MINUS_SRC_COLOR:    (1, 1, 1) - (Rs, Gs, Bs)        1 - A
     * GL_SRC_ALPHA:            (As,As,As,As)
     * GL_ONE_MINUS_SRC_ALPHA:    (1, 1, 1, 1) - (As,As,As,As)
     * GL_DST_ALPHA:            (Ad, Ad, Ad, Ad)
     * GL_ONE_MINUS_DST_ALPHA:    (1, 1, 1, 1) - (Ad, Ad, Ad, Ad)
     * GL_SRC_ALPHA_STATURATE:    (f, f, f, 1); f = min(As, 1 - Ad)
     *
     * @param blending
     * @param blendEquation
     * @param blendSrc
     * @param blendDst
     * @param blendEquationAlpha
     * @param blendSrcAlpha
     * @param blendDstAlpha
     * @param premultipliedAlpha
     */},{key:"setBlending",value:function setBlending(blending,blendEquation,blendSrc,blendDst,blendEquationAlpha,blendSrcAlpha,blendDstAlpha){var premultipliedAlpha=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;var gl=this.context;if(blending!==_constants.NoBlending){this.enable(gl.BLEND)}else{this.disable(gl.BLEND)}if(blending!==_constants.CustomBlending){if(blending!==this.currentBlending||premultipliedAlpha!==this.currentPremultipledAlpha){switch(blending){case _constants.AdditiveBlending:if(premultipliedAlpha){gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ONE,gl.ONE,gl.ONE,gl.ONE)}else{gl.blendEquation(gl.FUNC_ADD);gl.blendFunc(gl.SRC_ALPHA,gl.ONE)}break;case _constants.SubtractiveBlending:if(premultipliedAlpha){gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ZERO,gl.ZERO,gl.ONE_MINUS_SRC_COLOR,gl.ONE_MINUS_SRC_ALPHA)}else{gl.blendEquation(gl.FUNC_ADD);gl.blendFunc(gl.ZERO,gl.ONE_MINUS_SRC_COLOR)}break;case _constants.MultiplyBlending:if(premultipliedAlpha){gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ZERO,gl.SRC_COLOR,gl.ZERO,gl.SRC_ALPHA)}else{gl.blendEquation(gl.FUNC_ADD);gl.blendFunc(gl.ZERO,gl.SRC_COLOR)}break;default:if(premultipliedAlpha){gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ONE,gl.ONE_MINUS_SRC_ALPHA,gl.ONE,gl.ONE_MINUS_SRC_ALPHA)}else{gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA,gl.ONE,gl.ONE_MINUS_SRC_ALPHA)}}}this.currentBlendEquation=null;this.currentBlendSrc=null;this.currentBlendDst=null;this.currentBlendEquationAlpha=null;this.currentBlendSrcAlpha=null;this.currentBlendDstAlpha=null}else{blendEquationAlpha=blendEquationAlpha||blendEquation;blendSrcAlpha=blendSrcAlpha||blendSrc;blendDstAlpha=blendDstAlpha||blendDst;if(blendEquation!==this.currentBlendEquation||blendEquationAlpha!==this.currentBlendEquationAlpha){gl.blendEquationSeparate(this.utils.convert(blendEquation),this.utils.convert(blendEquationAlpha));this.currentBlendEquation=blendEquation;this.currentBlendEquationAlpha=blendEquationAlpha}if(blendSrc!==this.currentBlendSrc||blendDst!==this.currentBlendDst||blendSrcAlpha!==this.currentBlendSrcAlpha||blendDstAlpha!==this.currentBlendDstAlpha){gl.blendFuncSeparate(this.utils.convert(blendSrc),this.utils.convert(blendDst),this.utils.convert(blendSrcAlpha),this.utils.convert(blendDstAlpha));this.currentBlendSrc=blendSrc;this.currentBlendDst=blendDst;this.currentBlendSrcAlpha=blendSrcAlpha;this.currentBlendDstAlpha=blendDstAlpha}}this.currentBlending=blending;this.currentPremultipledAlpha=premultipliedAlpha;return this}},{key:"setMaterial",value:function setMaterial(material){var frontFaceCW=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var gl=this.context;material.side===_constants.DoubleSide?this.disable(gl.CULL_FACE):this.enable(gl.CULL_FACE);var flipSided=material.side===_constants.BackSide;if(frontFaceCW)flipSided=!flipSided;this.setFlipSided(flipSided);material.transparent===true?this.setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst,material.blendEquationAlpha,material.blendSrcAlpha,material.blendDstAlpha,material.premultipliedAlpha):this.setBlending(_constants.NoBlending);this.buffers.depth.setFunc(material.depthFunc);this.buffers.depth.setTest(material.depthTest);this.buffers.depth.setMask(material.depthWrite);this.buffers.depth.setMask(material.colorWrite);this.setPolygonOffset(material.polygonOffset,material.polygonOffsetFactor,material.polygonOffsetUnits);return this}},{key:"initAttributes",value:function initAttributes(){for(var i=0,l=this.newAttributes.length;i<l;i++){this.newAttributes[i]=0}return this}},{key:"enableAttribute",value:function enableAttribute(attribute){return this.enableAttributeAndDivisor(attribute)}},{key:"disableUnusedAttributes",value:function disableUnusedAttributes(){var gl=this.context;for(var i=0,l=this.enabledAttributes.length;i!==l;i++){if(this.enabledAttributes[i]!==this.newAttributes[i]){gl.disableVertexAttribArray(i);this.enabledAttributes[i]=0}}return this}
/**
     * @param attribute
     * @param meshPerAttribute
     */},{key:"enableAttributeAndDivisor",value:function enableAttributeAndDivisor(attribute){var meshPerAttribute=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.newAttributes[attribute]=1;if(this.enabledAttributes[attribute]===0){
/**
         * 处于性能的考虑默认情况下CPU即使上传数据到GPU，所有顶点着色器的属性（Attribute）变量都是关闭的。
         * glEnableVertexAttribArray决定了着色器能否读取到数据，由是否启用了对应的属性决定。
         * glEnableVertexAttribArray与glVertexAttribPointer是VAO（Vertex Array Objects）的处理函数，
         * glVertexAttribPointer负责告知GPU传入数据（VBO）的类型、大小、单位等信息。
         * glEnableVertexAttribArray与glVertexAttribPointer的调用顺序并不影响，
         * 只要在设置完VBO之后和drawCall之前即可。
         * 参数attribute，代表了需要传入的attribute的location信息。
         * 所以这里可以看出enabledAttributes顾名思义就是记录着那些location的attribute被启用了。
         * 而反观newAttributes，只要是使用过某个location的attribute，那么就会被永久占用为1，
         * 即使是reset也没有用，除非调用initAttributes。
         * 这么做是有道理的，因为MAX_VERTEX_ATTRIBS决定了系统最大的attribute数目，
         * 这就意味着attribute的个数不能超过这一数目。
         * 所以，推测reset的作用只是释放内存，并禁用所有的attribute。
         * 而每次useProgram之后由于shader的改变，所以都需要调用initAttributes，
         * 在Three.js的几个Renderer中，WebGLState的用法都是在切换过program之后，
         * 调用initAttributes，然后使用enableAttribute设置新的attribute，
         * 最后通过disableUnusedAttributes纠正状态。
         */
this.context.enableVertexAttribArray(attribute);this.enabledAttributes[attribute]=1}
/**
       * ANGLE_instanced_arrays是属于 WebGL API 的一个扩展API，
       * 如果使用它们提供了相同的顶点数据或者是原始的数目和类型的话，
       * 就可以绘制相同的对象或是被多次使用的相似的对象组。
       */if(this.attributeDivisors[attribute]!==meshPerAttribute){var extension=this.extensions.get("ANGLE_instanced_arrays");extension.vertexAttribDivisorANGLE(attribute,meshPerAttribute);this.attributeDivisors[attribute]=meshPerAttribute}return this}},{key:"getCompressedTextureFormats",value:function getCompressedTextureFormats(){if(this.compressedTextureFormats===null){this.compressedTextureFormats=[];if(this.extensions.get("WEBGL_compressed_texture_pvrtc")||this.extensions.get("WEBGL_compressed_texture_s3tc")||this.extensions.get("WEBGL_compressed_texture_etc1")||this.extensions.get("WEBGL_compressed_texture_astc")){var formats=this.context.getParameter(this.context.COMPRESSED_TEXTURE_FORMATS);for(var i=0;i<formats.length;i++){this.compressedTextureFormats.push(formats[i])}}}return this.compressedTextureFormats}},{key:"useProgram",value:function useProgram(program){if(this.currentProgram!==program){this.context.useProgram(program);this.currentProgram=program;return true}return false}},{key:"setLineWidth",value:function setLineWidth(width){if(width!==this.currentLineWidth){if(this.lineWidthAvailable)this.context.lineWidth(width);this.currentLineWidth=width}return this}
/**
     * 在OpenGL中，如果想绘制一个多边形同时绘制其边界，可是先使用多边形模式GL_FILL绘制物体，
     * 然后使用多边形模式GL_LINE和不同的颜色再次绘制这个多边形。
     * 但是由于直线和多边形的光栅化方式不同，导致位于同一位置的多边形和直线的深度值并不相同，
     * 进而导致直线有时在多边形的里面，有时在多边形的外面，这种现象就是"Stiching"。
     * 而Z-fighting主要是指当两个面共面时，二者的深度值一样，深度缓冲就不能清楚的将它们两者分离开来，
     * 位于后面的图元上的一些像素就会被渲染到前面的图元上，最终导致图象在帧与帧之间产生微弱的闪光。
     * 解决这两个问题的方法就是使用Polygon Offset，当然你也可以使用模板测试，但Polygon Offset的速度会比模板缓存快。
     * 启用了Polygon Offset，就表示在执行深度测试前多边形的深度值被稍微增加了一点点，
     * 这需要用glPolygonOffset来指定。glPolygonOffset需要2个参数：GLfloat factor 和GLfloat units。
     * 每一个Fragment的深度值都会增加如下所示的偏移量：offset = (m * factor) + (r * units)
     * m是多边形的深度的斜率（在光栅化阶段计算得出）中的最大值。
     * 这句话难以理解，你只需知道，一个多边形越是与近裁剪面（near clipping plan）平行，m就越接近0。
     * r是能产生在窗口坐标系的深度值中可分辨的差异的最小值，r是由具体实现OpenGL的平台指定的一个常量。
     * 一个大于0的offset 会把模型推到离你（摄像机）更远一点的位置，相应地，一个小于0的offset 会把模型拉近。
     * 如果想要非常好地使用Polygon Offset，你需要做一些数学上的研究。
     * 不过一般而言，只需把1.0和0.0这样简单的值赋给glPolygonOffset即可满足需要。
     *
     * @param polygonOffset
     * @param factor
     * @param units
     */},{key:"setPolygonOffset",value:function setPolygonOffset(polygonOffset,factor,units){var gl=this.context;if(polygonOffset){this.enable(gl.POLYGON_OFFSET_FILL);if(this.currentPolygonOffsetFactor!==factor||this.currentPolygonOffsetUnits!==units){gl.polygonOffset(factor,units);this.currentPolygonOffsetFactor=factor;this.currentPolygonOffsetUnits=units}}else{this.disable(gl.POLYGON_OFFSET_FILL)}return this}},{key:"setScissorTest",value:function setScissorTest(scissorTest){if(scissorTest){this.enable(this.context.SCISSOR_TEST)}else{this.disable(this.context.SCISSOR_TEST)}return this}},{key:"activeTexture",value:function activeTexture(slot){var gl=this.context;if(slot===undefined)slot=gl.TEXTURE0+this.maxTextures-1;
/**
       * 最后一个贴图空间用来做杂活...
       */if(this.currentTextureSlot!==slot){gl.activeTexture(slot);this.currentTextureSlot=slot}return this}},{key:"bindTexture",value:function bindTexture(type,texture){if(this.currentTextureSlot===null){this.activeTexture()}var boundTexture=this.currentBoundTextures[this.currentTextureSlot];if(boundTexture===undefined){boundTexture={type:undefined,texture:undefined};this.currentBoundTextures[this.currentTextureSlot]=boundTexture}if(boundTexture.type!==type||boundTexture.texture!==texture){this.context.bindTexture(type,texture||this.emptyTextures[type]);boundTexture.type=type;boundTexture.texture=texture}return this}},{key:"compressedTexImage2D",value:function compressedTexImage2D(target,level,internalformat,width,height,border,data){
/**
       * 所支持压缩纹理格式数量可以查询GL_NUM_COMPRESSED_TEXTURE_FORMATS值来获取。
       * 所支持的压缩格式列表可以查询GL_COMPRESSED_TEXTURE_FORMATS值来获取。
       * getCompressedTextureFormats函数也是相关信息的查询工具
       */
try{this.context.compressedTexImage2D(target,level,internalformat,width,height,border,data)}catch(error){console.error("THREE.WebGLState: ".concat(error))}return this}},{key:"texImage2D",value:function texImage2D(target,level,internalformat,a,b,c,format,type,pixels){
/**
       * 2D贴图，这里有重载是因为DOM的特殊关系，ImageBitmap | ImageData | HTMLVideoElement | HTMLImageElement | HTMLCanvasElement这些属性都有width，height属性包含在内，
       * 而border值必须为0 ㄟ( ▔, ▔ )ㄏ
       * 而且实际上internalformat与format的值必须一致 ㄟ( ▔, ▔ )ㄏ
       * target的值必须为TEXTURE_2D与TEXTURE_CUBE_MAP_(NEGATIVE|POSITIVE)_(X|Y|Z)—之一
       *
       * Mipmap是一个功能强大的纹理技术，它可以提高渲染的性能以及提升场景的视觉质量。它可以用来解决使用一般的纹理贴图会出现的两个常见的问题：
       *  1. 闪烁，当屏幕上被渲染物体的表面与它所应用的纹理图像相比显得非常小时，就会出现闪烁。尤其当相机和物体在移动的时候，这种负面效果更容易被看到。
       *  2. 性能问题。加载了大量的纹理数据之后，还要对其进行过滤处理（缩小），在屏幕上显示的只是一小部分。纹理越大，所造成的性能影响就越大。
       * Mipmap就可以解决上面那两个问题。当加载纹理的时候，不单单是加载一个纹理，而是加载一系列从大到小的纹理当mipmapped纹理状态中。
       * 然后OpenGl会根据给定的几何图像的大小选择最合适的纹理。Mipmap是把纹理按照2的倍数进行缩放，直到图像为1x1的大小，然后把这些图都存储起来，当要使用的就选择一个合适的图像。
       * 这会增加一些额外的内存。在正方形的纹理贴图中使用mipmap技术，大概要比原先多出三分之一的内存空间。
       *
       * Mipmap的纹理过滤模式如下表：
       * 常量	描述
       * GL_NEAREST	在mip基层上使用最邻近过滤
       * GL_LINEAR	在mip基层上使用线性过滤
       * GL_NEAREST_MIPMAP_NEAREST	选择最邻近的mip层，并使用最邻近过滤
       * GL_NEAREST_MIPMAP_LINEAR	在mip层之间使用线性插值和最邻近过滤
       * GL_LINEAR_MIPMAP_NEAREST	选择最邻近的mip层，使用线性过滤
       * GL_LINEAR_MIPMAP_LINEAR	在mip层之间使用线性插值和使用线性过滤，又称三线性mipmap
       * 如果纹理过滤选择为GL_NEAREST或GL_LINEAR模式，那么只有基层的纹理会被加载，其他的纹理将会被忽略。
       * 我们必须指定其中一个mipmap过滤器，这样才能使用所有已加载的纹理。
       * 这个mipmap过滤器的常量是GL_[FILTER]_MIPMAP_[SELECTOR[的形式。
       * 其中FLILTER指定了过滤模式，SELECTOR指定了如何选择mipmap层。例如GL_NEAREST_MIPMAP_LINEAR模式，
       * 它的SELECTOR是GL_LINEAR，它会在两个最邻近的mip层中执行线性插值，然后得出的结果又由被选择的过滤器GL_NEAREST进行过滤。
       *
       * 其中GL_NEAREST_MIPMAP_NEAAREST具有很好的性能，也能够解决闪烁的问题，但在视觉效果上会比较差。
       * 其中GL_LINEAR_MIPMAP_NEAREST常用于游戏加速，使用了质量较高的线性过滤，和快速的选择的方式(最邻近方式）。
       * 使用最邻近的方式作为mipmap选择器的效果依然不能令人满意。从某一个角度去看，常常可以看到物体表面从一个mip层到另一个mip层的转变。
       * GL_LINEAR_MIPMAP_LINEAR和GL_NEAREST_MIPMAP_LINEAR过滤器在mip层之间执行一些额外的线性插值，以消除不同层之间的变换痕迹，但也需要一些额外的性能开销。
       * GL_LINEAR_MIPMAP_LINEAR具有最高的精度。
       *
       * 所以level参数就是用来指定这是低级级缩略图的，0代表基本，log_{2}(GL_MAX_TEXTURE_SIZE)为最大允许值
       */
try{this.context.texImage2D(target,level,internalformat,a,b,c,format,type,pixels)}catch(error){console.error("THREE.WebGLState: ".concat(error))}return this}},{key:"scissor",value:function scissor(_scissor){
/**
       * 对屏幕进行剪裁，x,y为起点，z,w分别表示width和height
       * 剪裁功能
       */
if(this.currentScissor.equals(_scissor)===false){this.context.scissor(_scissor.x,_scissor.y,_scissor.z,_scissor.w);this.currentScissor.copy(_scissor)}return this}},{key:"viewport",value:function viewport(_viewport){
/**
       * 打开窗口的整个像素矩形，x,y为起点，z,w分别表示width和height
       * 缩放功能
       */
if(this.currentViewport.equals(_viewport)===false){this.context.viewport(_viewport.x,_viewport.y,_viewport.z,_viewport.w);this.currentViewport.copy(_viewport)}return this}},{key:"reset",value:function reset(){for(var i=0;i<this.enabledAttributes.length;i++){if(this.enabledAttributes[i]===1){this.context.disableVertexAttribArray(i);this.enabledAttributes[i]=0}}this.capabilities={};this.compressedTextureFormats=null;this.currentTextureSlot=null;this.currentBoundTextures={};this.currentProgram=null;this.currentBlending=null;this.currentFlipSided=null;this.currentCullFace=null;this.buffers.color.reset();this.buffers.depth.reset();this.buffers.stencil.reset();return this}},{key:"createTexture",value:function createTexture(type,target,count){var gl=this.context;
/**
       * 4 is required to match default unpack alignment of 4.
       * @type {Uint8Array}
       */var data=new Uint8Array(4);var texture=gl.createTexture();gl.bindTexture(type,texture);gl.texParameteri(type,gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.texParameteri(type,gl.TEXTURE_MAG_FILTER,gl.NEAREST);for(var i=0;i<count;i++){gl.texImage2D(target+i,0,gl.RGBA,1,1,0,gl.RGBA,gl.UNSIGNED_BYTE,data)}return texture}}]);return WebGLState}();exports.WebGLState=WebGLState;
/***/},
/***/"./es/renderers/webgl/WebGLTextures.js":
/*!*********************************************!*\
  !*** ./es/renderers/webgl/WebGLTextures.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLTextures=void 0;var _constants=__webpack_require__(/*! ../../constants */"./es/constants.js");var _Math=__webpack_require__(/*! ../../math/Math */"./es/math/Math.js");var _VideoTexture=__webpack_require__(/*! ../../textures/VideoTexture */"./es/textures/VideoTexture.js");var _WebGLRenderTargetCube=__webpack_require__(/*! ../WebGLRenderTargetCube */"./es/renderers/WebGLRenderTargetCube.js");var _DepthTexture=__webpack_require__(/*! ../../textures/DepthTexture */"./es/textures/DepthTexture.js");var _DataTexture=__webpack_require__(/*! ../../textures/DataTexture */"./es/textures/DataTexture.js");var _CompressedTexture=__webpack_require__(/*! ../../textures/CompressedTexture */"./es/textures/CompressedTexture.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function clampToMaxSize(image,maxSize){if(image.width>maxSize||image.height>maxSize){var scale=maxSize/Math.max(image.width,image.height);if(image instanceof HTMLImageElement||image instanceof HTMLCanvasElement||image instanceof ImageBitmap){
// Warning: Scaling through the canvas will only work with images that use
// premultiplied alpha.
var canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");canvas.width=Math.max(Math.floor(image.width*scale),1);canvas.height=Math.max(Math.floor(image.height*scale),1);var context=canvas.getContext("2d");context.drawImage(image,0,0,image.width,image.height,0,0,canvas.width,canvas.height);console.warn("THREE.WebGLRenderer: image is too big ("+image.width+"x"+image.height+"). Resized to "+canvas.width+"x"+canvas.height,image);return canvas}else{
// https://github.com/mrdoob/three.js/issues/13454#issuecomment-369244843
var width=Math.max(Math.floor(image.width*scale),1);var height=Math.max(Math.floor(image.height*scale),1);console.warn("THREE.WebGLRenderer: image is too big ("+image.width+"x"+image.height+").",image)}}return image}function isPowerOfTwo(image){return _Math.MathUtil.isPowerOfTwo(image.width)&&_Math.MathUtil.isPowerOfTwo(image.height)}function makePowerOfTwo(image){if(image instanceof HTMLImageElement||image instanceof HTMLCanvasElement||image instanceof ImageBitmap){var canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");canvas.width=_Math.MathUtil.floorPowerOfTwo(image.width);canvas.height=_Math.MathUtil.floorPowerOfTwo(image.height);var context=canvas.getContext("2d");context.drawImage(image,0,0,canvas.width,canvas.height);console.warn("THREE.WebGLRenderer: image is not power of two ("+image.width+"x"+image.height+"). Resized to "+canvas.width+"x"+canvas.height,image);return canvas}return image}function textureNeedsPowerOfTwo(texture){return texture.wrapS!==_constants.ClampToEdgeWrapping||texture.wrapT!==_constants.ClampToEdgeWrapping||texture.minFilter!==_constants.NearestFilter&&texture.minFilter!==_constants.LinearFilter}function textureNeedsGenerateMipmaps(texture,isPowerOfTwo){return texture.generateMipmaps&&isPowerOfTwo&&texture.minFilter!==_constants.NearestFilter&&texture.minFilter!==_constants.LinearFilter}var WebGLTextures=
/* */
function(){function WebGLTextures(context,extensions,state,properties,capabilities,utils,infoMemory,infoRender){var _this=this;_classCallCheck(this,WebGLTextures);this.videoTextures={};this.onTextureDispose=function(event){var texture=event.target;texture.removeEventListener("dispose",_this.onTextureDispose);_this.deallocateTexture(texture);if(texture instanceof _VideoTexture.VideoTexture){delete _this.videoTextures[texture.id]}_this.infoMemory.textures--};this.onRenderTargetDispose=function(event){var renderTarget=event.target;renderTarget.removeEventListener("dispose",_this.onRenderTargetDispose);_this.deallocateRenderTarget(renderTarget);_this.infoMemory.textures--};this.context=context;this.extensions=extensions;this.properties=properties;this.capabilities=capabilities;this.utils=utils;this.state=state;this.infoMemory=infoMemory;this.infoRender=infoRender}_createClass(WebGLTextures,[{key:"filterFallback",value:function filterFallback(f){if(f===_constants.NearestFilter||f===_constants.NearestMipMapNearestFilter||f===_constants.NearestMipMapLinearFilter){return this.context.NEAREST}return this.context.LINEAR}},{key:"deallocateTexture",value:function deallocateTexture(texture){var textureProperties=this.properties.get(texture);if(texture.image&&textureProperties.__image__webglTextureCube){
// cube texture
this.context.deleteTexture(textureProperties.__image__webglTextureCube)}else{
// 2D texture
if(textureProperties.__webglInit===undefined)return;this.context.deleteTexture(textureProperties.__webglTexture)}// remove all webgl properties
this.properties.remove(texture)}},{key:"deallocateRenderTarget",value:function deallocateRenderTarget(renderTarget){var renderTargetProperties=this.properties.get(renderTarget);var textureProperties=this.properties.get(renderTarget.texture);if(!renderTarget)return;if(textureProperties.__webglTexture!==undefined){this.context.deleteTexture(textureProperties.__webglTexture)}if(renderTarget.depthTexture){renderTarget.depthTexture.dispose()}if(renderTarget instanceof _WebGLRenderTargetCube.WebGLRenderTargetCube){for(var i=0;i<6;i++){this.context.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);if(renderTargetProperties.__webglDepthbuffer){this.context.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i])}}}else{this.context.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);if(renderTargetProperties.__webglDepthbuffer){this.context.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer)}}this.properties.remove(renderTarget.texture);this.properties.remove(renderTarget)}},{key:"updateVideoTexture",value:function updateVideoTexture(texture){var id=texture.id;var frame=this.infoRender.frame;// Check the last frame we updated the VideoTexture
if(this.videoTextures[id]!==frame){this.videoTextures[id]=frame;texture.update()}}},{key:"uploadTexture",value:function uploadTexture(textureProperties,texture,slot){var gl=this.context;var state=this.state;var utils=this.utils;if(textureProperties.__webglInit===undefined){textureProperties.__webglInit=true;texture.addEventListener("dispose",this.onTextureDispose);textureProperties.__webglTexture=gl.createTexture();this.infoMemory.textures++}state.activeTexture(gl.TEXTURE0+slot);state.bindTexture(gl.TEXTURE_2D,textureProperties.__webglTexture);gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,texture.flipY);gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,texture.premultiplyAlpha);gl.pixelStorei(gl.UNPACK_ALIGNMENT,texture.unpackAlignment);
/**
       * 为什么 texture.image 肯定是 HTMLTextureSource?
       * Need to be fixed
       */var image=clampToMaxSize(texture.image,this.capabilities.maxTextureSize);if(textureNeedsPowerOfTwo(texture)&&isPowerOfTwo(image)===false){
/**
         * 为什么这里的 texture.image 肯定是 HTMLTextureSource?
         * 因为在 WebGLRenderer.setProgram 中 SkinnedMesh 中的 Skeleton 的 boneTexture 被强制调整为2的幂次
         * 所以这个判断中 DataTexture 永远到不了，只能是 CanvasTexture 或者 VideoTexture
         *
         * Edited: 原本是这么认为的，但是不是
         */
image=makePowerOfTwo(image)}var isPowerOfTwoImage=isPowerOfTwo(image);var glFormat=utils.convert(texture.format),glType=utils.convert(texture.type);this.setTextureParameters(gl.TEXTURE_2D,texture,isPowerOfTwoImage);var mipmap,mipmaps=texture.mipmaps;if(texture instanceof _DepthTexture.DepthTexture){
// populate depth texture with dummy data
var internalFormat=gl.DEPTH_COMPONENT;
/*
        if ( texture.type === FloatType ) {
            if ( ! _isWebGL2 ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );
            internalFormat = gl.DEPTH_COMPONENT32F;
        } else if ( _isWebGL2 ) {
            // WebGL 2.0 requires signed internalformat for glTexImage2D
            internalFormat = gl.DEPTH_COMPONENT16;
        }
        */if(texture.format===_constants.DepthFormat&&internalFormat===gl.DEPTH_COMPONENT){
// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are
// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT
// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)
if(texture.type!==_constants.UnsignedShortType&&texture.type!==_constants.UnsignedIntType){console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.");texture.type=_constants.UnsignedShortType;glType=utils.convert(texture.type)}}// Depth stencil textures need the DEPTH_STENCIL internal format
// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)
if(texture.format===_constants.DepthStencilFormat){internalFormat=gl.DEPTH_STENCIL;// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are
// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.
// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)
if(texture.type!==_constants.UnsignedInt248Type){console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.");texture.type=_constants.UnsignedInt248Type;glType=utils.convert(texture.type)}}state.texImage2D(gl.TEXTURE_2D,0,internalFormat,image.width,image.height,0,glFormat,glType,null)}else if(texture instanceof _DataTexture.DataTexture){
// use manually created mipmaps if available
// if there are no manual mipmaps
// set 0 level mipmap and then use GL to generate other mipmap levels
if(mipmaps.length>0&&isPowerOfTwoImage){for(var i=0,il=mipmaps.length;i<il;i++){mipmap=mipmaps[i];state.texImage2D(gl.TEXTURE_2D,i,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data)}texture.generateMipmaps=false}else{state.texImage2D(gl.TEXTURE_2D,0,glFormat,image.width,image.height,0,glFormat,glType,image.data)}}else if(texture instanceof _CompressedTexture.CompressedTexture){for(var _i=0,_il=mipmaps.length;_i<_il;_i++){mipmap=mipmaps[_i];if(texture.format!==_constants.RGBAFormat&&texture.format!==_constants.RGBFormat){if(state.getCompressedTextureFormats().indexOf(glFormat)>-1){state.compressedTexImage2D(gl.TEXTURE_2D,_i,glFormat,mipmap.width,mipmap.height,0,mipmap.data)}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()")}}else{state.texImage2D(gl.TEXTURE_2D,_i,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data)}}}else{
// regular Texture (image, video, canvas)
// use manually created mipmaps if available
// if there are no manual mipmaps
// set 0 level mipmap and then use GL to generate other mipmap levels
if(mipmaps.length>0&&isPowerOfTwoImage){for(var _i2=0,_il2=mipmaps.length;_i2<_il2;_i2++){mipmap=mipmaps[_i2];state.texImage2D(gl.TEXTURE_2D,_i2,glFormat,glFormat,glType,mipmap)}texture.generateMipmaps=false}else{
/**
           * WHY as HTMLTextureSource ????
           */
state.texImage2D(gl.TEXTURE_2D,0,glFormat,glFormat,glType,image)}}if(textureNeedsGenerateMipmaps(texture,isPowerOfTwoImage))gl.generateMipmap(gl.TEXTURE_2D);textureProperties.__version=texture.version;//if ( texture.onUpdate ) texture.onUpdate( texture );
}},{key:"setTexture2D",value:function setTexture2D(texture,slot){var textureProperties=this.properties.get(texture);if(texture instanceof _VideoTexture.VideoTexture){this.updateVideoTexture(texture)}if(texture.version>0&&textureProperties.__version!==texture.version){
/**
         * version > 0 不一样只能是needsUpdate被设为true的Texture
         * 目前Three.js中只有CanvasTexture、 VideoTexture以及Skeleton.boneTexture（DataTexture）是这样的。
         * 所以 uploadTexture 的 texture 参数必定是 CanvasTexture| VideoTexture | DataTexture 中的一个
         */
var image=texture.image;if(image===undefined){console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",texture)}else if(image.complete===false){console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",texture)}else{this.uploadTexture(textureProperties,texture,slot);return}}this.state.activeTexture(this.context.TEXTURE0+slot);this.state.bindTexture(this.context.TEXTURE_2D,textureProperties.__webglTexture)}},{key:"setTextureCube",value:function setTextureCube(texture,slot){var gl=this.context;var state=this.state;var utils=this.utils;var textureProperties=this.properties.get(texture);if(texture.image.length===6){if(texture.version>0&&textureProperties.__version!==texture.version){if(!textureProperties.__image__webglTextureCube){texture.addEventListener("dispose",this.onTextureDispose);textureProperties.__image__webglTextureCube=gl.createTexture();this.infoMemory.textures++}state.activeTexture(gl.TEXTURE0+slot);state.bindTexture(gl.TEXTURE_CUBE_MAP,textureProperties.__image__webglTextureCube);gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,texture.flipY);var isCompressed=texture&&texture instanceof _CompressedTexture.CompressedTexture;var isDataTexture=texture.image[0]&&texture.image[0]instanceof _DataTexture.DataTexture;var cubeImage=[];for(var i=0;i<6;i++){if(!isCompressed&&!isDataTexture){cubeImage[i]=clampToMaxSize(texture.image[i],this.capabilities.maxCubemapSize)}else{
// CubeTexture with DataTexture or CompressedTexture
cubeImage[i]=isDataTexture?texture.image[i].image:texture.image[i]}}var image=cubeImage[0],isPowerOfTwoImage=isPowerOfTwo(image),glFormat=utils.convert(texture.format),glType=utils.convert(texture.type);this.setTextureParameters(gl.TEXTURE_CUBE_MAP,texture,isPowerOfTwoImage);for(var _i3=0;_i3<6;_i3++){if(!isCompressed){
// CubeTexture
if(isDataTexture){state.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X+_i3,0,glFormat,cubeImage[_i3].width,cubeImage[_i3].height,0,glFormat,glType,cubeImage[_i3].data)}else{state.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X+_i3,0,glFormat,glFormat,glType,cubeImage[_i3])}}else{var mipmap=void 0;// 未能解决的疑惑！！！ as any
var mipmaps=cubeImage[_i3].mipmaps;for(var j=0,jl=mipmaps.length;j<jl;j++){mipmap=mipmaps[j];if(texture.format!==_constants.RGBAFormat&&texture.format!==_constants.RGBFormat){if(state.getCompressedTextureFormats().indexOf(glFormat)>-1){state.compressedTexImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X+_i3,j,glFormat,mipmap.width,mipmap.height,0,mipmap.data)}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()")}}else{state.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X+_i3,j,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data)}}}}if(textureNeedsGenerateMipmaps(texture,isPowerOfTwoImage)){gl.generateMipmap(gl.TEXTURE_CUBE_MAP)}textureProperties.__version=texture.version;//if ( texture.onUpdate ) texture.onUpdate( texture );
}else{state.activeTexture(gl.TEXTURE0+slot);state.bindTexture(gl.TEXTURE_CUBE_MAP,textureProperties.__image__webglTextureCube)}}}
/**
     * texture from WebGLRenderTargetCube
     * @param texture
     * @param slot
     */},{key:"setTextureCubeDynamic",value:function setTextureCubeDynamic(texture,slot){this.state.activeTexture(this.context.TEXTURE0+slot);this.state.bindTexture(this.context.TEXTURE_CUBE_MAP,this.properties.get(texture).__webglTexture)}},{key:"setTextureParameters",value:function setTextureParameters(textureType,texture,isPowerOfTwoImage){var gl=this.context;var utils=this.utils;var extensions=this.extensions;var properties=this.properties;var extension;if(isPowerOfTwoImage){gl.texParameteri(textureType,gl.TEXTURE_WRAP_S,utils.convert(texture.wrapS));gl.texParameteri(textureType,gl.TEXTURE_WRAP_T,utils.convert(texture.wrapT));gl.texParameteri(textureType,gl.TEXTURE_MAG_FILTER,utils.convert(texture.magFilter));gl.texParameteri(textureType,gl.TEXTURE_MIN_FILTER,utils.convert(texture.minFilter))}else{gl.texParameteri(textureType,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(textureType,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);if(texture.wrapS!==_constants.ClampToEdgeWrapping||texture.wrapT!==_constants.ClampToEdgeWrapping){console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",texture)}gl.texParameteri(textureType,gl.TEXTURE_MAG_FILTER,this.filterFallback(texture.magFilter));gl.texParameteri(textureType,gl.TEXTURE_MIN_FILTER,this.filterFallback(texture.minFilter));if(texture.minFilter!==_constants.NearestFilter&&texture.minFilter!==_constants.LinearFilter){console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",texture)}}extension=extensions.get("EXT_texture_filter_anisotropic");if(extension){if(texture.type===_constants.FloatType&&extensions.get("OES_texture_float_linear")===null)return;if(texture.type===_constants.HalfFloatType&&extensions.get("OES_texture_half_float_linear")===null)return;if(texture.anisotropy>1||properties.get(texture).__currentAnisotropy){gl.texParameterf(textureType,extension.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(texture.anisotropy,this.capabilities.getMaxAnisotropy()));properties.get(texture).__currentAnisotropy=texture.anisotropy}}}
/****************************  Render targets ***********************/
// Setup storage for target texture and bind it to correct framebuffer
},{key:"setupFrameBufferTexture",value:function setupFrameBufferTexture(framebuffer,renderTarget,attachment,textureTarget){var glFormat=this.utils.convert(renderTarget.texture.format);var glType=this.utils.convert(renderTarget.texture.type);this.state.texImage2D(textureTarget,0,glFormat,renderTarget.width,renderTarget.height,0,glFormat,glType,null);var gl=this.context;gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffer);gl.framebufferTexture2D(gl.FRAMEBUFFER,attachment,textureTarget,this.properties.get(renderTarget.texture).__webglTexture,0);gl.bindFramebuffer(gl.FRAMEBUFFER,null)}// Setup storage for internal depth/stencil buffers and bind to correct framebuffer
},{key:"setupRenderBufferStorage",value:function setupRenderBufferStorage(renderbuffer,renderTarget){var gl=this.context;gl.bindRenderbuffer(gl.RENDERBUFFER,renderbuffer);if(renderTarget.depthBuffer&&!renderTarget.stencilBuffer){gl.renderbufferStorage(gl.RENDERBUFFER,gl.DEPTH_COMPONENT16,renderTarget.width,renderTarget.height);gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.RENDERBUFFER,renderbuffer)}else if(renderTarget.depthBuffer&&renderTarget.stencilBuffer){gl.renderbufferStorage(gl.RENDERBUFFER,gl.DEPTH_STENCIL,renderTarget.width,renderTarget.height);gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_STENCIL_ATTACHMENT,gl.RENDERBUFFER,renderbuffer)}else{
// FIXME: We don't support !depth !stencil
gl.renderbufferStorage(gl.RENDERBUFFER,gl.RGBA4,renderTarget.width,renderTarget.height)}gl.bindRenderbuffer(gl.RENDERBUFFER,null)}// Setup resources for a Depth Texture for a FBO (needs an extension)
},{key:"setupDepthTexture",value:function setupDepthTexture(framebuffer,renderTarget){var gl=this.context;var isCube=renderTarget&&renderTarget instanceof _WebGLRenderTargetCube.WebGLRenderTargetCube;if(isCube){throw new Error("Depth Texture with cube render targets is not supported")}gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffer);if(!(renderTarget.depthTexture&&renderTarget.depthTexture instanceof _DepthTexture.DepthTexture)){throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture")}// upload an empty depth texture with framebuffer size
if(!this.properties.get(renderTarget.depthTexture).__webglTexture||renderTarget.depthTexture.image.width!==renderTarget.width||renderTarget.depthTexture.image.height!==renderTarget.height){renderTarget.depthTexture.image.width=renderTarget.width;renderTarget.depthTexture.image.height=renderTarget.height;renderTarget.depthTexture.needsUpdate=true}this.setTexture2D(renderTarget.depthTexture,0);var webglDepthTexture=this.properties.get(renderTarget.depthTexture).__webglTexture;if(renderTarget.depthTexture.format===_constants.DepthFormat){gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,webglDepthTexture,0)}else if(renderTarget.depthTexture.format===_constants.DepthStencilFormat){gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.DEPTH_STENCIL_ATTACHMENT,gl.TEXTURE_2D,webglDepthTexture,0)}else{throw new Error("Unknown depthTexture format")}}// Setup GL resources for a non-texture depth buffer
},{key:"setupDepthRenderbuffer",value:function setupDepthRenderbuffer(renderTarget){var gl=this.context;var renderTargetProperties=this.properties.get(renderTarget);var isCube=renderTarget instanceof _WebGLRenderTargetCube.WebGLRenderTargetCube;if(renderTarget.depthTexture){if(isCube)throw new Error("target.depthTexture not supported in Cube render targets");this.setupDepthTexture(renderTargetProperties.__webglFramebuffer,renderTarget)}else{if(isCube){renderTargetProperties.__webglDepthbuffer=[];for(var i=0;i<6;i++){gl.bindFramebuffer(gl.FRAMEBUFFER,renderTargetProperties.__webglFramebuffer[i]);renderTargetProperties.__webglDepthbuffer[i]=gl.createRenderbuffer();this.setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i],renderTarget)}}else{gl.bindFramebuffer(gl.FRAMEBUFFER,renderTargetProperties.__webglFramebuffer);renderTargetProperties.__webglDepthbuffer=gl.createRenderbuffer();this.setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer,renderTarget)}}gl.bindFramebuffer(gl.FRAMEBUFFER,null)}// Set up GL resources for the render target
},{key:"setupRenderTarget",value:function setupRenderTarget(renderTarget){var gl=this.context;var state=this.state;var properties=this.properties;var renderTargetProperties=properties.get(renderTarget);var textureProperties=properties.get(renderTarget.texture);renderTarget.addEventListener("dispose",this.onRenderTargetDispose);textureProperties.__webglTexture=gl.createTexture();this.infoMemory.textures++;var isCube=renderTarget instanceof _WebGLRenderTargetCube.WebGLRenderTargetCube;var isTargetPowerOfTwo=isPowerOfTwo(renderTarget);// Setup framebuffer
if(isCube){renderTargetProperties.__webglFramebuffer=[];for(var i=0;i<6;i++){renderTargetProperties.__webglFramebuffer[i]=gl.createFramebuffer()}}else{renderTargetProperties.__webglFramebuffer=gl.createFramebuffer()}// Setup color buffer
if(isCube){state.bindTexture(gl.TEXTURE_CUBE_MAP,textureProperties.__webglTexture);this.setTextureParameters(gl.TEXTURE_CUBE_MAP,renderTarget.texture,isTargetPowerOfTwo);for(var _i4=0;_i4<6;_i4++){this.setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[_i4],renderTarget,gl.COLOR_ATTACHMENT0,gl.TEXTURE_CUBE_MAP_POSITIVE_X+_i4)}if(textureNeedsGenerateMipmaps(renderTarget.texture,isTargetPowerOfTwo)){gl.generateMipmap(gl.TEXTURE_CUBE_MAP)}state.bindTexture(gl.TEXTURE_CUBE_MAP,null)}else{state.bindTexture(gl.TEXTURE_2D,textureProperties.__webglTexture);this.setTextureParameters(gl.TEXTURE_2D,renderTarget.texture,isTargetPowerOfTwo);this.setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer,renderTarget,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D);if(textureNeedsGenerateMipmaps(renderTarget.texture,isTargetPowerOfTwo)){gl.generateMipmap(gl.TEXTURE_2D)}state.bindTexture(gl.TEXTURE_2D,null)}// Setup depth and stencil buffers
if(renderTarget.depthBuffer){this.setupDepthRenderbuffer(renderTarget)}}},{key:"updateRenderTargetMipmap",value:function updateRenderTargetMipmap(renderTarget){var gl=this.context;var state=this.state;var properties=this.properties;var texture=renderTarget.texture;var isTargetPowerOfTwo=isPowerOfTwo(renderTarget);if(textureNeedsGenerateMipmaps(texture,isTargetPowerOfTwo)){var target=renderTarget instanceof _WebGLRenderTargetCube.WebGLRenderTargetCube?gl.TEXTURE_CUBE_MAP:gl.TEXTURE_2D;var webglTexture=properties.get(texture).__webglTexture;state.bindTexture(target,webglTexture);gl.generateMipmap(target);state.bindTexture(target,null)}}}]);return WebGLTextures}();exports.WebGLTextures=WebGLTextures;
/***/},
/***/"./es/renderers/webgl/WebGLUniforms.js":
/*!*********************************************!*\
  !*** ./es/renderers/webgl/WebGLUniforms.js ***!
  \*********************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLUniformsWrapper=void 0;var _CubeTexture=__webpack_require__(/*! ../../textures/CubeTexture */"./es/textures/CubeTexture.js");var _Texture=__webpack_require__(/*! ../../textures/Texture */"./es/textures/Texture.js");var _Vector=__webpack_require__(/*! ../../math/Vector3 */"./es/math/Vector3.js");var _Matrix=__webpack_require__(/*! ../../math/Matrix2 */"./es/math/Matrix2.js");var _Matrix2=__webpack_require__(/*! ../../math/Matrix3 */"./es/math/Matrix3.js");var _Matrix3=__webpack_require__(/*! ../../math/Matrix4 */"./es/math/Matrix4.js");function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var emptyTexture=new _Texture.Texture;var emptyCubeTexture=new _CubeTexture.CubeTexture;var UniformSetter=
/* */
function(){function UniformSetter(renderer,id,activeInfo,addr){var _this=this;_classCallCheck(this,UniformSetter);this.addr=0;this.size=0;this.setValue1f=function(v){_this.context.uniform1f(_this.addr,v)};this.setValue1i=function(v){_this.context.uniform1i(_this.addr,v)};this.setValue2fv=function(v){if(v instanceof Float32Array||Array.isArray(v)){_this.context.uniform2fv(_this.addr,v)}else{_this.context.uniform2f(_this.addr,v.x,v.y)}};this.setValue3fv=function(v){if(v instanceof Float32Array||Array.isArray(v)){_this.context.uniform3fv(_this.addr,v)}else if(v instanceof _Vector.Vector3){_this.context.uniform3f(_this.addr,v.x,v.y,v.z)}else{_this.context.uniform3f(_this.addr,v.r,v.g,v.b)}};this.setValue4fv=function(v){if(v instanceof Float32Array||Array.isArray(v)){_this.context.uniform4fv(_this.addr,v)}else{_this.context.uniform4f(_this.addr,v.x,v.y,v.z,v.w)}};this.setValue2fm=function(v){if(v instanceof _Matrix.Matrix2){UniformSetter.mat2array.set(v.elements);_this.context.uniformMatrix2fv(_this.addr,false,UniformSetter.mat2array)}else{_this.context.uniformMatrix2fv(_this.addr,false,v)}};this.setValue3fm=function(v){if(v instanceof _Matrix2.Matrix3){UniformSetter.mat3array.set(v.elements);_this.context.uniformMatrix3fv(_this.addr,false,UniformSetter.mat3array)}else{_this.context.uniformMatrix3fv(_this.addr,false,v)}};this.setValue4fm=function(v){if(v instanceof _Matrix3.Matrix4){UniformSetter.mat4array.set(v.elements);_this.context.uniformMatrix4fv(_this.addr,false,UniformSetter.mat4array)}else{_this.context.uniformMatrix4fv(_this.addr,false,v)}};this.setValueT1=function(v){var unit=_this.renderer.allocTextureUnit();_this.context.uniform1i(_this.addr,unit);_this.renderer.setTexture2D(v||emptyTexture,unit)};this.setValueT6=function(v){var unit=_this.renderer.allocTextureUnit();_this.context.uniform1i(_this.addr,unit);_this.renderer.setTextureCube(v||emptyCubeTexture,unit)};this.setValue2iv=function(v){_this.context.uniform2iv(_this.addr,v)};this.setValue3iv=function(v){_this.context.uniform3iv(_this.addr,v)};this.setValue4iv=function(v){_this.context.uniform4iv(_this.addr,v)};this.setValue1fv=function(v){_this.context.uniform1fv(_this.addr,v)};this.setValue1iv=function(v){_this.context.uniform1iv(_this.addr,v)};this.setValueV2a=function(v){_this.context.uniform2fv(_this.addr,UniformSetter.flatten(v,_this.size,2))};this.setValueV3a=function(v){_this.context.uniform3fv(_this.addr,UniformSetter.flatten(v,_this.size,3))};this.setValueV4a=function(v){_this.context.uniform4fv(_this.addr,UniformSetter.flatten(v,_this.size,4))};this.setValueM2a=function(v){_this.context.uniformMatrix2fv(_this.addr,false,UniformSetter.flatten(v,_this.size,4))};this.setValueM3a=function(v){_this.context.uniformMatrix3fv(_this.addr,false,UniformSetter.flatten(v,_this.size,9))};this.setValueM4a=function(v){_this.context.uniformMatrix4fv(_this.addr,false,UniformSetter.flatten(v,_this.size,16))};this.setValueT1a=function(v){var n=v.length,units=_this.allocTexUnits(n);_this.context.uniform1iv(_this.addr,units);for(var i=0;i!==n;i++){_this.renderer.setTexture2D(v[i]||emptyTexture,units[i])}};this.setValueT6a=function(v){var n=v.length,units=_this.allocTexUnits(n);_this.context.uniform1iv(_this.addr,units);for(var i=0;i!==n;i++){_this.renderer.setTextureCube(v[i]||emptyCubeTexture,units[i])}};this.renderer=renderer;this.context=renderer.context;this.id=id;this.activeInfo=activeInfo;this.addr=addr;this.size=activeInfo.size}_createClass(UniformSetter,[{key:"getSingularSetter",value:function getSingularSetter(){switch(this.activeInfo.type){case 5126:return this.setValue1f;
// FLOAT
case 35664:return this.setValue2fv;
// _VEC2
case 35665:return this.setValue3fv;
// _VEC3
case 35666:return this.setValue4fv;
// _VEC4
case 35674:return this.setValue2fm;
// _MAT2
case 35675:return this.setValue3fm;
// _MAT3
case 35676:return this.setValue4fm;
// _MAT4
case 35678:case 36198:return this.setValueT1;
// SAMPLER_2D, SAMPLER_EXTERNAL_OES
case 35680:return this.setValueT6;
// SAMPLER_CUBE
case 5124:case 35670:return this.setValue1i;
// INT, BOOL
case 35667:case 35671:return this.setValue2iv;
// _VEC2
case 35668:case 35672:return this.setValue3iv;
// _VEC3
case 35669:case 35673:return this.setValue4iv;
// _VEC4
}throw new Error("Unknown type for getSingularSetter: ".concat(this.activeInfo.type))}},{key:"allocTexUnits",value:function allocTexUnits(n){var r=UniformSetter.arrayCacheI32[n];if(r===undefined){r=new Int32Array(n);UniformSetter.arrayCacheI32[n]=r}for(var i=0;i!==n;i++){r[i]=this.renderer.allocTextureUnit()}return r}},{key:"getPureArraySetter",value:function getPureArraySetter(){switch(this.activeInfo.type){case 5126:return this.setValue1fv;
// FLOAT
case 35664:return this.setValueV2a;
// _VEC2
case 35665:return this.setValueV3a;
// _VEC3
case 35666:return this.setValueV4a;
// _VEC4
case 35674:return this.setValueM2a;
// _MAT2
case 35675:return this.setValueM3a;
// _MAT3
case 35676:return this.setValueM4a;
// _MAT4
case 35678:return this.setValueT1a;
// SAMPLER_2D
case 35680:return this.setValueT6a;
// SAMPLER_CUBE
case 5124:case 35670:return this.setValue1iv;
// INT, BOOL
case 35667:case 35671:return this.setValue2iv;
// _VEC2
case 35668:case 35672:return this.setValue3iv;
// _VEC3
case 35669:case 35673:return this.setValue4iv;
// _VEC4
}throw new Error("Unknown type for getSingularSetter: ".concat(this.activeInfo.type))}}],[{key:"flatten",value:function flatten(array,nBlocks,blockSize){if(array instanceof Float32Array){return array}var n=nBlocks*blockSize;var r=UniformSetter.arrayCacheF32[n];if(r===undefined){r=new Float32Array(n);UniformSetter.arrayCacheF32[n]=r}if(nBlocks!==0){for(var i=0,offset=0;i!==nBlocks;i++){array[i].toArray(r,offset);offset+=blockSize}}return r}}]);return UniformSetter}();UniformSetter.mat2array=new Float32Array(4);UniformSetter.mat3array=new Float32Array(9);UniformSetter.mat4array=new Float32Array(16);UniformSetter.arrayCacheF32=[];UniformSetter.arrayCacheI32=[];var SingleUniformSetter=function SingleUniformSetter(renderer,id,activeInfo,addr){_classCallCheck(this,SingleUniformSetter);var setter=new UniformSetter(renderer,id,activeInfo,addr);this.id=id;this.setValue=setter.getSingularSetter()};var PureArrayUniformSetter=function PureArrayUniformSetter(renderer,id,activeInfo,addr){_classCallCheck(this,PureArrayUniformSetter);var setter=new UniformSetter(renderer,id,activeInfo,addr);this.id=id;this.setValue=setter.getPureArraySetter()};var UniformContainer=function UniformContainer(){_classCallCheck(this,UniformContainer);this.seq=[];this.map={}};var StructuredUniformSetter=
/* */
function(_UniformContainer){_inherits(StructuredUniformSetter,_UniformContainer);function StructuredUniformSetter(id){var _this2;_classCallCheck(this,StructuredUniformSetter);_this2=_possibleConstructorReturn(this,(StructuredUniformSetter.__proto__||Object.getPrototypeOf(StructuredUniformSetter)).call(this));_this2.id=id;return _this2}_createClass(StructuredUniformSetter,[{key:"setValue",value:function setValue(value){
// Note: Don't need an extra 'renderer' parameter, since samplers
// are not allowed in structured uniforms.
for(var i=0,n=this.seq.length;i!==n;i++){var u=this.seq[i];var v=value[u.id];
/**
         * Well the following is the actually type logic...
         * if(u instanceof StructuredUniformSetter) {
         *     u.setValue(v as {[key: string]: AllUniformType;});
         * } else {
         *     u.setValue(v as AllUniformType);
         * }
         */u.setValue(v)}}}]);return StructuredUniformSetter}(UniformContainer);var RePathPart=/([\w\d_]+)(\])?(\[|\.)?/g;// extracts
// 	- the identifier (member name or array index)
//  - followed by an optional right bracket (found when array index)
//  - followed by an optional left bracket or dot (type of subscript)
//
// Note: These portions can be read in a non-overlapping fashion and
// allow straightforward parsing of the hierarchy that WebGL encodes
// in the uniform names.
var WebGLUniformsWrapper=
/* */
function(_UniformContainer2){_inherits(WebGLUniformsWrapper,_UniformContainer2);function WebGLUniformsWrapper(renderer,program){var _this3;_classCallCheck(this,WebGLUniformsWrapper);_this3=_possibleConstructorReturn(this,(WebGLUniformsWrapper.__proto__||Object.getPrototypeOf(WebGLUniformsWrapper)).call(this));_this3.renderer=renderer;_this3.program=program;var gl=_this3.renderer.context;var n=gl.getProgramParameter(program,gl.ACTIVE_UNIFORMS);for(var i=0;i<n;++i){var info=gl.getActiveUniform(program,i),path=info.name,addr=gl.getUniformLocation(program,path);_this3.parseUniform(info,addr,_assertThisInitialized(_this3))}return _this3}_createClass(WebGLUniformsWrapper,[{key:"parseUniform",value:function parseUniform(activeInfo,addr,container){
/**
       * Hard to explain, take an example.
       * When there is a single basic type uniform the typeInfo will be [\d\w_]+
       * and when there is an array of basic type uniform the typeInfo will be [\d\w_]+[0]
       * So this is how matchEnd + 2 === pathLength works
       *
       * when path is "spotLights[0].direction"
       * the first match will get [ "spotLights[", "spotLights", undefined, "[" ] lastIndex == 11
       * This round the regex first get matchEnd + 2 !== pathLength, then we can get this is a
       * StructuredUniformSetter, So all the thing dealing in else bracket is about StructuredUniformSetter
       * The Setter from the map is sure to be StructuredUniformSetter.
       * So we use as StructuredUniformSetter
       */
var path=activeInfo.name;var pathLength=path.length;// reset RegExp object, because of the early exit of a previous run
RePathPart.lastIndex=0;for(;;){var match=RePathPart.exec(path);var matchEnd=RePathPart.lastIndex;var id=match[1];var idIsIndex=match[2]==="]";var subscript=match[3];if(idIsIndex)id=parseInt(id,10);// convert to integer
if(subscript===undefined||subscript==="["&&matchEnd+2===pathLength){
// bare name or "pure" bottom-level array "[0]" suffix
WebGLUniformsWrapper.addUniform(container,subscript===undefined?new SingleUniformSetter(this.renderer,id,activeInfo,addr):new PureArrayUniformSetter(this.renderer,id,activeInfo,addr));break}else{
// step into inner node / create it in case it doesn't exist
var map=container.map;var next=map[id];if(next===undefined){next=new StructuredUniformSetter(id);WebGLUniformsWrapper.addUniform(container,next)}container=next}}}},{key:"setValue",value:function setValue(name,value){var u=this.map[name];if(u!==undefined){u.setValue(value)}}},{key:"setOptional",value:function setOptional(object,name){var v=object[name];if(v!==undefined){this.setValue(name,v)}}}],[{key:"addUniform",value:function addUniform(container,uniformObject){container.seq.push(uniformObject);container.map[uniformObject.id]=uniformObject}},{key:"upload",value:function upload(seq,values){for(var i=0,_n=seq.length;i!==_n;i++){var u=seq[i],v=values[u.id];if(v.needsUpdate!==false){
// note: always updating when .needsUpdate is undefined
u.setValue(v.value)}}}},{key:"seqWithValue",value:function seqWithValue(seq,values){var r=[];for(var i=0,_n2=seq.length;i!==_n2;i++){var u=seq[i];if(u.id in values)r.push(u)}return r}}]);return WebGLUniformsWrapper}(UniformContainer);exports.WebGLUniformsWrapper=WebGLUniformsWrapper;
/***/},
/***/"./es/renderers/webgl/WebGLUtils.js":
/*!******************************************!*\
  !*** ./es/renderers/webgl/WebGLUtils.js ***!
  \******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebGLUtils=void 0;var _constants=__webpack_require__(/*! ../../constants */"./es/constants.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var WebGLUtils=
/* */
function(){function WebGLUtils(context,extensions){_classCallCheck(this,WebGLUtils);this.context=context;this.extensions=extensions}_createClass(WebGLUtils,[{key:"convert",value:function convert(parameter){var extensions=this.extensions;var context=this.context;var extension;if(parameter===_constants.RepeatWrapping){return context.REPEAT}if(parameter===_constants.ClampToEdgeWrapping){return context.CLAMP_TO_EDGE}if(parameter===_constants.MirroredRepeatWrapping){return context.MIRRORED_REPEAT}if(parameter===_constants.NearestFilter){return context.NEAREST}if(parameter===_constants.NearestMipMapNearestFilter){return context.NEAREST_MIPMAP_NEAREST}if(parameter===_constants.NearestMipMapLinearFilter){return context.NEAREST_MIPMAP_LINEAR}if(parameter===_constants.LinearFilter){return context.LINEAR}if(parameter===_constants.LinearMipMapNearestFilter){return context.LINEAR_MIPMAP_NEAREST}if(parameter===_constants.LinearMipMapLinearFilter){return context.LINEAR_MIPMAP_LINEAR}if(parameter===_constants.UnsignedByteType){return context.UNSIGNED_BYTE}if(parameter===_constants.UnsignedShort4444Type){return context.UNSIGNED_SHORT_4_4_4_4}if(parameter===_constants.UnsignedShort5551Type){return context.UNSIGNED_SHORT_5_5_5_1}if(parameter===_constants.UnsignedShort565Type){return context.UNSIGNED_SHORT_5_6_5}if(parameter===_constants.ByteType){return context.BYTE}if(parameter===_constants.ShortType){return context.SHORT}if(parameter===_constants.UnsignedShortType){return context.UNSIGNED_SHORT}if(parameter===_constants.IntType){return context.INT}if(parameter===_constants.UnsignedIntType){return context.UNSIGNED_INT}if(parameter===_constants.FloatType){return context.FLOAT}if(parameter===_constants.HalfFloatType){extension=extensions.get("OES_texture_half_float");if(extension!==null){return extension.HALF_FLOAT_OES}}if(parameter===_constants.AlphaFormat){return context.ALPHA}if(parameter===_constants.RGBFormat){return context.RGB}if(parameter===_constants.RGBAFormat){return context.RGBA}if(parameter===_constants.LuminanceFormat){return context.LUMINANCE}if(parameter===_constants.LuminanceAlphaFormat){return context.LUMINANCE_ALPHA}if(parameter===_constants.DepthFormat){return context.DEPTH_COMPONENT}if(parameter===_constants.DepthStencilFormat){return context.DEPTH_STENCIL}if(parameter===_constants.AddEquation){return context.FUNC_ADD}if(parameter===_constants.SubtractEquation){return context.FUNC_SUBTRACT}if(parameter===_constants.ReverseSubtractEquation){return context.FUNC_REVERSE_SUBTRACT}if(parameter===_constants.ZeroFactor){return context.ZERO}if(parameter===_constants.OneFactor){return context.ONE}if(parameter===_constants.SrcColorFactor){return context.SRC_COLOR}if(parameter===_constants.OneMinusSrcColorFactor){return context.ONE_MINUS_SRC_COLOR}if(parameter===_constants.SrcAlphaFactor){return context.SRC_ALPHA}if(parameter===_constants.OneMinusSrcAlphaFactor){return context.ONE_MINUS_SRC_ALPHA}if(parameter===_constants.DstAlphaFactor){return context.DST_ALPHA}if(parameter===_constants.OneMinusDstAlphaFactor){return context.ONE_MINUS_DST_ALPHA}if(parameter===_constants.DstColorFactor){return context.DST_COLOR}if(parameter===_constants.OneMinusDstColorFactor){return context.ONE_MINUS_DST_COLOR}if(parameter===_constants.SrcAlphaSaturateFactor){return context.SRC_ALPHA_SATURATE}if(parameter===_constants.RGB_S3TC_DXT1_Format||parameter===_constants.RGBA_S3TC_DXT1_Format||parameter===_constants.RGBA_S3TC_DXT3_Format||parameter===_constants.RGBA_S3TC_DXT5_Format){extension=extensions.get("WEBGL_compressed_texture_s3tc");if(extension!==null){if(parameter===_constants.RGB_S3TC_DXT1_Format){return extension.COMPRESSED_RGB_S3TC_DXT1_EXT}if(parameter===_constants.RGBA_S3TC_DXT1_Format){return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT}if(parameter===_constants.RGBA_S3TC_DXT3_Format){return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT}if(parameter===_constants.RGBA_S3TC_DXT5_Format){return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT}}}if(parameter===_constants.RGB_PVRTC_4BPPV1_Format||parameter===_constants.RGB_PVRTC_2BPPV1_Format||parameter===_constants.RGBA_PVRTC_4BPPV1_Format||parameter===_constants.RGBA_PVRTC_2BPPV1_Format){extension=extensions.get("WEBGL_compressed_texture_pvrtc");if(extension!==null){if(parameter===_constants.RGB_PVRTC_4BPPV1_Format){return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG}if(parameter===_constants.RGB_PVRTC_2BPPV1_Format){return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG}if(parameter===_constants.RGBA_PVRTC_4BPPV1_Format){return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG}if(parameter===_constants.RGBA_PVRTC_2BPPV1_Format){return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}}}if(parameter===_constants.RGB_ETC1_Format){extension=extensions.get("WEBGL_compressed_texture_etc1");if(extension!==null){return extension.COMPRESSED_RGB_ETC1_WEBGL}}if(parameter===_constants.RGBA_ASTC_4x4_Format||parameter===_constants.RGBA_ASTC_5x4_Format||parameter===_constants.RGBA_ASTC_5x5_Format||parameter===_constants.RGBA_ASTC_6x5_Format||parameter===_constants.RGBA_ASTC_6x6_Format||parameter===_constants.RGBA_ASTC_8x5_Format||parameter===_constants.RGBA_ASTC_8x6_Format||parameter===_constants.RGBA_ASTC_8x8_Format||parameter===_constants.RGBA_ASTC_10x5_Format||parameter===_constants.RGBA_ASTC_10x6_Format||parameter===_constants.RGBA_ASTC_10x8_Format||parameter===_constants.RGBA_ASTC_10x10_Format||parameter===_constants.RGBA_ASTC_12x10_Format||parameter===_constants.RGBA_ASTC_12x12_Format){extension=extensions.get("WEBGL_compressed_texture_astc");if(extension!==null){return parameter}}if(parameter===_constants.MinEquation||parameter===_constants.MaxEquation){extension=extensions.get("EXT_blend_minmax");if(extension!==null){if(parameter===_constants.MinEquation){return extension.MIN_EXT}if(parameter===_constants.MaxEquation){return extension.MAX_EXT}}}if(parameter===_constants.UnsignedInt248Type){extension=extensions.get("WEBGL_depth_texture");if(extension!==null){return extension.UNSIGNED_INT_24_8_WEBGL}}return 0}}]);return WebGLUtils}();exports.WebGLUtils=WebGLUtils;
/***/},
/***/"./es/scenes/Fog.js":
/*!**************************!*\
  !*** ./es/scenes/Fog.js ***!
  \**************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Fog=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Fog=
/* */
function(){function Fog(color){var near=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var far=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1e3;_classCallCheck(this,Fog);this.name="";this.near=1;this.far=1e3;if(color instanceof _Color.Color){this.color=(new _Color.Color).copy(color)}else if(typeof color==="number"){this.color=(new _Color.Color).setHex(color)}else if(typeof color==="string"){this.color=(new _Color.Color).setStyle(color)}this.near=near;this.far=far}_createClass(Fog,[{key:"copy",value:function copy(source){this.color.copy(source.color);this.near=source.near;this.far=source.far;return this}},{key:"clone",value:function clone(){return new this.constructor(this.color,this.near,this.far).copy(this)}}]);return Fog}();exports.Fog=Fog;
/***/},
/***/"./es/scenes/FogExp2.js":
/*!******************************!*\
  !*** ./es/scenes/FogExp2.js ***!
  \******************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FogExp2=void 0;var _Color=__webpack_require__(/*! ../math/Color */"./es/math/Color.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var FogExp2=
/* */
function(){function FogExp2(color){var density=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;_classCallCheck(this,FogExp2);this.name="";this.density=25e-5;if(color instanceof _Color.Color){this.color=(new _Color.Color).copy(color)}else if(typeof color==="number"){this.color=(new _Color.Color).setHex(color)}else if(typeof color==="string"){this.color=(new _Color.Color).setStyle(color)}this.density=density}_createClass(FogExp2,[{key:"copy",value:function copy(source){this.color.copy(source.color);this.density=source.density;return this}},{key:"clone",value:function clone(){return new this.constructor(this.color,this.density).copy(this)}}]);return FogExp2}();exports.FogExp2=FogExp2;
/***/},
/***/"./es/scenes/Scene.js":
/*!****************************!*\
  !*** ./es/scenes/Scene.js ***!
  \****************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Scene=void 0;var _Object3D2=__webpack_require__(/*! ../core/Object3D */"./es/core/Object3D.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return _get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Scene=
/* */
function(_Object3D){_inherits(Scene,_Object3D);function Scene(){var _this;_classCallCheck(this,Scene);_this=_possibleConstructorReturn(this,(Scene.__proto__||Object.getPrototypeOf(Scene)).apply(this,arguments));_this.type="Scene";_this.background=null;_this.fog=null;_this.overrideMaterial=null;_this.autoUpdate=true;// checked by the renderer
return _this}_createClass(Scene,[{key:"copy",value:function copy(source){_get(Scene.prototype.__proto__||Object.getPrototypeOf(Scene.prototype),"copy",this).call(this,source);if(source.background!==null){this.background=source.background.clone()}if(source.fog!==null){this.fog=source.fog.clone()}if(source.overrideMaterial!==null){this.overrideMaterial=source.overrideMaterial.clone()}this.autoUpdate=source.autoUpdate;// this.matrixAutoUpdate = source.matrixAutoUpdate;
return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}}]);return Scene}(_Object3D2.Object3D);exports.Scene=Scene;
/***/},
/***/"./es/textures/CanvasTexture.js":
/*!**************************************!*\
  !*** ./es/textures/CanvasTexture.js ***!
  \**************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CanvasTexture=void 0;var _Texture2=__webpack_require__(/*! ./Texture */"./es/textures/Texture.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CanvasTexture=
/* */
function(_Texture){_inherits(CanvasTexture,_Texture);function CanvasTexture(canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){var _this;_classCallCheck(this,CanvasTexture);_this=_possibleConstructorReturn(this,(CanvasTexture.__proto__||Object.getPrototypeOf(CanvasTexture)).call(this,canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy));_this.image=_Texture2.Texture.DEFAULT_IMAGE;_this.needsUpdate=true;return _this}return CanvasTexture}(_Texture2.Texture);exports.CanvasTexture=CanvasTexture;
/***/},
/***/"./es/textures/CompressedTexture.js":
/*!******************************************!*\
  !*** ./es/textures/CompressedTexture.js ***!
  \******************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CompressedTexture=void 0;var _Texture2=__webpack_require__(/*! ./Texture */"./es/textures/Texture.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CompressedTexture=
/* */
function(_Texture){_inherits(CompressedTexture,_Texture);function CompressedTexture(mipmaps,width,height,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding){var _this;_classCallCheck(this,CompressedTexture);_this=_possibleConstructorReturn(this,(CompressedTexture.__proto__||Object.getPrototypeOf(CompressedTexture)).call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding));_this.image={width:width,height:height};_this.mipmaps=mipmaps;
/**
     * no flipping for cube textures
     * (also flipping doesn't work for compressed textures )
     * @type {boolean}
     */_this.flipY=false;
/**
     * can't generate mipmaps for compressed textures
     * mips must be embedded in DDS files
     * @type {boolean}
     */_this.generateMipmaps=false;return _this}return CompressedTexture}(_Texture2.Texture);exports.CompressedTexture=CompressedTexture;
/***/},
/***/"./es/textures/CubeTexture.js":
/*!************************************!*\
  !*** ./es/textures/CubeTexture.js ***!
  \************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CubeTexture=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Texture2=__webpack_require__(/*! ./Texture */"./es/textures/Texture.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CubeTexture=
/* */
function(_Texture){_inherits(CubeTexture,_Texture);function CubeTexture(){var _this;var images=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var mapping=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_constants.CubeReflectionMapping;var wrapS=arguments.length>2?arguments[2]:undefined;var wrapT=arguments.length>3?arguments[3]:undefined;var magFilter=arguments.length>4?arguments[4]:undefined;var minFilter=arguments.length>5?arguments[5]:undefined;var format=arguments.length>6?arguments[6]:undefined;var type=arguments.length>7?arguments[7]:undefined;var anisotropy=arguments.length>8?arguments[8]:undefined;var encoding=arguments.length>9?arguments[9]:undefined;_classCallCheck(this,CubeTexture);_this=_possibleConstructorReturn(this,(CubeTexture.__proto__||Object.getPrototypeOf(CubeTexture)).call(this,images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding));_this.flipY=false;return _this}_createClass(CubeTexture,[{key:"images",get:function get(){return this.image},set:function set(images){this.image=images}}]);return CubeTexture}(_Texture2.Texture);exports.CubeTexture=CubeTexture;
/***/},
/***/"./es/textures/DataTexture.js":
/*!************************************!*\
  !*** ./es/textures/DataTexture.js ***!
  \************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DataTexture=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Texture2=__webpack_require__(/*! ./Texture */"./es/textures/Texture.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DataTexture=
/* */
function(_Texture){_inherits(DataTexture,_Texture);function DataTexture(data,width,height,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding){var _this;_classCallCheck(this,DataTexture);_this=_possibleConstructorReturn(this,(DataTexture.__proto__||Object.getPrototypeOf(DataTexture)).call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding));_this.image={data:data,width:width,height:height};_this.magFilter=magFilter!==undefined?magFilter:_constants.NearestFilter;_this.minFilter=minFilter!==undefined?minFilter:_constants.NearestFilter;_this.generateMipmaps=false;_this.flipY=false;_this.unpackAlignment=1;return _this}return DataTexture}(_Texture2.Texture);exports.DataTexture=DataTexture;
/***/},
/***/"./es/textures/DepthTexture.js":
/*!*************************************!*\
  !*** ./es/textures/DepthTexture.js ***!
  \*************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DepthTexture=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _Texture2=__webpack_require__(/*! ./Texture */"./es/textures/Texture.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DepthTexture=
/* */
function(_Texture){_inherits(DepthTexture,_Texture);function DepthTexture(width,height,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding){var _this;_classCallCheck(this,DepthTexture);format=format!==undefined?format:_constants.DepthFormat;if(format!==_constants.DepthFormat&&format!==_constants.DepthStencilFormat){throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat")}if(type===undefined&&format===_constants.DepthFormat){type=_constants.UnsignedShortType}if(type===undefined&&format===_constants.DepthStencilFormat){type=_constants.UnsignedInt248Type}_this=_possibleConstructorReturn(this,(DepthTexture.__proto__||Object.getPrototypeOf(DepthTexture)).call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding));_this.image={width:width,height:height};_this.magFilter=magFilter!==undefined?magFilter:_constants.NearestFilter;_this.minFilter=minFilter!==undefined?minFilter:_constants.NearestFilter;_this.flipY=false;_this.generateMipmaps=false;return _this}return DepthTexture}(_Texture2.Texture);exports.DepthTexture=DepthTexture;
/***/},
/***/"./es/textures/Texture.js":
/*!********************************!*\
  !*** ./es/textures/Texture.js ***!
  \********************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Texture=void 0;var _constants=__webpack_require__(/*! ../constants */"./es/constants.js");var _EventDispatcher2=__webpack_require__(/*! ../core/EventDispatcher */"./es/core/EventDispatcher.js");var _Math=__webpack_require__(/*! ../math/Math */"./es/math/Math.js");var _Matrix=__webpack_require__(/*! ../math/Matrix3 */"./es/math/Matrix3.js");var _Vector=__webpack_require__(/*! ../math/Vector2 */"./es/math/Vector2.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var textureId=0;var Texture=
/* */
function(_EventDispatcher){_inherits(Texture,_EventDispatcher);function Texture(){var _this;var image=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Texture.DEFAULT_IMAGE;var mapping=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Texture.DEFAULT_MAPPING;var wrapS=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_constants.ClampToEdgeWrapping;var wrapT=arguments.length>3&&arguments[3]!==undefined?arguments[3]:_constants.ClampToEdgeWrapping;var magFilter=arguments.length>4&&arguments[4]!==undefined?arguments[4]:_constants.LinearFilter;var minFilter=arguments.length>5&&arguments[5]!==undefined?arguments[5]:_constants.LinearMipMapLinearFilter;var format=arguments.length>6&&arguments[6]!==undefined?arguments[6]:_constants.RGBAFormat;var type=arguments.length>7&&arguments[7]!==undefined?arguments[7]:_constants.UnsignedByteType;var anisotropy=arguments.length>8&&arguments[8]!==undefined?arguments[8]:1;var encoding=arguments.length>9&&arguments[9]!==undefined?arguments[9]:_constants.LinearEncoding;_classCallCheck(this,Texture);_this=_possibleConstructorReturn(this,(Texture.__proto__||Object.getPrototypeOf(Texture)).call(this));_this.id=textureId++;_this.uuid=_Math.MathUtil.generateUUID();_this.name="";_this.image=Texture.DEFAULT_IMAGE;_this.mipmaps=[];_this.mapping=Texture.DEFAULT_MAPPING;_this.wrapS=_constants.ClampToEdgeWrapping;_this.wrapT=_constants.ClampToEdgeWrapping;_this.magFilter=_constants.LinearFilter;_this.minFilter=_constants.LinearMipMapLinearFilter;_this.anisotropy=1;_this.format=_constants.RGBAFormat;_this.type=_constants.UnsignedByteType;_this.offset=new _Vector.Vector2(0,0);_this.repeat=new _Vector.Vector2(1,1);_this.center=new _Vector.Vector2(0,0);_this.rotation=0;_this.matrix=new _Matrix.Matrix3;_this.matrixAutoUpdate=true;_this.generateMipmaps=true;_this.premultiplyAlpha=false;_this.flipY=true;
/**
     * valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)
     * @type {number}
     */_this.unpackAlignment=4;
/**
     * Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.
     * Also changing the encoding after already used by a Material will not automatically make the Material update.
     * You need to explicitly call Material.needsUpdate to trigger it to recompile.
     */_this.encoding=_constants.LinearEncoding;_this.version=0;_this.image=image;_this.mapping=mapping;_this.wrapS=wrapS;_this.wrapT=wrapT;_this.magFilter=magFilter;_this.minFilter=minFilter;_this.format=format;_this.type=type;_this.anisotropy=anisotropy;_this.encoding=encoding;return _this}_createClass(Texture,[{key:"dispose",value:function dispose(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function transformUv(uv){if(this.mapping!==_constants.UVMapping)return this;uv.applyMatrix3(this.matrix);if(uv.x<0||uv.x>1){switch(this.wrapS){case _constants.RepeatWrapping:uv.x=uv.x-Math.floor(uv.x);break;case _constants.ClampToEdgeWrapping:uv.x=uv.x<0?0:1;break;case _constants.MirroredRepeatWrapping:if(Math.abs(Math.floor(uv.x)%2)===1){uv.x=Math.ceil(uv.x)-uv.x}else{uv.x=uv.x-Math.floor(uv.x)}break}}if(uv.y<0||uv.y>1){switch(this.wrapT){case _constants.RepeatWrapping:uv.y=uv.y-Math.floor(uv.y);break;case _constants.ClampToEdgeWrapping:uv.y=uv.y<0?0:1;break;case _constants.MirroredRepeatWrapping:if(Math.abs(Math.floor(uv.y)%2)===1){uv.y=Math.ceil(uv.y)-uv.y}else{uv.y=uv.y-Math.floor(uv.y)}break}}if(this.flipY){uv.y=1-uv.y}return this}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(source){this.name=source.name;this.image=source.image;this.mipmaps=source.mipmaps.slice(0);this.mapping=source.mapping;this.wrapS=source.wrapS;this.wrapT=source.wrapT;this.magFilter=source.magFilter;this.minFilter=source.minFilter;this.anisotropy=source.anisotropy;this.format=source.format;this.type=source.type;this.offset.copy(source.offset);this.repeat.copy(source.repeat);this.center.copy(source.center);this.rotation=source.rotation;this.matrixAutoUpdate=source.matrixAutoUpdate;this.matrix.copy(source.matrix);this.generateMipmaps=source.generateMipmaps;this.premultiplyAlpha=source.premultiplyAlpha;this.flipY=source.flipY;this.unpackAlignment=source.unpackAlignment;this.encoding=source.encoding;return this}},{key:"needsUpdate",set:function set(value){if(value===true)this.version++}}]);return Texture}(_EventDispatcher2.EventDispatcher);exports.Texture=Texture;Texture.DEFAULT_MAPPING=_constants.UVMapping;
/***/},
/***/"./es/textures/VideoTexture.js":
/*!*************************************!*\
  !*** ./es/textures/VideoTexture.js ***!
  \*************************************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VideoTexture=void 0;var _Texture2=__webpack_require__(/*! ./Texture */"./es/textures/Texture.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var VideoTexture=
/* */
function(_Texture){_inherits(VideoTexture,_Texture);function VideoTexture(video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){var _this;_classCallCheck(this,VideoTexture);_this=_possibleConstructorReturn(this,(VideoTexture.__proto__||Object.getPrototypeOf(VideoTexture)).call(this,video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy));_this.image=_Texture2.Texture.DEFAULT_IMAGE;_this.generateMipmaps=false;return _this}_createClass(VideoTexture,[{key:"update",value:function update(){var video=this.image;if(video.readyState>=video.HAVE_CURRENT_DATA){this.needsUpdate=true}return this}}]);return VideoTexture}(_Texture2.Texture);exports.VideoTexture=VideoTexture;
/***/},
/***/"./es/utils.js":
/*!*********************!*\
  !*** ./es/utils.js ***!
  \*********************/
/*! no static exports found */
/***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.arrayMin=arrayMin;exports.arrayMax=arrayMax;exports.applyMatrixToBufferAttribute=applyMatrixToBufferAttribute;exports.setBoxFromBufferAttribute=setBoxFromBufferAttribute;exports.unprojectVector3OnCamera=unprojectVector3OnCamera;exports.vectorFromBufferAttribute=vectorFromBufferAttribute;var _Matrix=__webpack_require__(/*! ./math/Matrix4 */"./es/math/Matrix4.js");var _Matrix2=__webpack_require__(/*! ./math/Matrix3 */"./es/math/Matrix3.js");var _Vector=__webpack_require__(/*! ./math/Vector3 */"./es/math/Vector3.js");var _Vector2=__webpack_require__(/*! ./math/Vector2 */"./es/math/Vector2.js");var _Vector3=__webpack_require__(/*! ./math/Vector4 */"./es/math/Vector4.js");function arrayMin(array){if(array.length===0)return Infinity;var min=array[0];for(var i=1,l=array.length;i<l;++i){if(array[i]<min)min=array[i]}return min}function arrayMax(array){if(array.length===0)return-Infinity;var max=array[0];for(var i=1,l=array.length;i<l;++i){if(array[i]>max)max=array[i]}return max}function applyMatrixToBufferAttribute(matrix,attribute){var vec=new _Vector.Vector3;for(var i=0,l=attribute.count;i<l;i++){vec.x=attribute.getProperty(i,"x");vec.y=attribute.getProperty(i,"y");vec.z=attribute.getProperty(i,"z");if(matrix instanceof _Matrix.Matrix4){vec.applyMatrix4(matrix)}else if(matrix instanceof _Matrix2.Matrix3){vec.applyMatrix3(matrix)}attribute.setProperty(i,"xyz",vec)}return attribute}function setBoxFromBufferAttribute(target,attribute){var minX=+Infinity;var minY=+Infinity;var minZ=+Infinity;var maxX=-Infinity;var maxY=-Infinity;var maxZ=-Infinity;for(var i=0,l=attribute.count;i<l;i++){var x=attribute.getProperty(i,"x");var y=attribute.getProperty(i,"y");var z=attribute.getProperty(i,"z");if(x<minX)minX=x;if(y<minY)minY=y;if(z<minZ)minZ=z;if(x>maxX)maxX=x;if(y>maxY)maxY=y;if(z>maxZ)maxZ=z}target.min.set(minX,minY,minZ);target.max.set(maxX,maxY,maxZ)}function unprojectVector3OnCamera(vector,camera){var matrix=new _Matrix.Matrix4;vector.applyMatrix4(matrix.multiplyMatrices(camera.matrixWorld,matrix.getInverse(camera.projectionMatrix)));return vector}function vectorFromBufferAttribute(vector,attribute){var index=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(vector instanceof _Vector2.Vector2){return vector.set(attribute.getProperty(index,"x"),attribute.getProperty(index,"y"))}else if(vector instanceof _Vector.Vector3){return vector.set(attribute.getProperty(index,"x"),attribute.getProperty(index,"y"),attribute.getProperty(index,"z"))}else if(vector instanceof _Vector3.Vector4){return vector.set(attribute.getProperty(index,"x"),attribute.getProperty(index,"y"),attribute.getProperty(index,"z"),attribute.getProperty(index,"w"))}return vector}
/***/}
/******/});
//# sourceMappingURL=three.js.map